(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9803],{36577:(e,n,i)=>{"use strict";i.d(n,{A:()=>h});var t=i(37876),a=i(89099),l=i(67578),o=i(86650),r=i(22474),s=i(47737),d=i(94810),c=i(77018),u=i(54538),p=i(42120),m=i(2303);let h=e=>{let{title:n,backButtonTitle:i="Back",children:h,cardSize:y="xl",hideTitleText:b=!1,hideBackButton:g=!1,noTenantInHead:x=!1,infoBar:A}=e,v=(0,a.useRouter)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.v,{title:n,noTenant:x}),(0,t.jsx)(l.A,{sx:{flexGrow:1,py:4},children:(0,t.jsx)(o.A,{maxWidth:y,children:(0,t.jsxs)(r.A,{spacing:2,children:[(0,t.jsxs)(r.A,{spacing:2,children:[(0,t.jsx)("div",{children:!g&&(0,t.jsx)(s.A,{color:"inherit",onClick:()=>{v.back()},startIcon:(0,t.jsx)(d.A,{fontSize:"small",children:(0,t.jsx)(p.A,{})}),children:i})}),!0!==b&&(0,t.jsx)("div",{children:(0,t.jsx)(c.A,{variant:"h4",children:n})})]}),A,(0,t.jsx)(u.A,{children:h})]})})})]})}},40673:(e,n,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cipp/integrations/configure",function(){return i(71814)}])},41055:(e,n,i)=>{"use strict";i.d(n,{A:()=>a});var t=i(14232);let a=t.forwardRef(function(e,n){let{title:i,titleId:a,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),i?t.createElement("title",{id:a},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})},42120:(e,n,i)=>{"use strict";i.d(n,{A:()=>l});var t=i(93944),a=i(37876);let l=(0,t.A)((0,a.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft")},62051:(e,n,i)=>{"use strict";i.d(n,{A:()=>l});var t=i(93944),a=i(37876);let l=(0,t.A)((0,a.jsx)("path",{d:"M21 10h-8.35C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H13l2 2 2-2 2 2 4-4.04zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3"}),"Key")},65868:(e,n,i)=>{"use strict";i.d(n,{A:()=>a});var t=i(14232);let a=t.forwardRef(function(e,n){let{title:i,titleId:a,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),i?t.createElement("title",{id:a},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})},68978:(e,n,i)=>{"use strict";i.d(n,{K:()=>l});var t=i(37876),a=i(67578);let l=e=>{let{children:n,value:i,index:l,...o}=e;return(0,t.jsx)("div",{role:"tabpanel",hidden:i!==l,id:"simple-tabpanel-".concat(l),"aria-labelledby":"simple-tab-".concat(l),...o,children:i===l&&(0,t.jsx)(a.A,{children:n})})}},71814:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>ed});var t=i(37876),a=i(24933),l=i(22474),o=i(76776),r=i(67578),s=i(77018),d=i(46061),c=i(47737),u=i(8578),p=i(76626),m=i(59568),h=i(76386),y=i(58105),b=i(88992),g=i(17825),x=i(22322),A=i(89099),v=i(83173),f=i(14232),j=i(46402);let P=e=>{var n;let{children:i}=e,l=(0,A.useRouter)(),o=null===(n=(0,g.t)().currentTheme)||void 0===n?void 0:n.value,s=(0,x.R_)({url:"/api/ListExtensionsConfig",queryKey:"Integrations",refetchOnMount:!1,refetchOnReconnect:!1}),d=(0,b.mN)({mode:"onChange",defaultValues:null==s?void 0:s.data}),c=v.find(e=>e.id===l.query.id),u=d.watch("".concat(null==c?void 0:c.id,".Enabled"));return null==c||c.logo,"dark"===o&&(null==c?void 0:c.logoDark)&&c.logoDark,(0,f.useEffect)(()=>{s.isSuccess&&(d.reset({...s.data}),d.trigger())},[s.isSuccess]),(0,t.jsx)(t.Fragment,{children:s.isSuccess&&c?(0,t.jsxs)(h.A,{relatedQueryKeys:"Integrations",formControl:d,formPageType:"Integration",title:c.name,backButtonTitle:"Integrations",postUrl:"/api/ExecExtensionsConfig",resetForm:!1,children:[i,(0,t.jsx)(m.A,{container:!0,sx:{alignItems:"center"},children:c.SettingOptions.map((e,n)=>(0,t.jsx)(f.Fragment,{children:(null==e?void 0:e.condition)?(0,t.jsx)(j.A,{...e.condition,formControl:d,disabled:c.SettingOptions.find(e=>e.name==="".concat(c.id,".Enabled"))&&!u,children:(0,t.jsx)(m.A,{size:{xs:12,md:"switch"===e.type?12:6},children:(0,t.jsx)(r.A,{sx:{p:1},children:(0,t.jsx)(y.A,{name:e.name,type:e.type,label:e.label,options:e.options,formControl:d,placeholder:null==e?void 0:e.placeholder,fullWidth:!0,...e})})})}):(0,t.jsx)(m.A,{size:{xs:12,md:"switch"===e.type?12:6},children:(0,t.jsx)(r.A,{sx:{p:1},children:(0,t.jsx)(y.A,{name:e.name,type:e.type,label:e.label,options:e.options,formControl:d,placeholder:null==e?void 0:e.placeholder,fullWidth:!0,...e})})})},n))})]}):(0,t.jsxs)(a.A,{children:[s.isLoading&&(0,t.jsx)(r.A,{children:"Loading..."}),s.isSuccess&&!c&&(0,t.jsx)(m.A,{container:!0,spacing:3,children:(0,t.jsx)(m.A,{size:{xs:12},children:(0,t.jsx)(r.A,{sx:{p:3},children:(0,t.jsx)(r.A,{sx:{textAlign:"center"},children:"Extension not found"})})})})]})})};var w=i(12435);let C=f.forwardRef(function(e,n){let{title:i,titleId:t,...a}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),i?f.createElement("title",{id:t},i):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))});var E=i(81151),T=i(69729),S=i(94810),I=i(68723),R=i(36577),k=i(22430),F=i(17675),H=i(31540),N=i(41055),q=i(78750),D=i(39694),O=i(35764),K=i(39802),L=i(79259);let M=e=>{var n,i;let{children:d}=e,u=(0,A.useRouter)(),[p,h]=(0,f.useState)([]),g=(0,x.R_)({url:"/api/ExecExtensionMapping",data:{List:u.query.id},queryKey:"IntegrationTenantMapping-".concat(u.query.id)}),j=(0,x.Zs)({url:"/api/ListTenants",data:{AllTenantSelector:!1},queryKey:"ListTenants-notAllTenants"}),P=(0,b.mN)({mode:"onChange",defaultValues:null==g?void 0:g.data}),w=(0,x.nN)({datafromUrl:!0}),C=(0,x.nN)({datafromUrl:!0,relatedQueryKeys:["IntegrationTenantMapping-".concat(u.query.id)]}),E=()=>{let e=P.getValues("tenantFilter"),n=P.getValues("integrationCompany");!(!e||!n||(null==p?void 0:p.find(n=>n.TenantId===e.addedFields.customerId)))&&h([...p,{TenantId:e.value,Tenant:e.label,IntegrationName:n.label,IntegrationId:n.value,TenantDomain:e.addedFields.defaultDomainName}])},T=()=>{var e,n;let i=[];null===(n=j.data)||void 0===n||null===(e=n.pages[0])||void 0===e||e.forEach(e=>{let n=g.data.Companies.find(n=>n.name===e.displayName);!(Array.isArray(p)&&(null==p?void 0:p.find(n=>n.TenantId===e.customerId)))&&n&&i.push({TenantId:e.customerId,Tenant:e.displayName,TenantDomain:e.defaultDomainName,IntegrationName:n.name,IntegrationId:n.value})}),Array.isArray(p)?h([...p,...i]):h(i),M.autoMapSyncApi&&w.mutate({url:"/api/ExecExtensionMapping?AutoMapping=".concat(u.query.id),queryKey:"IntegrationTenantMapping-".concat(u.query.id)})},R=[{label:"Delete Mapping",icon:(0,t.jsx)(N.A,{}),confirmText:"Are you sure you want to delete this mapping?",customFunction:e=>{if(void 0===e)return!1;let n=[...p];if(Array.isArray(e))e.forEach(e=>{let i=n.findIndex(n=>n===e);-1!==i&&n.splice(i,1)});else{let i=n.findIndex(n=>n===e);-1!==i&&n.splice(i,1)}h(n)}}],M=v.find(e=>e.id===u.query.id);return(0,f.useEffect)(()=>{if(g.isSuccess){var e;h(null!==(e=g.data.Mappings)&&void 0!==e?e:[])}},[g.isSuccess]),(0,t.jsx)(t.Fragment,{children:g.isSuccess&&M?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.A,{children:[(0,t.jsx)(s.A,{variant:"h5",sx:{mb:3},children:"Add a Tenant Mapping"}),(0,t.jsxs)(m.A,{container:!0,spacing:2,sx:{alignItems:"center",mb:3},children:[(0,t.jsx)(m.A,{size:{md:4,xs:12},children:(0,t.jsx)(r.A,{sx:{my:"auto"},children:(0,t.jsx)(O.w,{formControl:P,multiple:!1,required:!1,disableClearable:!1,removeOptions:p.map(e=>e.TenantId),valueField:"customerId"})})}),(0,t.jsx)(m.A,{children:(0,t.jsx)(r.A,{sx:{my:"auto"},children:(0,t.jsx)(S.A,{children:(0,t.jsx)(K.A,{})})})}),(0,t.jsx)(m.A,{size:{md:4,xs:12},children:(0,t.jsx)(y.o,{type:"autoComplete",fullWidth:!0,name:"integrationCompany",formControl:P,placeholder:"Select ".concat(M.name," Company"),options:null==g?void 0:null===(i=g.data)||void 0===i?void 0:null===(n=i.Companies)||void 0===n?void 0:n.map(e=>({label:e.name,value:e.value})),creatable:!1,multiple:!1,isFetching:g.isFetching,sortOptions:!0})}),(0,t.jsx)(m.A,{children:(0,t.jsxs)(l.A,{direction:"row",spacing:1,children:[(0,t.jsx)(k.A,{title:"Add Mapping",children:(0,t.jsx)(c.A,{size:"small",onClick:()=>E(),variant:"contained",children:(0,t.jsx)(S.A,{children:(0,t.jsx)(q.A,{})})})}),(0,t.jsx)(k.A,{title:"Automap Companies",children:(0,t.jsx)(c.A,{size:"small",onClick:()=>T(),variant:"contained",children:(0,t.jsx)(S.A,{children:(0,t.jsx)(D.A,{})})})}),(0,t.jsx)(k.A,{title:"Refresh Integration Mapping",children:(0,t.jsx)(c.A,{size:"small",onClick:()=>{g.refetch()},variant:"contained",children:(0,t.jsx)(S.A,{children:(0,t.jsx)(L.A,{})})})})]})})]}),(0,t.jsx)(I.v,{apiObject:w}),(0,t.jsx)(r.A,{sx:{borderTop:1,borderColor:"divider"},children:(0,t.jsx)(H.x,{actions:R,noCard:!0,reportTitle:"".concat(M.id,"-tenant-map"),data:p,simple:!1,simpleColumns:["IntegrationName","Tenant","TenantDomain"],isFetching:g.isFetching,refreshFunction:()=>g.refetch()})}),(0,t.jsx)(I.v,{apiObject:C})]}),(0,t.jsx)(F.A,{sx:{justifyContent:"flex-end"},children:(0,t.jsx)(c.A,{disabled:C.isPending,onClick:P.handleSubmit(()=>{C.mutate({url:"/api/ExecExtensionMapping?AddMapping=".concat(u.query.id),data:p})}),type:"submit",variant:"contained",children:"Submit"})})]}):(0,t.jsxs)(a.A,{children:[g.isLoading&&(0,t.jsx)(r.A,{children:(0,t.jsxs)(m.A,{container:!0,spacing:3,children:[(0,t.jsx)(m.A,{size:{xs:12},children:(0,t.jsx)(r.A,{children:(0,t.jsx)(o.A,{variant:"rectangular",height:60})})}),(0,t.jsx)(m.A,{size:{xs:12},children:(0,t.jsx)(r.A,{children:(0,t.jsx)(o.A,{variant:"rectangular",height:60})})}),(0,t.jsx)(m.A,{size:{xs:12},children:(0,t.jsx)(r.A,{children:(0,t.jsx)(o.A,{variant:"rectangular",height:300})})})]})}),g.isSuccess&&!M&&(0,t.jsx)(m.A,{container:!0,spacing:3,children:(0,t.jsx)(m.A,{size:{xs:12},children:(0,t.jsx)(r.A,{sx:{p:3},children:(0,t.jsx)(r.A,{sx:{textAlign:"center"},children:"Extension not found"})})})})]})})};var V=i(71538),B=i(82179);let W=()=>{var e,n;let i=(0,A.useRouter)(),l=(0,x.R_)({url:"/api/ExecExtensionMapping",data:{List:"".concat(i.query.id,"Fields")},queryKey:"IntegrationFieldMapping-".concat(i.query.id)}),u=(0,b.mN)({mode:"onChange"}),p=v.find(e=>e.id===i.query.id),[g,j]=(0,f.useState)([]);return(0,f.useEffect)(()=>{if(l.isSuccess){var e,n,i={},t=[];null==l||null===(n=l.data)||void 0===n||null===(e=n.Mappings)||void 0===e||e.forEach(e=>{var n,a,o,r;if(null==l?void 0:null===(a=l.data)||void 0===a?void 0:null===(n=a.IntegrationFields)||void 0===n?void 0:n.some(n=>String(n.value)===e.IntegrationId))i[e.RowKey]={label:null==e?void 0:e.IntegrationName,value:null==e?void 0:e.IntegrationId};else if(""===e.IntegrationId)i[e.RowKey]={label:"--- Do not synchronize ---",value:null};else{let n=null==l?void 0:null===(r=l.data)||void 0===r?void 0:null===(o=r.CIPPFields)||void 0===o?void 0:o.find(n=>n.FieldName===e.RowKey);n&&t.push(n.FieldLabel)}}),j(t),u.reset({...i}),u.trigger()}},[l.isSuccess,null==l?void 0:l.data]),(0,t.jsx)(t.Fragment,{children:l.isSuccess&&p?(0,t.jsx)(h.A,{queryKey:"IntegrationFieldMapping-".concat(i.query.id,"-Post"),relatedQueryKeys:["IntegrationFieldMapping-".concat(i.query.id)],formControl:u,title:p.name,backButtonTitle:"Integrations",postUrl:"/api/ExecExtensionMapping?AddMapping=".concat(i.query.id,"Fields"),resetForm:!1,children:(0,t.jsxs)(t.Fragment,{children:[null==l?void 0:null===(n=l.data)||void 0===n?void 0:null===(e=n.CIPPFieldHeaders)||void 0===e?void 0:e.map((e,n)=>{var i,a;return(0,t.jsxs)(f.Fragment,{children:[(0,t.jsxs)(B.A,{direction:"row",justifyContent:"space-between",children:[(0,t.jsxs)(r.A,{children:[(0,t.jsx)(s.A,{variant:"h4",children:e.Title}),(0,t.jsx)(s.A,{variant:"body2",sx:{mb:2},children:e.Description})]}),0===n&&(0,t.jsx)(r.A,{children:(0,t.jsx)(k.A,{title:"Refresh Mappings",children:(0,t.jsx)(c.A,{onClick:()=>{l.refetch()},variant:"contained",children:(0,t.jsx)(L.A,{})})})})]}),(0,t.jsx)(V.A,{}),(0,t.jsx)(m.A,{container:!0,spacing:3,sx:{my:3},children:null==l?void 0:null===(a=l.data)||void 0===a?void 0:null===(i=a.CIPPFields)||void 0===i?void 0:i.filter(n=>n.FieldType===e.FieldType).map((e,i)=>{var a,o,r;return(0,t.jsx)(m.A,{size:{xs:12,md:6},children:(0,t.jsx)(y.A,{name:e.FieldName,type:"autoComplete",label:e.FieldLabel,options:null==l?void 0:null===(r=l.data)||void 0===r?void 0:null===(o=r.IntegrationFields)||void 0===o?void 0:null===(a=o.filter(n=>(null==n?void 0:n.type)===e.Type&&(null==n?void 0:n.FieldType)===e.FieldType||(null==n?void 0:n.type)==="unset"))||void 0===a?void 0:a.map(e=>({label:null==e?void 0:e.name,value:null==e?void 0:e.value})),formControl:u,multiple:!1,creatable:!1,fullWidth:!0,isFetching:l.isFetching,disableClearable:!0})},"field-".concat(n,"-").concat(i))})})]},"header-".concat(n))}),g.length>0&&(0,t.jsxs)(d.A,{severity:"warning",children:["The following mappings are missing: ",g.join(", ")]})]})}):(0,t.jsxs)(a.A,{children:[l.isLoading&&(0,t.jsx)(r.A,{children:(0,t.jsxs)(m.A,{container:!0,spacing:3,children:[(0,t.jsx)(m.A,{size:{xs:12},children:(0,t.jsx)(r.A,{children:(0,t.jsx)(o.A,{variant:"rectangular",height:60})})}),(0,t.jsx)(m.A,{size:{xs:12},children:(0,t.jsx)(r.A,{children:(0,t.jsx)(o.A,{variant:"rectangular",height:60})})})]})}),l.isSuccess&&!p&&(0,t.jsx)(m.A,{container:!0,spacing:3,children:(0,t.jsx)(m.A,{size:{xs:12},children:(0,t.jsx)(r.A,{sx:{p:3},children:(0,t.jsx)(r.A,{sx:{textAlign:"center"},children:"Extension not found"})})})})]})})};var z=i(68978),G=i(52808),U=i(6003),_=i(93256),Z=i(41946),Q=i.n(Z),Y=i(65868);let X=f.forwardRef(function(e,n){let{title:i,titleId:t,...a}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),i?f.createElement("title",{id:t},i):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))});var J=i(54550),$=i(79803),ee=i(62051);let en=(0,i(93944).A)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create");var ei=i(409),et=i(5419),ea=i(84177),el=i(89037);let eo=()=>{var e,n,i,a,o,r,s,u,p,m,h,y,g,A,v,j,P,w,C,E,T,R;let[k,F]=(0,f.useState)(!1),[D,O]=(0,f.useState)(!1),[K,M]=(0,f.useState)(null);(0,b.mN)({mode:"onChange"});let V=(0,x.nN)({datafromUrl:!0,relatedQueryKeys:["ApiClients","AzureConfiguration"]}),B=(0,x.R_)({url:"/api/ExecApiClient",data:{Action:"GetAzureConfiguration"},queryKey:"AzureConfiguration"}),W=(0,x.Zs)({url:"/api/ExecApiClient",data:{Action:"List"},queryKey:"ApiClients"}),z=()=>{M(null)},Z=[{label:"Edit",icon:(0,t.jsx)(S.A,{children:(0,t.jsx)(Y.A,{})}),confirmText:"Update the API client settings for [AppName]?",hideBulk:!0,setDefaultValues:!0,fields:[{type:"autoComplete",name:"Role",multiple:!1,creatable:!1,label:"Select Role",placeholder:"Choose a role from the CIPP Role list.",api:{url:"/api/ListCustomRole",queryKey:"CustomRoleList",labelField:"RoleName",valueField:"RoleName",showRefresh:!0}},{type:"autoComplete",name:"IPRange",multiple:!0,freeSolo:!0,creatable:!0,options:[],label:"Enter IP Range (Single hosts or CIDR notation)",placeholder:"Type in the IP addresses and hit enter."},{type:"switch",name:"Enabled",label:"Enable this client"}],type:"POST",url:"/api/ExecApiClient",data:{Action:"AddUpdate",ClientId:"ClientId"},relatedQueryKeys:["ApiClients"]},{label:"Reset Application Secret",icon:(0,t.jsx)(ee.A,{}),confirmText:"Are you sure you want to reset the application secret for [AppName]?",type:"POST",url:"/api/ExecApiClient",data:{Action:"ResetSecret",ClientId:"ClientId"},hideBulk:!0},{label:"Copy API Scope",icon:(0,t.jsx)(X,{}),noConfirm:!0,customFunction:(e,n,i)=>{var t="api://".concat(e.ClientId,"/.default");navigator.clipboard.writeText(t)},hideBulk:!0},{label:"Delete Client",icon:(0,t.jsx)(N.A,{}),confirmText:"Are you sure you want to delete [AppName]?",type:"POST",url:"/api/ExecApiClient",data:{Action:"Delete",ClientId:"ClientId"},fields:[{type:"switch",name:"RemoveAppReg",label:"Remove App Registration"}],relatedQueryKeys:["ApiClients"],multiPost:!1}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.A,{spacing:1,children:[(0,t.jsx)(et.a,{title:"Function Authentication",actionButton:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{onClick:e=>{M(e.currentTarget)},variant:"outlined",startIcon:(0,t.jsx)(S.A,{children:(0,t.jsx)(J.A,{})}),children:"Actions"}),(0,t.jsxs)(G.A,{anchorEl:K,open:!!K,onClose:z,children:[(0,t.jsxs)(U.A,{onClick:()=>{z(),F(!0)},children:[(0,t.jsx)(S.A,{fontSize:"small",sx:{minWidth:"30px"},children:(0,t.jsx)(en,{})}),(0,t.jsx)(_.A,{children:"Create New Client"})]}),(0,t.jsxs)(U.A,{onClick:()=>{z(),O(!0)},children:[(0,t.jsx)(S.A,{fontSize:"small",sx:{minWidth:"30px"},children:(0,t.jsx)(q.A,{})}),(0,t.jsx)(_.A,{children:"Add Existing Client"})]}),(0,t.jsxs)(U.A,{onClick:()=>{B.refetch(),z()},children:[(0,t.jsx)(S.A,{fontSize:"small",sx:{minWidth:"30px"},children:(0,t.jsx)(L.A,{})}),(0,t.jsx)(_.A,{children:"Refresh Configuration"})]}),(0,t.jsxs)(U.A,{onClick:()=>{V.mutate({url:"/api/ExecApiClient?action=SaveToAzure",data:{}}),z()},children:[(0,t.jsx)(S.A,{fontSize:"small",sx:{minWidth:"30px"},children:(0,t.jsx)(ei.A,{})}),(0,t.jsx)(_.A,{children:"Save to Azure"})]})]})]}),propertyItems:[{label:"Microsoft Authentication Enabled",value:null===(n=B.data)||void 0===n?void 0:null===(e=n.Results)||void 0===e?void 0:e.Enabled},{label:"API Url",value:(null===(a=B.data)||void 0===a?void 0:null===(i=a.Results)||void 0===i?void 0:i.ApiUrl)?(0,t.jsx)(ea.R,{type:"chip",text:null===(r=B.data)||void 0===r?void 0:null===(o=r.Results)||void 0===o?void 0:o.ApiUrl}):"Not Available"},{label:"Token URL",value:(null===(u=B.data)||void 0===u?void 0:null===(s=u.Results)||void 0===s?void 0:s.TenantID)?(0,t.jsx)(ea.R,{type:"chip",text:"https://login.microsoftonline.com/".concat(null===(m=B.data)||void 0===m?void 0:null===(p=m.Results)||void 0===p?void 0:p.TenantID,"/oauth2/v2.0/token")}):"Not Available"},{label:"Tenant ID",value:(null===(y=B.data)||void 0===y?void 0:null===(h=y.Results)||void 0===h?void 0:h.TenantID)?(0,t.jsx)(ea.R,{type:"chip",text:null===(A=B.data)||void 0===A?void 0:null===(g=A.Results)||void 0===g?void 0:g.TenantID}):"Not Available"}],layout:"dual",showDivider:!1,isFetching:B.isFetching}),B.isSuccess&&(0,t.jsx)(t.Fragment,{children:!Q()(null===(w=W.data)||void 0===w?void 0:null===(P=w.pages)||void 0===P?void 0:null===(j=P[0])||void 0===j?void 0:null===(v=j.Results)||void 0===v?void 0:v.filter(e=>e.Enabled).map(e=>e.ClientId).sort(),((null===(E=B.data)||void 0===E?void 0:null===(C=E.Results)||void 0===C?void 0:C.ClientIDs)||[]).sort())&&(0,t.jsx)(el.A,{sx:{px:3},children:(0,t.jsx)(d.A,{severity:"warning",children:"You have unsaved changes. Click Actions > Save Azure Configuration to update the allowed API Clients."})})}),B.isSuccess&&(null===(R=B.data)||void 0===R?void 0:null===(T=R.Results)||void 0===T?void 0:T.Enabled)===!1&&(0,t.jsx)(el.A,{sx:{px:3},children:(0,t.jsx)(d.A,{severity:"warning",children:"Microsoft Authentication is disabled. Configure API Clients and click Actions > Save Azure Configuration."})}),(0,t.jsx)(el.A,{sx:{px:3},children:(0,t.jsx)(I.v,{apiObject:V})}),(0,t.jsx)(H.x,{actions:Z,title:"CIPP-API Clients",api:{url:"/api/ExecApiClient",data:{Action:"List"},dataKey:"Results"},simpleColumns:["Enabled","AppName","ClientId","Role","IPRange"],queryKey:"ApiClients"})]}),(0,t.jsx)($.B,{createDialog:{open:k,handleClose:()=>F(!1)},title:"Add Client",fields:[{type:"textField",name:"AppName",label:"App Name",placeholder:"Enter a name for this Application Registration."},{type:"autoComplete",name:"Role",multiple:!1,creatable:!1,label:"Select Role",api:{url:"/api/ListCustomRole",queryKey:"CustomRoleList",labelField:"RoleName",valueField:"RoleName",showRefresh:!0},placeholder:"Choose a role from the CIPP Role list."},{type:"autoComplete",name:"IPRange",multiple:!0,freeSolo:!0,creatable:!0,options:[],label:"Enter IP Ranges (Single hosts or CIDR notation)",placeholder:"Type in the IP addresses and hit enter."},{type:"switch",name:"Enabled",label:"Enable this client"}],api:{type:"POST",url:"/api/ExecApiClient",data:{Action:"AddUpdate"},relatedQueryKeys:["ApiClients"]}}),(0,t.jsx)($.B,{createDialog:{open:D,handleClose:()=>O(!1)},title:"Add Existing App",fields:[{type:"autoComplete",name:"ClientId",label:"Existing App",placeholder:"Select an existing API application.",api:{type:"GET",url:"/api/ExecApiClient",data:{Action:"ListAvailable"},queryKey:"AvailableApiApps",dataKey:"Results",labelField:e=>"".concat(e.displayName," (").concat(e.appId,")"),valueField:"appId",addedField:{displayName:"displayName",createdDateTime:"createdDateTime"},showRefresh:!0},creatable:!1,multiple:!1},{type:"autoComplete",name:"Role",multiple:!1,creatable:!1,label:"Select Role",placeholder:"Choose a role from the CIPP Role list.",api:{url:"/api/ListCustomRole",queryKey:"CustomRoleList",labelField:"RoleName",valueField:"RoleName",showRefresh:!0}},{type:"autoComplete",name:"IPRange",multiple:!0,freeSolo:!0,creatable:!0,options:[],label:"Enter IP Ranges (Single hosts or CIDR notation)",placeholder:"Type in the IP addresses and hit enter."},{type:"switch",name:"Enabled",label:"Enable this client"}],api:{type:"POST",url:"/api/ExecApiClient",data:{Action:"!AddUpdate"},relatedQueryKeys:["ApiClients"]}})]})};function er(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}let es=()=>{let e=(0,A.useRouter)(),n=null===(K=(0,g.t)().currentTheme)||void 0===K?void 0:K.value,[i,m]=(0,f.useState)(0),h=(0,x.R_)({url:"/api/ListExtensionsConfig",queryKey:"Integrations",refetchOnMount:!1,refetchOnReconnect:!1}),[y,j]=(0,f.useState)({url:"",waiting:!1,queryKey:""}),w=(0,x.R_)({...y}),k=()=>{y.waiting&&w.refetch(),j({url:"/api/ExecExtensionTest",data:{extensionName:e.query.id},waiting:!0,queryKey:"ExecExtensionTest-".concat(e.query.id)})},[F,H]=(0,f.useState)({url:"",waiting:!1,queryKey:""}),N=(0,x.R_)({...F}),q=()=>{H({url:"/api/ExecExtensionSync",data:{Extension:e.query.id},waiting:!0,queryKey:"ExecExtensionSync-".concat(e.query.id)})},D=(0,b.mN)({mode:"onChange",defaultValues:null==h?void 0:h.data}),O=v.find(n=>n.id===e.query.id)||{};var K,L,V,B,G,U,_,Z,Q,Y,X,J,$,ee=null==O?void 0:O.logo;return"dark"===n&&(null==O?void 0:O.logoDark)&&(ee=O.logoDark),(0,f.useEffect)(()=>{h.isSuccess&&(D.reset({...h.data}),D.trigger())},[h.isSuccess]),(0,t.jsxs)(t.Fragment,{children:[h.isLoading&&(0,t.jsx)(R.A,{title:"Integrations",headerText:O.headerText,hideTitleText:!0,children:(0,t.jsx)(a.A,{children:(0,t.jsxs)(l.A,{spacing:2,children:[(0,t.jsx)(o.A,{variant:"rectangular",height:150}),(0,t.jsx)(o.A,{variant:"rectangular",height:150}),(0,t.jsx)(o.A,{variant:"rectangular",height:400})]})})}),h.isSuccess&&O&&(0,t.jsxs)(R.A,{title:O.name,backButtonTitle:"Integrations",headerText:O.headerText,hideTitleText:!0,children:[(0,t.jsxs)(a.A,{sx:{pb:0,mb:0},children:[ee&&(0,t.jsx)(r.A,{component:"img",src:ee,alt:O.name,sx:{maxWidth:"50%",mx:"auto",maxHeight:"125px"}}),(0,t.jsx)(s.A,{variant:"body2",paragraph:!0,style:{marginTop:"1em"},children:O.helpText}),(null==O?void 0:O.alertText)&&(0,t.jsx)(d.A,{severity:"warning",sx:{mb:2},children:O.alertText}),(0,t.jsxs)(l.A,{direction:"row",spacing:2,sx:{mb:2,display:"flex",alignItems:"center"},children:[(null==O?void 0:O.hideTestButton)!==!0&&(0,t.jsx)(r.A,{children:(0,t.jsxs)(c.A,{variant:"contained",color:"primary",onClick:()=>k(),disabled:(null==w?void 0:w.isLoading)||(null==O?void 0:null===(L=O.SettingOptions)||void 0===L?void 0:L.find(e=>(null==e?void 0:e.name)==="".concat(O.id,".Enabled")))&&(null==h?void 0:null===(B=h.data)||void 0===B?void 0:null===(V=B[O.id])||void 0===V?void 0:V.Enabled)!==!0,children:[(0,t.jsx)(S.A,{fontSize:"small",style:{marginRight:"8"},children:(0,t.jsx)(C,{})}),"Test"]})}),(null==O?void 0:O.forceSyncButton)&&(0,t.jsx)(r.A,{children:(0,t.jsxs)(c.A,{variant:"contained",color:"primary",onClick:()=>q(),disabled:N.isLoading||(null==O?void 0:null===(G=O.SettingOptions)||void 0===G?void 0:G.find(e=>(null==e?void 0:e.name)==="".concat(O.id,".Enabled")))&&(null==h?void 0:null===(_=h.data)||void 0===_?void 0:null===(U=_[O.id])||void 0===U?void 0:U.Enabled)!==!0,children:[(0,t.jsx)(S.A,{fontSize:"small",style:{marginRight:"8"},children:(0,t.jsx)(E.A,{})}),"Force Sync"]})}),(null==O?void 0:O.links)&&(0,t.jsx)(t.Fragment,{children:O.links.map((e,n)=>(0,t.jsx)(r.A,{children:(0,t.jsxs)(c.A,{href:e.url,target:"_blank",rel:"noreferrer",color:"inherit",children:[(0,t.jsx)(S.A,{fontSize:"small",style:{marginRight:"8"},children:(0,t.jsx)(T.A,{})}),e.name]})},n))})]}),(0,t.jsx)(I.v,{apiObject:w}),(0,t.jsx)(I.v,{apiObject:N})]}),(0,t.jsxs)(r.A,{sx:{width:"100%"},children:[(0,t.jsx)(r.A,{sx:{borderBottom:1,borderColor:"divider",px:"24px",m:"auto"},children:(0,t.jsxs)(u.A,{value:i,onChange:(e,n)=>{m(n)},"aria-label":"Integration settings",children:[(0,t.jsx)(p.A,{label:"Settings",...er(0)}),(null==O?void 0:O.mappingRequired)&&(0,t.jsx)(p.A,{label:"Tenant Mapping",...er(1),disabled:(null==O?void 0:null===(Z=O.SettingOptions)||void 0===Z?void 0:Z.find(e=>(null==e?void 0:e.name)==="".concat(O.id,".Enabled")))&&(null==h?void 0:null===(Y=h.data)||void 0===Y?void 0:null===(Q=Y[O.id])||void 0===Q?void 0:Q.Enabled)!==!0}),(null==O?void 0:O.fieldMapping)&&(0,t.jsx)(p.A,{label:"Field Mapping",...er(2),disabled:(null==O?void 0:null===(X=O.SettingOptions)||void 0===X?void 0:X.find(e=>e.name==="".concat(O.id,".Enabled")))&&(null==h?void 0:null===($=h.data)||void 0===$?void 0:null===(J=$[O.id])||void 0===J?void 0:J.Enabled)!==!0})]})}),(0,t.jsx)(z.K,{value:i,index:0,children:(null==O?void 0:O.id)==="cippapi"?(0,t.jsx)(eo,{}):(0,t.jsx)(P,{})}),(null==O?void 0:O.mappingRequired)&&(0,t.jsx)(z.K,{value:i,index:1,children:(0,t.jsx)(M,{})}),(null==O?void 0:O.fieldMapping)&&(0,t.jsx)(z.K,{value:i,index:2,children:(0,t.jsx)(W,{})})]})]})]})};es.getLayout=e=>(0,t.jsx)(w.P,{children:e});let ed=es},76386:(e,n,i)=>{"use strict";i.d(n,{A:()=>u});var t=i(37876),a=i(24933),l=i(17675),o=i(47737),r=i(22322),s=i(68723),d=i(14232),c=i(88992);let u=e=>{let{children:n,queryKey:i,formControl:u,postUrl:p,customDataformatter:m,relatedQueryKeys:h,resetForm:y=!0}=e,b=(0,r.nN)({datafromUrl:!0,relatedQueryKeys:h}),{isValid:g}=(0,c.lN)({control:u.control});return(0,d.useEffect)(()=>{b.isSuccess&&y&&u.reset()},[b.isSuccess]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.A,{children:[n,(0,t.jsx)(s.v,{apiObject:b})]}),(0,t.jsx)(l.A,{sx:{justifyContent:"flex-end"},children:(0,t.jsx)(o.A,{disabled:b.isPending||!g,onClick:u.handleSubmit(()=>{if(!g)return;let e=u.getValues();m&&(e=m(e)),b.mutate({url:p,data:e,queryKey:i})}),type:"submit",variant:"contained",children:"Submit"})})]})}},78750:(e,n,i)=>{"use strict";i.d(n,{A:()=>a});var t=i(14232);let a=t.forwardRef(function(e,n){let{title:i,titleId:a,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),i?t.createElement("title",{id:a},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"}))})},83173:e=>{"use strict";e.exports=JSON.parse('[{"name":"CIPP-API","id":"cippapi","type":"CIPP-API","cat":"API","logo":"/assets/integrations/cipp-api.png","forceSyncButton":false,"hideTestButton":true,"description":"The CIPP API allows you to access CIPP data outside of CIPP using a RESTful API.","helpText":"This integration allows you to enable CIPP-API access outside of CIPP. This is useful for integrations with other systems or custom scripts.","links":[{"name":"CIPP API Documentation","url":"https://docs.cipp.app/api-documentation/setup-and-authentication"}],"mappingRequired":false},{"name":"Sherweb","id":"Sherweb","type":"Sherweb","cat":"CSP","logo":"/assets/integrations/sherweb.png","logoDark":"/assets/integrations/sherweb_dark.png","description":"Enable the Sherweb integration to manage your CSP licensing from CIPP.","helpText":"This integration allows you to manage your CSP licensing from CIPP. Purchase new licenses while adding or editing users in CIPP. Not a Sherweb partner? Sign up for the Sherweb Cloud Services for MSPs program.","mappingRequired":true,"links":[{"name":"Sherweb Cloud Services for MSPs","url":"https://info.sherweb.com/sherweb-cloud-services-for-msps"}],"SettingOptions":[{"type":"switch","name":"Sherweb.Enabled","label":"Enable Integration"},{"type":"textField","name":"Sherweb.clientId","label":"Client ID","placeholder":"Enter your Sherweb Client ID","required":true,"condition":{"field":"Sherweb.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"textField","name":"Sherweb.SubscriptionKey","label":"Subscription Key","placeholder":"Enter your Sherweb Subscription Key","required":true,"condition":{"field":"Sherweb.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"password","name":"Sherweb.APIKey","label":"Client Secret","placeholder":"Enter your Sherweb Client Secret","required":true,"condition":{"field":"Sherweb.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"autoComplete","name":"Sherweb.AllowedCustomRoles","label":"Select CIPP roles that are allowed to purchase licenses","api":{"url":"/api/ListCustomRole","queryKey":"CustomRoles","labelField":"RoleName","valueField":"RoleName"},"multiple":true,"condition":{"field":"Sherweb.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"Sherweb.AutoMigrations","label":"Enable automated migration to Sherweb","condition":{"field":"Sherweb.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"autoComplete","name":"Sherweb.migrationMethods","label":"Select how you\'d like automated migrations to be handled","options":[{"label":"Notify only - This will notify you when a subscription is in its cancellation window for non Sherweb subscriptions","value":"notifyOnly"},{"label":"Buy and notify - This will automatically buy the subscription and notify you when a subscription is in its cancellation window for non Sherweb subscriptions","value":"buyAndNotify"},{"label":"Buy and cancel - This will automatically buy the subscription and cancel the old subscription when a subscription is in its cancellation window for non Sherweb subscriptions","value":"buyAndCancel"}],"multiple":false,"condition":{"field":"Sherweb.AutoMigrations","compareType":"is","compareValue":true}},{"type":"autoComplete","name":"Sherweb.migrateFrom","label":"Select the vendor to automatically migrate from","options":[{"label":"Pax8","value":"Pax8"}],"multiple":false,"condition":{"field":"Sherweb.migrationMethods","compareType":"is","compareValue":"buyAndCancel"}},{"type":"autoComplete","name":"Sherweb.migrateToLicense","label":"Select the type of license to automatically migrate to","options":[{"label":"Yearly","value":"Y1Y"},{"label":"Annual paid monthly","value":"M1Y"},{"label":"Monthly","value":"M2M"}],"multiple":false,"condition":{"field":"Sherweb.migrationMethods","compareType":"contains","compareValue":"buy"}},{"type":"password","name":"Pax8.clientId","label":"Pax8 Client ID","placeholder":"Enter your Pax8 Client ID","required":true,"condition":{"field":"Sherweb.migrateFrom","compareType":"is","compareValue":"Pax8"}},{"type":"password","name":"Pax8.APIKey","label":"Pax8 Client Secret","placeholder":"Enter your Pax Client Secret","required":true,"condition":{"field":"Sherweb.migrateFrom","compareType":"is","compareValue":"Pax8"}}]},{"name":"Gradient","id":"Gradient","type":"Gradient","cat":"Billing & Invoicing","logo":"/assets/integrations/gradient.png","logoDark":"/assets/integrations/gradient_dark.png","forceSyncButton":true,"description":"Enable the Gradient integration to send license counts and create tickets.","helpText":"This integration allows you to send your license counts to Gradient for billing purposes, and create tickets if your PSA supports ticket creation by Gradient.","links":[{"name":"Gradient Documentation","url":"https://support.meetgradient.com/cipp"}],"SettingOptions":[{"type":"switch","name":"Gradient.Enabled","label":"Enable Integration"},{"type":"textField","name":"Gradient.VendorKey","label":"Gradient Vendor API Key","placeholder":"Enter your Gradient Vendor Key.","required":true,"condition":{"field":"Gradient.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"password","name":"Gradient.APIKey","label":"Gradient Partner API Key","placeholder":"Enter your Gradient Partner Key. Leave blank to keep your current key.","required":true,"condition":{"field":"Gradient.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"Gradient.BillingEnabled","label":"Enable sending all license information to Gradient","condition":{"field":"Gradient.Enabled","compareType":"is","compareValue":true,"action":"disable"}}],"mappingRequired":false},{"name":"Halo PSA Ticketing","id":"HaloPSA","type":"HaloPSA","cat":"Ticketing","logo":"/assets/integrations/halo.png","forceSyncButton":false,"description":"Enable the HaloPSA integration to send alerts to your ticketing system.","helpText":"This integration allows you to send alerts to your ticketing system.","links":[{"name":"HaloPSA Documentation","url":"https://halopsa.com/guides/"}],"SettingOptions":[{"type":"switch","name":"HaloPSA.Enabled","label":"Enable Integration"},{"type":"switch","name":"HaloPSA.ConsolidateTickets","label":"Consolidate Tickets","placeholder":"Consolidate tickets for the same alert into one ticket.","condition":{"field":"HaloPSA.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"textField","name":"HaloPSA.ResourceURL","label":"HaloPSA Resource Server URL","placeholder":"Enter your HaloPSA Resource Server URL.","required":true,"condition":{"field":"HaloPSA.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"textField","name":"HaloPSA.AuthURL","label":"HaloPSA Authorisation Endpoint URL","placeholder":"Enter your HaloPSA Authorisation Endpoint URL.","required":true,"condition":{"field":"HaloPSA.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"textField","name":"HaloPSA.Tenant","label":"HaloPSA Tenant","placeholder":"Enter your HaloPSA Tenant (Leave blank if self-hosted)","required":true,"condition":{"field":"HaloPSA.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"autoComplete","name":"HaloPSA.TicketType","label":"Select your HaloPSA Ticket Type, leave blank for default.","multiple":false,"api":{"url":"/api/ExecExtensionMapping","data":{"List":"HaloPSAFields"},"queryKey":"HaloTicketTypes","dataKey":"TicketTypes","labelField":"name","valueField":"id","showRefresh":true},"condition":{"field":"HaloPSA.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"textField","name":"HaloPSA.ClientID","label":"HaloPSA Client ID","placeholder":"Enter your HaloPSA Client ID","required":true,"condition":{"field":"HaloPSA.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"password","name":"HaloPSA.APIKey","label":"HaloPSA Client Secret","placeholder":"Enter your client Secret. Leave blank to keep your current key.","required":true,"condition":{"field":"HaloPSA.Enabled","compareType":"is","compareValue":true,"action":"disable"}}],"mappingRequired":true},{"name":"NinjaOne","id":"NinjaOne","type":"NinjaOne","cat":"Documentation & Monitoring","logo":"/assets/integrations/ninjaone.png","logoDark":"/assets/integrations/ninjaone_dark.png","forceSyncButton":true,"description":"Enable the NinjaOne integration to sync documentation and monitor device compliance.","helpText":"This integration allows you to populate custom fields with Tenant information, monitor device compliance state, document other items and generate relationships inside NinjaOne.","links":[{"name":"NinjaOne Documentation","url":"https://www.ninjaone.com/integrations/cyberdrain/"}],"SettingOptions":[{"type":"switch","name":"NinjaOne.Enabled","label":"Enable Integration"},{"type":"textField","name":"NinjaOne.Instance","label":"Please enter your NinjaOne Instance hostname","placeholder":"app.ninjarmm.com, eu.ninjarmm.com, oc.ninjarmm.com, ca.ninjarmm.com, us2.ninjarmm.com","required":true,"condition":{"field":"NinjaOne.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"textField","name":"NinjaOne.ClientID","label":"NinjaOne API Client ID","placeholder":"Enter your NinjaOne API Client ID","required":true,"condition":{"field":"NinjaOne.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"password","name":"NinjaOne.APIKey","label":"NinjaOne API Client Secret","placeholder":"Enter your NinjaOne API Client Secret","required":true,"condition":{"field":"NinjaOne.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"NinjaOne.LicenseDocumentsEnabled","label":"Sync Licenses (Requires NinjaOne Documentation)","condition":{"field":"NinjaOne.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"NinjaOne.UserDocumentsEnabled","label":"Sync Users (Requires NinjaOne Documentation)","condition":{"field":"NinjaOne.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"NinjaOne.LicensedOnly","label":"Only Sync Licensed Users (Requires NinjaOne Documentation)","condition":{"field":"NinjaOne.Enabled","compareType":"is","compareValue":true,"action":"disable"}}],"mappingRequired":true,"fieldMapping":true,"autoMapSyncApi":true,"showSyncButton":true},{"name":"Hudu","id":"Hudu","type":"Hudu","cat":"Documentation","logo":"/assets/integrations/hudu.png","logoDark":"/assets/integrations/hudu_dark.png","forceSyncButton":true,"description":"Enable the Hudu integration to sync documentation","helpText":"This integration allows you to populate custom asset layouts with Tenant information, monitor device compliance state, document other items and generate relationships inside Hudu.","links":[{"name":"Hudu Documentation","url":"https://support.hudu.com/hc/en-us/articles/24970807130391-CIPP#h_01J3NTF188BX3P64RKX3H52P3W"}],"SettingOptions":[{"type":"switch","name":"Hudu.Enabled","label":"Enable Integration"},{"type":"textField","name":"Hudu.BaseUrl","label":"Please enter your Hudu URL","placeholder":"https://yourcompany.huducloud.com","required":true,"condition":{"field":"Hudu.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"password","name":"Hudu.APIKey","label":"Hudu API Key","placeholder":"Enter your Hudu API Key","required":true,"condition":{"field":"Hudu.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"Hudu.CreateMissingUsers","label":"Create missing users in Hudu","condition":{"field":"Hudu.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"Hudu.CreateMissingDevices","label":"Create missing devices in Hudu","condition":{"field":"Hudu.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"textField","name":"Hudu.ExcludeSerials","label":"Exclude device serials (comma separated)","condition":{"field":"Hudu.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"Hudu.ImportDomains","label":"Import domains from M365","condition":{"field":"Hudu.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"Hudu.MonitorDomains","label":"Monitor domains in Hudu","condition":{"field":"Hudu.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"_comment":"I have added this switch as a logic check for the Hudu integration script to check against when CIPP first connects to the Hudu Instance via Connect-HuduAPI.ps1","type":"switch","name":"Hudu.CFEnabled","label":"Connect to HUDU through CloudFlare Tunnel with the Service Account credentials.","condition":{"field":"CFZTNA.Enabled","compareType":"is","compareValue":true}}],"mappingRequired":true,"fieldMapping":true,"showSyncButton":true},{"name":"PasswordPusher","id":"PWPush","type":"PWPush","cat":"Passwords","logo":"/assets/integrations/pwpush_light.png","logoDark":"/assets/integrations/pwpush_dark.png","forceSyncButton":false,"description":"Enable the PasswordPusher integration to generate password links instead of plain text passwords.","helpText":"This integration allows you to generate password links instead of plain text passwords. Configure authentication and expiration settings that will apply to all generated passwords. If you are a Hosted PWPush Pro customer you can also select an account for branding if you enable Bearer Authentication. Self-Hosted must use the Email Address and API Key method for authenticated pushes.","links":[{"name":"PWPush Documentation","url":"https://docs.pwpush.com"},{"name":"GitHub Project","url":"https://github.com/pglombardo/PasswordPusher"}],"SettingOptions":[{"type":"switch","name":"PWPush.Enabled","label":"Enable Integration"},{"type":"switch","name":"PWPush.UseBearerAuth","label":"Use Bearer Authentication (Hosted only)","condition":{"field":"PWPush.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"textField","name":"PWPush.BaseUrl","label":"PWPush URL","placeholder":"Enter your PWPush URL. (default: https://pwpush.com)","condition":{"field":"PWPush.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"password","name":"PWPush.APIKey","label":"PWPush API Key","placeholder":"Enter your PWPush API Key. (optional)","condition":{"field":"PWPush.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"textField","name":"PWPush.EmailAddress","label":"PWPush email address","placeholder":"Enter your email address for PWPush. (Email & API Key auth)","condition":{"field":"PWPush.UseBearerAuth","compareType":"is","compareValue":false}},{"type":"autoComplete","name":"PWPush.AccountId","label":"Select your PWPush Account for branding (Pro/Premium only, optional with Custom Domain)","multiple":false,"creatable":false,"api":{"url":"/api/ExecExtensionMapping?List=PWPushFields","queryKey":"PWPushAccounts","dataKey":"Accounts","labelField":"name","valueField":"id","showRefresh":true},"condition":{"field":"PWPush.UseBearerAuth","compareType":"is","compareValue":true}},{"type":"number","name":"PWPush.ExpireAfterDays","label":"Expiration in Days","placeholder":"Expiration time in days. (optional)","condition":{"field":"PWPush.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"number","name":"PWPush.ExpireAfterViews","label":"Expiration after views","placeholder":"Expiration after views. (optional)","condition":{"field":"PWPush.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"PWPush.RetrievalStep","label":"Click to retrieve password (recommended)","condition":{"field":"PWPush.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"PWPush.DeletableByViewer","label":"Allow deletion of passwords","condition":{"field":"PWPush.Enabled","compareType":"is","compareValue":true,"action":"disable"}}],"mappingRequired":false},{"name":"Have I been Pwned","id":"HIBP","type":"darkweb","cat":"Darkweb Scanning","logo":"/assets/integrations/hibp.png","logoDark":"/assets/integrations/hibp.png","forceSyncButton":false,"description":"Enable the HIBP integration to scan your tenant for compromised credentials.","helpText":"This integration allows you to scan your tenant for compromised credentials, breaches, and darkweb scanning.","links":[{"name":"Have I Been Pwned","url":"https://haveibeenpwned.com/"}],"SettingOptions":[{"type":"password","name":"HIBP.APIKey","label":"Enter your own HIBP API Key. When you are a CyberDrain hosted partner, leave this key blank.","condition":{"field":"HIBP.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"switch","name":"HIBP.Enabled","label":"Enable Integration - Allow darkweb scanning through tools and alerts"}],"mappingRequired":false},{"name":"CloudFlare ZTNA Tunnel","id":"CFZTNA","type":"ztna","cat":"Zero Trust Network Tunnel","logo":"/assets/integrations/cloudflare.png","forceSyncButton":false,"hideTestButton":true,"description":"Enter your CloudFlare ZTNA Tunnel API Credentials to use with other Integrations","helpText":"These credentials can be used to allow traffic through a CloudFlare ZTNA Tunnel if your other Integrations are protected behind one. You need to select \'Behind a CF-ZTNA Tunnel\' within the other Integration\'s settings to enable.","links":[{"name":"CloudFlare ZTNA Tunnel Information","url":"https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/"},{"name":"Installing Hudu behind Cloudflare Zero Trust Tunnel","url":"https://support.hudu.com/hc/en-us/articles/13929358997399-Installing-Hudu-behind-Cloudflare-Zero-Trust-Tunnel"}],"SettingOptions":[{"type":"switch","name":"CFZTNA.Enabled","label":"Enable Integration"},{"type":"textField","name":"CFZTNA.ClientID","label":"CloudFlare Tunnel Service Account Client ID","condition":{"field":"CFZTNA.Enabled","compareType":"is","compareValue":true,"action":"disable"}},{"type":"password","name":"CFZTNA.APIKey","label":"CloudFlare Tunnel Service Account Client Secret","condition":{"field":"CFZTNA.Enabled","compareType":"is","compareValue":true,"action":"disable"}}],"mappingRequired":false},{"name":"GitHub","id":"GitHub","type":"DevOps","cat":"Source Control","logo":"/assets/integrations/github.png","logoDark":"/assets/integrations/github_dark.png","description":"Enable the GitHub integration to manage your repositories from CIPP.","helpText":"This integration allows you to manage GitHub repositories from CIPP, including the Community Repositories functionality. Requires a GitHub Personal Access Token (PAT) with a minimum of repo:public_repo permissions. If you plan on saving your templates to GitHub or accessing private/internal repositories, you will need to grant the whole repo scope. You can create a PAT in your GitHub account settings, see the GitHub Token documentation for more info. If you do not enable the extension, a read-only API will be provided.","links":[{"name":"GitHub Token","url":"https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token"}],"SettingOptions":[{"type":"switch","name":"GitHub.Enabled","label":"Enable Integration"},{"type":"password","name":"GitHub.APIKey","label":"GitHub Personal Access Token","placeholder":"Enter your GitHub PAT","required":true,"condition":{"field":"GitHub.Enabled","compareType":"is","compareValue":true,"action":"disable"}}],"mappingRequired":false}]')}},e=>{var n=n=>e(e.s=n);e.O(0,[636,6593,8792],()=>n(40673)),_N_E=e.O()}]);