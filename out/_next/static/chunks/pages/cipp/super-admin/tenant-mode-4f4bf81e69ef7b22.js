(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{17055:(e,n,t)=>{"use strict";t.d(n,{L:()=>c});var s=t(37876),a=t(14e3),r=t(67578),i=t(22474),l=t(8578),d=t(76626),o=t(71538);let c=e=>{let{tabOptions:n,children:t}=e,c=(0,a.useRouter)(),u=(0,a.usePathname)(),p=n.find(e=>e.path===u);return(0,s.jsxs)(r.A,{sx:{flexGrow:1,py:4},children:[(0,s.jsx)(i.A,{spacing:2,children:(0,s.jsxs)("div",{children:[(0,s.jsx)(l.A,{onChange:(e,n)=>{c.push(n)},value:null==p?void 0:p.path,variant:"scrollable",children:n.map(e=>(0,s.jsx)(d.A,{label:e.label,value:e.path},e.path))}),(0,s.jsx)(o.A,{})]})}),t]})}},35051:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>j});var s=t(37876),a=t(17055),r=t(12435),i=t(45497),l=t(90240),d=t(88992),o=t(77018),c=t(59568),u=t(58105),p=t(22322),h=t(14232),x=t(48230),m=t.n(x);let f=()=>{let e=(0,d.mN)({mode:"onChange",defaultValues:{TenantMode:"default"}}),n=(0,p.R_)({url:"/api/ExecPartnerMode?Action=ListCurrent",queryKey:"execPartnerMode"});return(0,h.useEffect)(()=>{if(n.isSuccess){var t;e.reset({TenantMode:null===(t=n.data)||void 0===t?void 0:t.TenantMode})}},[n.isSuccess,n.data]),(0,s.jsx)(l.A,{title:"Tenant Mode",hideBackButton:!0,hidePageType:!0,formControl:e,resetForm:!1,postUrl:"/api/ExecPartnerMode",queryKey:["execPartnerMode","TenantSelector"],children:(0,s.jsxs)(c.A,{container:!0,spacing:2,sx:{mb:3},children:[(0,s.jsx)(c.A,{size:{md:12,xs:12},children:(0,s.jsxs)(o.A,{variant:"body2",color:"textSecondary",sx:{mb:3},children:["The configuration settings below should only be modified by a super admin. Super admins can configure what tenant mode CIPP operates in. See"," ",(0,s.jsx)(m(),{href:"https://docs.cipp.app/setup/installation/owntenant",target:"_blank",rel:"noreferrer",children:"our documentation"})," ","for more information on how to configure these modes and what they mean."]})}),(0,s.jsx)(c.A,{size:{md:12,xs:12},children:(0,s.jsx)(u.A,{type:"radio",name:"TenantMode",options:[{label:"Multi Tenant - GDAP Mode",value:"default"},{label:"Multi Tenant - Add Partner Tenant",value:"PartnerTenantAvailable"},{label:"Single Tenant - Own Tenant Mode",value:"owntenant"}],formControl:e})})]})})};f.getLayout=e=>(0,s.jsx)(r.P,{children:(0,s.jsx)(a.L,{tabOptions:i,children:e})});let j=f},42120:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});var s=t(93944),a=t(37876);let r=(0,s.A)((0,a.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft")},45497:e=>{"use strict";e.exports=JSON.parse('[{"label":"Tenant Mode","path":"/cipp/super-admin/tenant-mode"},{"label":"Function Offloading","path":"/cipp/super-admin/function-offloading"},{"label":"CIPP Roles","path":"/cipp/super-admin/cipp-roles"},{"label":"SAM App Roles","path":"/cipp/super-admin/sam-app-roles"},{"label":"SAM App Permissions","path":"/cipp/super-admin/sam-app-permissions"}]')},68392:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cipp/super-admin/tenant-mode",function(){return t(35051)}])},90240:(e,n,t)=>{"use strict";t.d(n,{A:()=>g});var s=t(37876),a=t(89099),r=t(67578),i=t(86650),l=t(22474),d=t(47737),o=t(94810),c=t(77018),u=t(54538),p=t(24933),h=t(17675),x=t(42120),m=t(22322),f=t(68723),j=t(14232),A=t(88992),b=t(2303);let g=e=>{let{title:n,backButtonTitle:t,titleButton:g,formPageType:y="Add",children:v,queryKey:w,formControl:P,postUrl:T,customDataformatter:M,resetForm:S=!1,hideBackButton:_=!1,hidePageType:C=!1,hideTitle:E=!1,hideSubmit:k=!1,allowResubmit:N=!1,addedButtons:O,...q}=e,F=(0,a.useRouter)(),L=(0,m.nN)({datafromUrl:!0,relatedQueryKeys:w}),{isValid:R,isDirty:z}=(0,A.lN)({control:P.control});return(0,j.useEffect)(()=>{if(delete F.query.tenantFilter,F.query){let e={...P.getValues(),...F.query};P.reset(e)}},[F]),(0,j.useEffect)(()=>{L.isSuccess&&S&&P.reset()},[L.isSuccess]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.v,{title:n}),(0,s.jsx)(r.A,{sx:{flexGrow:1,py:4},children:(0,s.jsx)(i.A,{maxWidth:"lg",children:(0,s.jsxs)(l.A,{spacing:4,children:[!E&&(0,s.jsxs)(l.A,{spacing:2,children:[!_&&(0,s.jsx)("div",{children:(0,s.jsx)(d.A,{color:"inherit",onClick:()=>{F.back()},startIcon:(0,s.jsx)(o.A,{fontSize:"small",children:(0,s.jsx)(x.A,{})}),children:t})}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(c.A,{variant:"h4",children:[!C&&(0,s.jsxs)(s.Fragment,{children:[y," - "]}),n]}),g&&g]})]}),(0,s.jsxs)(u.A,{children:[(0,s.jsxs)(p.A,{children:[v,(0,s.jsx)(f.v,{apiObject:L})]}),!k&&(0,s.jsx)(h.A,{sx:{justifyContent:"flex-end"},children:(0,s.jsxs)(l.A,{spacing:2,direction:"row",children:[O&&O,(0,s.jsx)(d.A,{disabled:L.isPending||!R||!N&&!z,onClick:P.handleSubmit(()=>{if(P.trigger(),!R)return;let e=M?M(P.getValues()):P.getValues();Object.keys(e).forEach(n=>{(""===e[n]||null===e[n])&&delete e[n]}),L.mutate({url:T,data:e})}),type:"submit",variant:"contained",children:"Submit"})]})})]})]})})})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[636,6593,8792],()=>n(68392)),_N_E=e.O()}]);