(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8109],{8521:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cipp/super-admin/cipp-roles",function(){return s(54073)}])},17055:(e,t,s)=>{"use strict";s.d(t,{L:()=>d});var r=s(37876),l=s(14e3),i=s(67578),n=s(22474),a=s(8578),o=s(76626),c=s(71538);let d=e=>{let{tabOptions:t,children:s}=e,d=(0,l.useRouter)(),p=(0,l.usePathname)(),u=t.find(e=>e.path===p);return(0,r.jsxs)(i.A,{sx:{flexGrow:1,py:4},children:[(0,r.jsx)(n.A,{spacing:2,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(a.A,{onChange:(e,t)=>{d.push(t)},value:null==u?void 0:u.path,variant:"scrollable",children:t.map(e=>(0,r.jsx)(o.A,{label:e.label,value:e.path},e.path))}),(0,r.jsx)(c.A,{})]})}),s]})}},36577:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var r=s(37876),l=s(89099),i=s(67578),n=s(86650),a=s(22474),o=s(47737),c=s(94810),d=s(77018),p=s(54538),u=s(42120),h=s(2303);let m=e=>{let{title:t,backButtonTitle:s="Back",children:m,cardSize:x="xl",hideTitleText:j=!1,hideBackButton:A=!1,noTenantInHead:v=!1,infoBar:f}=e,b=(0,l.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.v,{title:t,noTenant:v}),(0,r.jsx)(i.A,{sx:{flexGrow:1,py:4},children:(0,r.jsx)(n.A,{maxWidth:x,children:(0,r.jsxs)(a.A,{spacing:2,children:[(0,r.jsxs)(a.A,{spacing:2,children:[(0,r.jsx)("div",{children:!A&&(0,r.jsx)(o.A,{color:"inherit",onClick:()=>{b.back()},startIcon:(0,r.jsx)(c.A,{fontSize:"small",children:(0,r.jsx)(u.A,{})}),children:s})}),!0!==j&&(0,r.jsx)("div",{children:(0,r.jsx)(d.A,{variant:"h4",children:t})})]}),f,(0,r.jsx)(p.A,{children:m})]})})})]})}},41055:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(14232);let l=r.forwardRef(function(e,t){let{title:s,titleId:l,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),s?r.createElement("title",{id:l},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})},42120:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(93944),l=s(37876);let i=(0,r.A)((0,l.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft")},45497:e=>{"use strict";e.exports=JSON.parse('[{"label":"Tenant Mode","path":"/cipp/super-admin/tenant-mode"},{"label":"Function Offloading","path":"/cipp/super-admin/function-offloading"},{"label":"CIPP Roles","path":"/cipp/super-admin/cipp-roles"},{"label":"SAM App Roles","path":"/cipp/super-admin/sam-app-roles"},{"label":"SAM App Permissions","path":"/cipp/super-admin/sam-app-permissions"}]')},54073:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(37876),l=s(17055),i=s(12435),n=s(45497),a=s(36577);s(14232);var o=s(94810),c=s(67578),d=s(47737),p=s(31540),u=s(65868),h=s(41055),m=s(48230),x=s.n(m),j=s(5419),A=s(41412),v=s(35936),f=s(82179),b=s(84177);let w=()=>{let e=[{label:"Edit",icon:(0,r.jsx)(o.A,{children:(0,r.jsx)(u.A,{})}),link:"/cipp/super-admin/cipp-roles/edit?role=[RoleName]"},{label:"Delete",icon:(0,r.jsx)(o.A,{children:(0,r.jsx)(h.A,{})}),confirmText:"Are you sure you want to delete this custom role?",url:"/api/ExecCustomRole",type:"POST",data:{Action:"Delete",RoleName:"RoleName"},condition:e=>(null==e?void 0:e.Type)==="Custom",relatedQueryKeys:["customRoleList"]}];return(0,r.jsx)(c.A,{children:(0,r.jsx)(p.x,{actions:e,title:"Roles",cardButton:(0,r.jsx)(d.A,{variant:"contained",size:"small",startIcon:(0,r.jsx)(o.A,{children:(0,r.jsx)(u.A,{})}),component:x(),href:"/cipp/super-admin/cipp-roles/add",children:"Add Role"}),api:{url:"/api/ListCustomRole"},queryKey:"customRoleTable",simpleColumns:["RoleName","Type","EntraGroup","AllowedTenants","BlockedTenants"],offCanvas:{children:t=>{let s=["RoleName","Type","EntraGroup","AllowedTenants","BlockedTenants"].filter(e=>Object.keys(t).includes(e)),l=[];return s.forEach(e=>{t[e]&&t[e].length>0&&l.push({label:(0,A.i)(e),value:(0,v.i)(t[e],e)})}),t.Permissions&&Object.keys(t.Permissions).length>0&&l.push({label:"Permissions",value:(0,r.jsx)(f.A,{spacing:.5,children:Object.keys(t.Permissions).sort().map((e,s)=>{var l;return(0,r.jsx)(c.A,{children:(0,r.jsx)(b.R,{type:"chip",text:null===(l=t.Permissions)||void 0===l?void 0:l[e]})},s)})})}),(0,r.jsx)(j.a,{cardSx:{p:0,m:-2},title:"Role Details",propertyItems:l,actionItems:e})}}})})};var P=s(24933),y=s(22474),k=s(77018);let g=()=>(0,r.jsx)(a.A,{hideBackButton:!0,title:"CIPP Roles",children:(0,r.jsx)(P.A,{children:(0,r.jsxs)(y.A,{spacing:2,children:[(0,r.jsx)(k.A,{variant:"body2",children:"CIPP roles can be used to restrict permissions for users with the 'editor' or 'readonly' roles in CIPP. They can be limited to a subset of tenants and API permissions. To restrict direct API access, create a role with the name 'CIPP-API'."}),(0,r.jsx)(w,{})]})})});g.getLayout=e=>(0,r.jsx)(i.P,{children:(0,r.jsx)(l.L,{tabOptions:n,children:e})});let R=g},65868:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(14232);let l=r.forwardRef(function(e,t){let{title:s,titleId:l,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),s?r.createElement("title",{id:l},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(8521)),_N_E=e.O()}]);