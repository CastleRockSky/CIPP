(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1574],{4916:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cipp/advanced/timers",function(){return s(41851)}])},41851:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var a=s(37876),n=s(12435),r=s(47737),i=s(94810),o=s(73683),l=s(7159),u=s(22322),c=s(14232),d=s(29390),m=s(82836),f=s(79803);let p=()=>{let e="/api/ExecCippFunction",t={FunctionName:"Get-CIPPTimerFunctions",Parameters:{ListAllTasks:!0}},[s,n]=(0,c.useState)([]),p=(0,m.s)(),P=["Priority","Command","Parameters","Cron","NextOccurrence","LastOccurrence","Status","PreferredProcessor","ErrorMsg"],x=(0,u.nN)({relatedQueryKeys:["CippTimers"],onResult:e=>n(e)}),T=()=>{x.mutate({url:e,data:t})};return(0,c.useEffect)(()=>{x.isSuccess||T()},[x.isSuccess]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.a,{title:"Timers",data:s,simpleColumns:P,tenantInTitle:!1,refreshFunction:T,isFetching:x.isPending,cardButton:(0,a.jsx)(()=>(0,a.jsx)(r.A,{variant:"contained",size:"small",onClick:p.handleOpen,startIcon:(0,a.jsx)(i.A,{fontSize:"small",children:(0,a.jsx)(o.A,{})}),children:"Reset to Default"}),{}),offCanvas:{extendedInfoFields:P,actions:[]},actions:[{label:"Run Now",type:"POST",url:e,data:{FunctionName:"Command",Parameters:"Parameters"},confirmText:"Do you want to run this task now?",allowResubmit:!0,icon:(0,a.jsx)(l.A,{})}]}),(0,a.jsx)(f.B,{title:"Reset to Default",createDialog:p,fields:[],api:{url:e,confirmText:"Do you want to reset all timers to default?",type:"POST",data:{FunctionName:"!Get-CIPPTimerFunctions",Parameters:{ResetToDefault:!0}},relatedQueryKeys:["CippTimers"]}})]})};p.getLayout=e=>(0,a.jsx)(n.P,{children:e});let P=p}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(4916)),_N_E=e.O()}]);