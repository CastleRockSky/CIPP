(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7802],{17055:(e,a,t)=>{"use strict";t.d(a,{L:()=>d});var l=t(37876),i=t(14e3),s=t(67578),n=t(22474),r=t(8578),o=t(76626),c=t(71538);let d=e=>{let{tabOptions:a,children:t}=e,d=(0,i.useRouter)(),p=(0,i.usePathname)(),u=a.find(e=>e.path===p);return(0,l.jsxs)(s.A,{sx:{flexGrow:1,py:4},children:[(0,l.jsx)(n.A,{spacing:2,children:(0,l.jsxs)("div",{children:[(0,l.jsx)(r.A,{onChange:(e,a)=>{d.push(a)},value:null==u?void 0:u.path,variant:"scrollable",children:a.map(e=>(0,l.jsx)(o.A,{label:e.label,value:e.path},e.path))}),(0,l.jsx)(c.A,{})]})}),t]})}},25540:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var l=t(37876),i=t(37035),s=t(17055),n=t(12435),r=t(57007);let o=()=>(0,l.jsx)(r.A,{id:"AllTenants"});o.getLayout=e=>(0,l.jsx)(n.P,{children:(0,l.jsx)(s.L,{tabOptions:i,children:e})});let c=o},37035:e=>{"use strict";e.exports=JSON.parse('[{"label":"General","path":"/cipp/settings"},{"label":"Permissions","path":"/cipp/settings/permissions"},{"label":"Tenants","path":"/cipp/settings/tenants"},{"label":"Backend","path":"/cipp/settings/backend"},{"label":"Notifications","path":"/cipp/settings/notifications"},{"label":"Partner Webhooks","path":"/cipp/settings/partner-webhooks"},{"label":"Licenses","path":"/cipp/settings/licenses"},{"label":"Global Variables","path":"/cipp/settings/global-variables"}]')},41055:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var l=t(14232);let i=l.forwardRef(function(e,a){let{title:t,titleId:i,...s}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":i},s),t?l.createElement("title",{id:i},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})},56604:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cipp/settings/global-variables",function(){return t(25540)}])},57007:(e,a,t)=>{"use strict";t.d(a,{A:()=>v});var l=t(37876),i=t(14232),s=t(94810),n=t(24933),r=t(46061),o=t(47737),c=t(65868),d=t(41055),p=t(44681),u=t(31540),m=t(68723),h=t(79803),b=t(22322);let v=e=>{let{id:a}=e,[t,v]=(0,i.useState)(!1),x=(0,b.nN)({urlFromData:!0,relatedQueryKeys:["CustomVariables_".concat(a)]}),f=["tenantid","tenantname","tenantfilter","partnertenantid","samappid"],y=e=>f.includes(e.toLowerCase())?"The variable name is reserved and cannot be used.":!(e.includes(" ")||/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(e))||"The variable name must not contain spaces or special characters.",w=[{label:"Edit",icon:(0,l.jsx)(s.A,{children:(0,l.jsx)(c.A,{})}),confirmText:"Update the custom variable '[RowKey]'?",hideBulk:!0,setDefaultValues:!0,fields:[{type:"textField",name:"RowKey",label:"Variable Name",placeholder:"Enter the key for the custom variable.",required:!0,validators:{validate:y}},{type:"textField",name:"Value",label:"Value",placeholder:"Enter the value for the custom variable.",required:!0}],type:"POST",url:"/api/ExecCippReplacemap",data:{Action:"!AddEdit",tenantId:a},relatedQueryKeys:["CustomVariables_".concat(a)]},{label:"Delete",icon:(0,l.jsx)(d.A,{}),confirmText:"Are you sure you want to delete [RowKey]?",type:"POST",url:"/api/ExecCippReplacemap",data:{Action:"Delete",RowKey:"RowKey",tenantId:a},relatedQueryKeys:["CustomVariables_".concat(a)],multiPost:!1}];return(0,l.jsxs)(n.A,{children:[(0,l.jsx)(r.A,{severity:"info",sx:{mb:2},children:"AllTenants"===a?"Global variables are key-value pairs that can be used to store additional information for All Tenants. These are applied to templates in standards using the format %variablename%. If a tenant has a custom variable with the same name, the tenant's variable will take precedence.":"Custom variables are key-value pairs that can be used to store additional information about a tenant. These are applied to templates in standards using the format %variablename%."}),(0,l.jsx)(u.x,{queryKey:"CustomVariables_".concat(a),title:"AllTenants"===a?"Global Variables":"Custom Variables",actions:w,api:{url:"/api/ExecCippReplacemap?Action=List&tenantId=".concat(a),dataKey:"Results"},simpleColumns:["RowKey","Value"],cardButton:(0,l.jsx)(o.A,{variant:"contained",color:"primary",size:"small",onClick:()=>{v(!0)},startIcon:(0,l.jsx)(s.A,{fontSize:"small",children:(0,l.jsx)(p.A,{})}),children:"Add Variable"})}),(0,l.jsx)(m.v,{apiObject:x}),(0,l.jsx)(h.B,{createDialog:{open:t,handleClose:()=>v(!1)},title:"Add Variable",fields:[{type:"textField",name:"RowKey",label:"Variable Name",placeholder:"Enter the name for the custom variable without %.",required:!0,validators:{validate:y}},{type:"textField",name:"Value",label:"Value",placeholder:"Enter the value for the custom variable.",required:!0}],api:{type:"POST",url:"/api/ExecCippReplacemap",data:{Action:"AddEdit",tenantId:a},relatedQueryKeys:["CustomVariables_".concat(a)]}})]})}},65868:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var l=t(14232);let i=l.forwardRef(function(e,a){let{title:t,titleId:i,...s}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":i},s),t?l.createElement("title",{id:i},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})}},e=>{var a=a=>e(e.s=a);e.O(0,[636,6593,8792],()=>a(56604)),_N_E=e.O()}]);