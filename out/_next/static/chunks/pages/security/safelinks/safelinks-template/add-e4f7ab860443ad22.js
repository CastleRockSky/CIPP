(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9177],{42120:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var s=l(93944),i=l(37876);let a=(0,s.A)((0,i.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft")},71606:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/security/safelinks/safelinks-template/add",function(){return l(96985)}])},90240:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var s=l(37876),i=l(89099),a=l(67578),n=l(86650),r=l(22474),c=l(47737),d=l(94810),o=l(77018),u=l(54538),m=l(24933),p=l(17675),x=l(42120),h=l(22322),j=l(68723),f=l(14232),y=l(88992),A=l(2303);let b=e=>{let{title:t,backButtonTitle:l,titleButton:b,formPageType:k="Add",children:g,queryKey:v,formControl:T,postUrl:S,customDataformatter:w,resetForm:L=!1,hideBackButton:_=!1,hidePageType:C=!1,hideTitle:E=!1,hideSubmit:N=!1,allowResubmit:P=!1,addedButtons:q,...F}=e,O=(0,i.useRouter)(),z=(0,h.nN)({datafromUrl:!0,relatedQueryKeys:v}),{isValid:V,isDirty:K}=(0,y.lN)({control:T.control});return(0,f.useEffect)(()=>{if(delete O.query.tenantFilter,O.query){let e={...T.getValues(),...O.query};T.reset(e)}},[O]),(0,f.useEffect)(()=>{z.isSuccess&&L&&T.reset()},[z.isSuccess]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.v,{title:t}),(0,s.jsx)(a.A,{sx:{flexGrow:1,py:4},children:(0,s.jsx)(n.A,{maxWidth:"lg",children:(0,s.jsxs)(r.A,{spacing:4,children:[!E&&(0,s.jsxs)(r.A,{spacing:2,children:[!_&&(0,s.jsx)("div",{children:(0,s.jsx)(c.A,{color:"inherit",onClick:()=>{O.back()},startIcon:(0,s.jsx)(d.A,{fontSize:"small",children:(0,s.jsx)(x.A,{})}),children:l})}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(o.A,{variant:"h4",children:[!C&&(0,s.jsxs)(s.Fragment,{children:[k," - "]}),t]}),b&&b]})]}),(0,s.jsxs)(u.A,{children:[(0,s.jsxs)(m.A,{children:[g,(0,s.jsx)(j.v,{apiObject:z})]}),!N&&(0,s.jsx)(p.A,{sx:{justifyContent:"flex-end"},children:(0,s.jsxs)(r.A,{spacing:2,direction:"row",children:[q&&q,(0,s.jsx)(c.A,{disabled:z.isPending||!V||!P&&!K,onClick:T.handleSubmit(()=>{if(T.trigger(),!V)return;let e=w?w(T.getValues()):T.getValues();Object.keys(e).forEach(t=>{(""===e[t]||null===e[t])&&delete e[t]}),z.mutate({url:S,data:e})}),type:"submit",variant:"contained",children:"Submit"})]})})]})]})})})]})}},96985:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>m});var s=l(37876);l(14232);var i=l(71538),a=l(59568),n=l(88992),r=l(12435),c=l(90240),d=l(58105),o=l(35764);let u=()=>{let e=(0,n.mN)({mode:"onChange",defaultValues:{selectedTenants:[],TemplateList:[]}});return(0,s.jsx)(c.A,{formControl:e,queryKey:"DeploySafeLinksPolicyTemplate",title:"Deploy Safe Links Policy Template",backButtonTitle:"Safe Links Policies Overview",postUrl:"/api/AddSafeLinksPolicyFromTemplate",children:(0,s.jsxs)(a.A,{container:!0,spacing:2,children:[(0,s.jsx)(a.A,{size:{xs:12},children:(0,s.jsx)(o.w,{label:"Select Tenants",formControl:e,name:"selectedTenants",type:"multiple",allTenants:!0,preselectedEnabled:!0,validators:{required:"At least one tenant must be selected"}})}),(0,s.jsx)(i.A,{sx:{my:2,width:"100%"}}),(0,s.jsx)(a.A,{size:{xs:12,md:12},children:(0,s.jsx)(d.A,{type:"autoComplete",label:"Select a template",name:"TemplateList",formControl:e,multiple:!0,creatable:!1,api:{queryKey:"TemplateListSafeLinks",labelField:"TemplateName",valueField:e=>e,url:"/api/ListSafeLinksPolicyTemplates"},placeholder:"Select a template",validators:{required:"A template must be selected"}})})]})})};u.getLayout=e=>(0,s.jsx)(r.P,{children:e});let m=u}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(71606)),_N_E=e.O()}]);