(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8258],{9858:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenant/conditional/list-template/edit",function(){return a(21146)}])},21146:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(37876),o=a(14232),l=a(67578),n=a(46061),s=a(88992),i=a(89099),c=a(12435),u=a(90240),d=a(86508),p=a(22322),f=a(22816);let y=()=>{let{GUID:e}=(0,i.useRouter)().query,[t,a]=(0,o.useState)(null),[c,y]=(0,o.useState)(null),m=(0,s.mN)({mode:"onChange"}),A=(0,p.R_)({url:"/api/ListCATemplates?GUID=".concat(e),queryKey:"CATemplate-".concat(e),enabled:!!e});return(0,o.useEffect)(()=>{if(A.isSuccess&&A.data){let t=Array.isArray(A.data)?A.data.find(t=>t.GUID===e):A.data;t&&(a(t),y(t))}},[A.isSuccess,A.data,e]),(0,r.jsx)(u.A,{title:" ".concat((null==t?void 0:t.displayName)||"Unnamed Template"),formControl:m,queryKey:["CATemplate-".concat(e),"CATemplates"],backButtonTitle:"Conditional Access Templates",postUrl:"/api/ExecEditTemplate?type=CATemplate",customDataformatter:t=>{let a=e=>{if(!e)return e;if(e&&"object"==typeof e&&e.hasOwnProperty("value")&&e.hasOwnProperty("label"))return e.value;if(Array.isArray(e))return e.map(e=>a(e));if("object"==typeof e){let t={};return Object.keys(e).forEach(o=>{let l=a(e[o]);o.endsWith("@odata")&&l&&"object"==typeof l?Object.keys(l).forEach(e=>{let a=o.replace("@odata",""),l="".concat(a,"@odata.").concat(e),n=r(c,l);void 0!==n&&(t[l]=n)}):t[o]=l}),t}return e},r=(e,t)=>{let a=t.split("."),r=e;for(let e of a){if(!r||"object"!=typeof r||!(e in r))return;r=r[e]}return r};return{GUID:e,...a(t)}},formPageType:"Edit",children:(0,r.jsx)(l.A,{sx:{my:2},children:A.isLoading?(0,r.jsx)(d.A,{layout:[2,1,2,2]}):A.isError||!t?(0,r.jsx)(n.A,{severity:"error",children:"Error loading template or template not found."}):(0,r.jsx)(f.A,{templateData:t,formControl:m,templateType:"conditionalAccess"})})})};y.getLayout=e=>(0,r.jsx)(c.P,{children:e});let m=y}},e=>{var t=t=>e(e.s=t);e.O(0,[5918,514,636,6593,8792],()=>t(9858)),_N_E=e.O()}]);