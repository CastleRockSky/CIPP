(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1045],{14304:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(93944),i=a(37876);let s=(0,n.A)((0,i.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning")},19346:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(93944),i=a(37876);let s=(0,n.A)((0,i.jsx)("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M10 17H5v-2h5zm0-4H5v-2h5zm0-4H5V7h5zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42z"}),"FactCheck")},33713:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenant/standards/manage-drift",function(){return a(75324)}])},50834:e=>{"use strict";e.exports=JSON.parse('[{"label":"Manage Drift","path":"/tenant/standards/manage-drift"},{"label":"Policies and Settings Deployed","path":"/tenant/standards/manage-drift/policies-deployed"},{"label":"History","path":"/tenant/standards/manage-drift/history"},{"label":"Tenant Report","path":"/tenant/standards/manage-drift/compare"}]')},75324:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var n=a(37876),i=a(12435),s=a(89099),r=a(14304),c=a(83198),l=a(71609),o=a(27418),d=a(14628),u=a(29468),p=a(79259),m=a(7159),x=a(87505),h=a(15692),v=a(90950),A=a(19346);let D=(0,a(93944).A)((0,n.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var f=a(47737),y=a(52808),j=a(6003),g=a(22474),C=a(59017),b=a(94810),w=a(67578),k=a(77018),S=a(59568),T=a(14232),N=a(85496),F=a(15698),L=a(2303),z=a(50387),R=a(22322),I=a(17825),V=a(79803),E=a(82836),_=a(50834),P=a(75069);let O=()=>{var e,t,a,i,O;let{templateId:B}=(0,s.useRouter)().query,M=(0,I.t)().currentTenant||"",[H,U]=(0,T.useState)({}),[q,G]=(0,T.useState)(null),K=(0,E.s)(),[W,X]=(0,T.useState)({data:{},ready:!1}),J=(0,R.R_)({url:"/api/listTenantDrift",data:{TenantFilter:M},queryKey:"TenantDrift-".concat(M)}),Q=(0,R.R_)({url:"/api/listStandardTemplates",data:{type:"drift"},queryKey:"ListDriftTemplates"}),Y=(0,R.R_)({url:"/api/ListStandardsCompare",data:{TemplateId:B,TenantFilter:M,CompareToStandard:!0},queryKey:"StandardsCompare-".concat(B,"-").concat(M),enabled:!!B&&!!M}),$=J.data||[],Z=Array.isArray($)?$.filter(e=>e.tenantFilter===M):[],ee=Z.reduce((e,t)=>(e.acceptedDeviationsCount+=t.acceptedDeviationsCount||0,e.currentDeviationsCount+=t.currentDeviationsCount||0,e.alignedCount+=t.alignedCount||0,e.customerSpecificDeviations+=t.customerSpecificDeviationsCount||0,e.deniedDeviationsCount+=t.deniedDeviationsCount||0,t.currentDeviations&&Array.isArray(t.currentDeviations)&&e.currentDeviations.push(...t.currentDeviations.filter(e=>null!==e)),t.acceptedDeviations&&Array.isArray(t.acceptedDeviations)&&e.acceptedDeviations.push(...t.acceptedDeviations.filter(e=>null!==e)),t.customerSpecificDeviations&&Array.isArray(t.customerSpecificDeviations)&&e.customerSpecificDeviationsList.push(...t.customerSpecificDeviations.filter(e=>null!==e)),t.deniedDeviations&&Array.isArray(t.deniedDeviations)&&e.deniedDeviationsList.push(...t.deniedDeviations.filter(e=>null!==e)),t.latestDataCollection&&(!e.latestDataCollection||new Date(t.latestDataCollection)>new Date(e.latestDataCollection))&&(e.latestDataCollection=t.latestDataCollection),e),{acceptedDeviationsCount:0,currentDeviationsCount:0,alignedCount:0,customerSpecificDeviations:0,deniedDeviationsCount:0,currentDeviations:[],acceptedDeviations:[],customerSpecificDeviationsList:[],deniedDeviationsList:[],latestDataCollection:null}),et=[ee.alignedCount||0,ee.acceptedDeviationsCount||0,ee.currentDeviationsCount||0,ee.customerSpecificDeviations||0],ea=e=>{switch(null==e?void 0:e.toLowerCase()){case"current":default:return(0,n.jsx)(r.A,{color:"warning"});case"denied":return(0,n.jsx)(c.A,{color:"error"});case"denieddelete":case"denied - delete":return(0,n.jsx)(l.A,{color:"error"});case"deniedremediate":case"denied - remediate":return(0,n.jsx)(o.A,{color:"error"});case"accepted":return(0,n.jsx)(d.A,{color:"success"});case"customerspecific":return(0,n.jsx)(u.A,{color:"info"})}},en=e=>{switch(null==e?void 0:e.toLowerCase()){case"current":default:return"warning.main";case"denied":case"denieddelete":case"denied - delete":case"deniedremediate":case"denied - remediate":return"error.main";case"accepted":return"success.main";case"customerspecific":return"info.main"}},ei=e=>{switch(null==e?void 0:e.toLowerCase()){case"current":return"Current Deviation";case"denied":return"Denied Deviation";case"denieddelete":case"denied - delete":return"Denied - Delete";case"deniedremediate":case"denied - remediate":return"Denied - Remediate";case"accepted":return"Accepted Deviation";case"customerspecific":return"Customer Specific";default:return"Deviation"}},es=e=>{if(!e)return"Unknown Standard";let t=P.find(t=>t.name===e);return t&&t.label?t.label:null},er=e=>{if(!e)return null;let t=P.find(t=>t.name===e);return t&&(t.helpText||t.docsDescription||t.executiveText)||null},ec=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(e||[]).map((e,a)=>{let n=e.standardDisplayName||es(e.standardName)||e.standardName||"Unknown Standard",i=er(e.standardName)||e.standardDescription||"No description available";return{id:a+1,cardLabelBox:{cardLabelBoxHeader:ea(t||e.Status||e.state)},text:n,subtext:i,statusColor:en(t||e.Status||e.state),statusText:ei(t||e.Status||e.state),standardName:e.standardName,receivedValue:e.receivedValue,expectedValue:e.expectedValue,originalDeviation:e,propertyItems:[{label:"Standard Name",value:n},{label:"Description",value:i},{label:"Expected Value",value:e.expectedValue||"N/A"},{label:"Current Value",value:e.receivedValue||"N/A"},{label:"Status",value:ei(t||e.Status||e.state)},{label:"Reason",value:e.Reason||"N/A"},{label:"User",value:e.lastChangedByUser||"N/A"},{label:"Last Updated",value:ee.latestDataCollection?new Date(ee.latestDataCollection).toLocaleString():"N/A"}].filter(e=>"N/A"!==e.value&&"No description available"!==e.value)}})},el=ec(ee.currentDeviations),eo=ec(ee.acceptedDeviations,"accepted"),ed=ec(ee.customerSpecificDeviationsList,"customerspecific"),eu=ec(ee.deniedDeviationsList,"denied"),ep=(e,t)=>{U(a=>({...a,[t]:e.currentTarget}))},em=e=>{U(t=>({...t,[e]:null}))},ex=(e,t)=>{let a,n;let i=ee.currentDeviations[t-1];if(i){switch(e){case"accept-customer-specific":a="CustomerSpecific",n="accept as customer specific";break;case"accept":a="Accepted",n="accept";break;case"deny-delete":a="DeniedDelete",n="deny and delete";break;case"deny-remediate":a="DeniedRemediate",n="deny and remediate to align with template";break;default:return}X({data:{deviations:[{standardName:i.standardName,status:a,receivedValue:i.receivedValue}],TenantFilter:M},action:{text:n,type:"single"},ready:!0}),K.handleOpen(),em(t)}},eh=(e,t)=>{let a,n;if(t){switch(e){case"accept-customer-specific":a="CustomerSpecific",n="accept as customer specific";break;case"accept":a="Accepted",n="accept";break;case"deny":a="Denied",n="deny";break;case"deny-delete":a="DeniedDelete",n="deny and delete";break;case"deny-remediate":a="DeniedRemediate",n="deny and remediate to align with template";break;default:return}X({data:{deviations:[{standardName:t.standardName,status:a,receivedValue:t.receivedValue}],TenantFilter:M},action:{text:n,type:"single"},ready:!0}),K.handleOpen()}},ev=e=>{let t,a;if(!ee.currentDeviations||0===ee.currentDeviations.length){G(null);return}switch(e){case"accept-all-customer-specific":t="CustomerSpecific",a="accept all deviations as customer specific";break;case"accept-all":t="Accepted",a="accept all deviations";break;case"deny-all":t="Denied",a="deny all deviations";break;case"deny-all-delete":t="DeniedDelete",a="deny all deviations and delete";break;case"deny-all-remediate":t="DeniedRemediate",a="deny all deviations and remediate to align with template";break;default:G(null);return}let n=ee.currentDeviations.map(e=>({standardName:e.standardName,status:t,receivedValue:e.receivedValue}));X({data:{deviations:n,TenantFilter:M,receivedValues:n.map(e=>e.receivedValue)},action:{text:a,type:"bulk",count:n.length},ready:!0}),K.handleOpen(),G(null)},eA=[{label:"Refresh Data",icon:(0,n.jsx)(p.A,{}),noConfirm:!0,customFunction:()=>{J.refetch(),Q.refetch(),B&&Y.refetch()}},...B?[{label:"Run Standard Now (Currently Selected Tenant only)",type:"GET",url:"/api/ExecStandardsRun",icon:(0,n.jsx)(m.A,{}),data:{TemplateId:B},confirmText:"Are you sure you want to force a run of this standard?",multiPost:!1},{label:"Run Standard Now (All Tenants in Template)",type:"GET",url:"/api/ExecStandardsRun",icon:(0,n.jsx)(m.A,{}),data:{TemplateId:B,tenantFilter:"allTenants"},confirmText:"Are you sure you want to force a run of this standard?",multiPost:!1}]:[]],eD=el.map(e=>{var t,a;let i=(null===(t=e.standardName)||void 0===t?void 0:t.includes("ConditionalAccessTemplate"))||(null===(a=e.standardName)||void 0===a?void 0:a.includes("IntuneTemplate"));return{...e,actionButton:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.A,{variant:"outlined",endIcon:(0,n.jsx)(x.A,{}),onClick:t=>ep(t,e.id),size:"small",children:"Actions"}),(0,n.jsxs)(y.A,{anchorEl:H[e.id],open:!!H[e.id],onClose:()=>em(e.id),children:[(0,n.jsxs)(j.A,{onClick:()=>ex("accept-customer-specific",e.id),children:[(0,n.jsx)(d.A,{sx:{mr:1,color:"success.main"}}),"Accept Deviation - Customer Specific"]}),(0,n.jsxs)(j.A,{onClick:()=>ex("accept",e.id),children:[(0,n.jsx)(h.A,{sx:{mr:1,color:"info.main"}}),"Accept Deviation"]}),i&&(0,n.jsxs)(j.A,{onClick:()=>ex("deny-delete",e.id),children:[(0,n.jsx)(l.A,{sx:{mr:1,color:"error.main"}}),"Deny Deviation - Delete Policy"]}),(0,n.jsxs)(j.A,{onClick:()=>ex("deny-remediate",e.id),children:[(0,n.jsx)(o.A,{sx:{mr:1,color:"error.main"}}),"Deny Deviation - Remediate to align with template"]})]})]})}}),ef=eo.map(e=>{var t,a;let i=(null===(t=e.standardName)||void 0===t?void 0:t.includes("ConditionalAccessTemplate"))||(null===(a=e.standardName)||void 0===a?void 0:a.includes("IntuneTemplate"));return{...e,actionButton:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.A,{variant:"outlined",endIcon:(0,n.jsx)(x.A,{}),onClick:t=>ep(t,"accepted-".concat(e.id)),size:"small",children:"Actions"}),(0,n.jsxs)(y.A,{anchorEl:H["accepted-".concat(e.id)],open:!!H["accepted-".concat(e.id)],onClose:()=>em("accepted-".concat(e.id)),children:[i&&(0,n.jsxs)(j.A,{onClick:()=>eh("deny-delete",e),children:[(0,n.jsx)(l.A,{sx:{mr:1,color:"error.main"}}),"Deny - Delete Policy"]}),(0,n.jsxs)(j.A,{onClick:()=>eh("deny-remediate",e),children:[(0,n.jsx)(o.A,{sx:{mr:1,color:"error.main"}}),"Deny - Remediate to align with template"]}),(0,n.jsxs)(j.A,{onClick:()=>eh("accept-customer-specific",e),children:[(0,n.jsx)(d.A,{sx:{mr:1,color:"info.main"}}),"Accept - Customer Specific"]})]})]})}}),ey=ed.map(e=>{var t,a;let i=(null===(t=e.standardName)||void 0===t?void 0:t.includes("ConditionalAccessTemplate"))||(null===(a=e.standardName)||void 0===a?void 0:a.includes("IntuneTemplate"));return{...e,actionButton:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.A,{variant:"outlined",endIcon:(0,n.jsx)(x.A,{}),onClick:t=>ep(t,"customer-".concat(e.id)),size:"small",children:"Actions"}),(0,n.jsxs)(y.A,{anchorEl:H["customer-".concat(e.id)],open:!!H["customer-".concat(e.id)],onClose:()=>em("customer-".concat(e.id)),children:[i&&(0,n.jsxs)(j.A,{onClick:()=>eh("deny-delete",e),children:[(0,n.jsx)(l.A,{sx:{mr:1,color:"error.main"}}),"Deny - Delete"]}),(0,n.jsxs)(j.A,{onClick:()=>eh("deny-remediate",e),children:[(0,n.jsx)(o.A,{sx:{mr:1,color:"error.main"}}),"Deny - Remediate to align with template"]}),(0,n.jsxs)(j.A,{onClick:()=>eh("accept",e),children:[(0,n.jsx)(h.A,{sx:{mr:1,color:"success.main"}}),"Accept"]})]})]})}}),ej=eu.map(e=>({...e,actionButton:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.A,{variant:"outlined",endIcon:(0,n.jsx)(x.A,{}),onClick:t=>ep(t,"denied-".concat(e.id)),size:"small",children:"Actions"}),(0,n.jsxs)(y.A,{anchorEl:H["denied-".concat(e.id)],open:!!H["denied-".concat(e.id)],onClose:()=>em("denied-".concat(e.id)),children:[(0,n.jsxs)(j.A,{onClick:()=>eh("accept",e),children:[(0,n.jsx)(h.A,{sx:{mr:1,color:"success.main"}}),"Accept"]}),(0,n.jsxs)(j.A,{onClick:()=>eh("accept-customer-specific",e),children:[(0,n.jsx)(d.A,{sx:{mr:1,color:"info.main"}}),"Accept - Customer Specific"]})]})]})})),eg=ee.alignedCount+ee.currentDeviationsCount+ee.acceptedDeviationsCount+ee.customerSpecificDeviations,eC=eg>0?Math.round(ee.alignedCount/eg*100):0,eb=eC+0,ew=[{icon:(0,n.jsx)(v.A,{}),text:"Template ID: ".concat(B||"Loading...")},...eg>0?[{component:(0,n.jsxs)(g.A,{alignItems:"center",flexWrap:"wrap",direction:"row",spacing:2,children:[(0,n.jsx)(C.A,{icon:(0,n.jsx)(b.A,{fontSize:"small",children:(0,n.jsx)(A.A,{})}),label:"".concat(eC,"% Compliant"),variant:"outlined",size:"small",color:100===eC?"success":eC>=50?"warning":"error"}),(0,n.jsx)(C.A,{label:"".concat(eb,"% Combined Score"),variant:"outlined",size:"small",color:eb>=80?"success":eb>=60?"warning":"error"})]})}]:[]];return(0,n.jsxs)(z.f,{tabOptions:_,title:"Manage Drift",subtitle:ew,backUrl:"/tenant/standards/list-standards",actions:eA,actionsData:{},isFetching:J.isFetching||Q.isFetching||Y.isFetching,children:[(0,n.jsx)(L.v,{title:"Manage Drift"}),(0,n.jsx)(w.A,{sx:{py:2},children:J.isFetching||$&&0!==$.length&&0!==Z.length?(0,n.jsxs)(S.A,{container:!0,spacing:3,children:[(0,n.jsx)(S.A,{size:{xs:12,md:4},children:(0,n.jsx)(N.b,{title:"Drift Overview",chartType:"donut",chartSeries:et,labels:["Aligned Policies","Accepted Deviations","Current Deviations","Customer Specific Deviations"],isFetching:J.isFetching})}),(0,n.jsx)(S.A,{size:{xs:12,md:8},children:(0,n.jsxs)(g.A,{spacing:3,children:[(0,n.jsxs)(w.A,{children:[(0,n.jsxs)(w.A,{display:"flex",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[(0,n.jsx)(k.A,{variant:"h6",children:"Current Deviations"}),(0,n.jsxs)(w.A,{display:"flex",gap:1,children:[(0,n.jsx)(f.A,{variant:"outlined",endIcon:(0,n.jsx)(x.A,{}),onClick:e=>G(e.currentTarget),size:"small",children:"Bulk Actions"}),(0,n.jsxs)(y.A,{anchorEl:q,open:!!q,onClose:()=>G(null),children:[(0,n.jsxs)(j.A,{onClick:()=>ev("accept-all-customer-specific"),children:[(0,n.jsx)(D,{sx:{mr:1,color:"success.main"}}),"Accept All Deviations - Customer Specific"]}),(0,n.jsxs)(j.A,{onClick:()=>ev("accept-all"),children:[(0,n.jsx)(h.A,{sx:{mr:1,color:"info.main"}}),"Accept All Deviations"]}),ee.currentDeviations.some(e=>{var t,a;return(null===(t=e.standardName)||void 0===t?void 0:t.includes("ConditionalAccessTemplate"))||(null===(a=e.standardName)||void 0===a?void 0:a.includes("IntuneTemplate"))})&&(0,n.jsxs)(j.A,{onClick:()=>ev("deny-all-delete"),children:[(0,n.jsx)(l.A,{sx:{mr:1,color:"error.main"}}),"Deny All Deviations - Delete"]}),(0,n.jsxs)(j.A,{onClick:()=>ev("deny-all-remediate"),children:[(0,n.jsx)(o.A,{sx:{mr:1,color:"error.main"}}),"Deny All Deviations - Remediate to align with template"]}),(0,n.jsxs)(j.A,{onClick:()=>{X({data:{RemoveDriftCustomization:!0,TenantFilter:M},action:{text:"remove all drift customizations",type:"reset"},ready:!0}),K.handleOpen(),G(null)},children:[(0,n.jsx)(l.A,{sx:{mr:1,color:"warning.main"}}),"Remove Drift Customization"]})]})]})]}),(0,n.jsx)(F.L,{items:eD,isCollapsible:!0,layout:"single",isFetching:J.isFetching})]}),ef.length>0&&(0,n.jsxs)(w.A,{children:[(0,n.jsx)(k.A,{variant:"h6",sx:{mb:2},children:"Accepted Deviations"}),(0,n.jsx)(F.L,{items:ef,isCollapsible:!0,layout:"single",isFetching:J.isFetching})]}),ey.length>0&&(0,n.jsxs)(w.A,{children:[(0,n.jsx)(k.A,{variant:"h6",sx:{mb:2},children:"Accepted Deviations - Customer Specific"}),(0,n.jsx)(F.L,{items:ey,isCollapsible:!0,layout:"single",isFetching:J.isFetching})]}),ej.length>0&&(0,n.jsxs)(w.A,{children:[(0,n.jsx)(k.A,{variant:"h6",sx:{mb:2},children:"Denied Deviations"}),(0,n.jsx)(F.L,{items:ej,isCollapsible:!0,layout:"single",isFetching:J.isFetching})]})]})})]}):(0,n.jsxs)(w.A,{sx:{textAlign:"center",py:8},children:[(0,n.jsx)(k.A,{variant:"h5",color:"text.secondary",sx:{mb:2},children:"No Drift Data Available"}),(0,n.jsx)(k.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"This standard does not have any drift entries, or it is not a drift compatible standard."}),(0,n.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"To enable drift monitoring for this tenant, please ensure:"}),(0,n.jsxs)(w.A,{component:"ul",sx:{textAlign:"left",display:"inline-block",mt:2},children:[(0,n.jsx)(k.A,{component:"li",variant:"body2",color:"text.secondary",children:"A drift template has been created and assigned to this tenant"}),(0,n.jsx)(k.A,{component:"li",variant:"body2",color:"text.secondary",children:"The standard is configured for drift monitoring"}),(0,n.jsx)(k.A,{component:"li",variant:"body2",color:"text.secondary",children:"Drift data collection has been completed for this tenant"})]})]})}),W.ready&&(0,n.jsx)(V.B,{createDialog:K,title:"Confirmation",fields:[{type:"textField",name:"reason",label:"Reason for change (Mandatory)"}],api:{url:"/api/ExecUpdateDriftDeviation",type:"POST",data:{deviations:"deviations"},confirmText:"Are you sure you'd like to ".concat((null===(e=W.action)||void 0===e?void 0:e.text)||"update"," ").concat((null===(t=W.action)||void 0===t?void 0:t.type)==="single"?"this deviation":(null===(a=W.action)||void 0===a?void 0:a.type)==="bulk"?"these ".concat((null===(i=W.action)||void 0===i?void 0:i.count)||0," deviations"):(null===(O=W.action)||void 0===O?void 0:O.type)==="reset"?"for this tenant":"this deviation","?")},row:W.data,relatedQueryKeys:["TenantDrift-".concat(M)]})]})};O.getLayout=e=>(0,n.jsx)(i.P,{children:e});let B=O},85496:(e,t,a)=>{"use strict";a.d(t,{b:()=>j});var n=a(37876),i=a(14232),s=a(54538),r=a(1073),c=a(71538),l=a(24933),o=a(76776),d=a(22474),u=a(77018),p=a(67578),m=a(30566),x=a(95449),h=a(18847),v=a.n(h),A=a(54773);let D=v()(()=>Promise.all([a.e(7144),a.e(1352)]).then(a.bind(a,21352)),{loadableGenerated:{webpack:()=>[21352]},ssr:!1,loading:()=>null}),f=(0,A.Ay)(D)({}),y=(e,t)=>{let a=(0,m.A)();return{chart:{background:"transparent",toolbar:{show:!1,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:1}}},colors:[a.palette.success.main,a.palette.warning.main,a.palette.error.main,a.palette.neutral[200]],dataLabels:{enabled:!1},xaxis:{labels:{show:!0,rotate:0,style:{fontSize:"12px"}},tickPlacement:"on"},labels:e,legend:{show:!1},plotOptions:{pie:{expandOnClick:!1}},states:{active:{filter:{type:"none"}},hover:{filter:{type:"none"}}},stroke:{width:"line"===t?2:1},theme:{mode:a.palette.mode},tooltip:{fillSeriesColor:!1}}},j=e=>{let{isFetching:t,chartSeries:a=[],labels:m=[],chartType:h="donut",title:v,actions:A,onClick:D}=e,[j,g]=(0,i.useState)("Last 7 days"),[C,b]=(0,i.useState)([]),w=y(m,h),k=(a=a.filter(e=>null!==e)).reduce((e,t)=>e+t,0);return(0,i.useEffect)(()=>{"bar"===h&&b(m.map((e,t)=>({data:[{x:e,y:a[t]}]})))},[h,a.length,m]),(0,n.jsxs)(s.A,{style:{width:"100%",height:"100%"},onClick:D,sx:{cursor:D?"pointer":"default",transition:"all 0.2s ease-in-out","&:hover":D?{boxShadow:e=>e.shadows[8],transform:"translateY(-2px)"}:{}},children:[(0,n.jsx)(r.A,{action:A?(0,n.jsx)(x.$,{color:"inherit",actions:A,label:j,size:"small",variant:"text"}):null,title:v}),(0,n.jsx)(c.A,{}),(0,n.jsxs)(l.A,{children:[void 0===h||t||0===a.length?(0,n.jsx)(o.A,{variant:"rounded",sx:{height:280}}):(0,n.jsx)(f,{height:280,options:w,series:C&&"bar"===h?C:a,type:h}),(0,n.jsx)(d.A,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:1,sx:{py:1},children:m.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.A,{variant:"h5",children:"Total"}),(0,n.jsx)(u.A,{variant:"h5",children:t?"0":k})]})}),(0,n.jsx)(d.A,{spacing:1,children:t?(0,n.jsx)(o.A,{height:30}):(0,n.jsx)(n.Fragment,{children:m.length>0&&a.map((e,t)=>(0,n.jsxs)(d.A,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:1,sx:{py:1},children:[(0,n.jsxs)(d.A,{alignItems:"center",direction:"row",spacing:1,sx:{flexGrow:1},children:[(0,n.jsx)(p.A,{sx:{backgroundColor:w.colors[t],borderRadius:"50%",height:8,width:8}}),(0,n.jsx)(u.A,{color:"text.secondary",variant:"body2",children:m[t]})]}),(0,n.jsx)(u.A,{color:"text.secondary",variant:"body2",children:e})]},m[t]))})})]})]})}},90950:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(93944),i=a(37876);let s=(0,n.A)([(0,i.jsx)("path",{d:"m21 5-9-4-9 4v6c0 5.55 3.84 10.74 9 12 2.3-.56 4.33-1.9 5.88-3.71l-3.12-3.12c-1.94 1.29-4.58 1.07-6.29-.64-1.95-1.95-1.95-5.12 0-7.07s5.12-1.95 7.07 0c1.71 1.71 1.92 4.35.64 6.29l2.9 2.9C20.29 15.69 21 13.38 21 11z"},"0"),(0,i.jsx)("circle",{cx:"12",cy:"12",r:"3"},"1")],"Policy")}},e=>{var t=t=>e(e.s=t);e.O(0,[5069,2836,636,6593,8792],()=>t(33713)),_N_E=e.O()}]);