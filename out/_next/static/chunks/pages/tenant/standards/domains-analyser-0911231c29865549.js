(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8153],{81:(e,n,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenant/standards/domains-analyser",function(){return a(90983)}])},6914:(e,n,a)=>{"use strict";a.d(n,{A:()=>s});var t=a(93944),l=a(37876);let s=(0,t.A)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever")},90983:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>_});var t=a(37876),l=a(47737),s=a(29390),i=a(12435),r=a(48230),o=a.n(r),c=a(22322),d=a(17825),m=a(68723),u=a(763),h=a(6914);let x=(0,a(93944).A)((0,t.jsx)("path",{d:"M19.3 16.9c.4-.7.7-1.5.7-2.4 0-2.5-2-4.5-4.5-4.5S11 12 11 14.5s2 4.5 4.5 4.5c.9 0 1.7-.3 2.4-.7l3.2 3.2 1.4-1.4zm-3.8.1c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5M12 20v2C6.48 22 2 17.52 2 12S6.48 2 12 2c4.84 0 8.87 3.44 9.8 8h-2.07c-.64-2.46-2.4-4.47-4.73-5.41V5c0 1.1-.9 2-2 2h-2v2c0 .55-.45 1-1 1H8v2h2v3H9l-4.79-4.79C4.08 10.79 4 11.38 4 12c0 4.41 3.59 8 8 8"}),"TravelExplore");var A=a(73683),j=a(14232),p=a(5596),D=a(47866),y=a(3034),v=a(78523),C=a(88992),f=a(35764);let b=e=>{let{createDialog:n}=e,a=(0,C.mN)({defaultValues:{tenantFilter:{value:"AllTenants",label:"*All Tenants"}}}),{handleSubmit:s,control:i}=a,[r,o]=(0,j.useState)(!1),d=(0,c.nN)({urlFromData:!0}),u=()=>{o(!1),n.handleClose()};return(0,t.jsx)(p.A,{open:n.open,onClose:u,maxWidth:"sm",fullWidth:!0,children:(0,t.jsx)(C.Op,{...a,children:(0,t.jsxs)("form",{onSubmit:s(e=>{o(!0),d.mutate({url:"/api/ExecDomainAnalyser",queryKey:"domain-analyser-".concat(e.tenantFilter),data:e.tenantFilter?{TenantFilter:e.tenantFilter}:{}})}),children:[(0,t.jsx)(D.A,{children:"Run Domain Analysis"}),(0,t.jsxs)(y.A,{children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{children:"This will run a Domain Analysis to check for DNS configuration issues. Select a tenant (or all tenants) below."}),(0,t.jsx)(f.w,{formControl:i,name:"tenantFilter",required:!1,disableClearable:!1,allTenants:!0,type:"single"})]}),(0,t.jsx)(m.v,{apiObject:d,alertSx:{mt:2}})]}),(0,t.jsxs)(v.A,{children:[(0,t.jsx)(l.A,{onClick:u,children:"Cancel"}),(0,t.jsx)(l.A,{type:"submit",variant:"contained",disabled:r||d.isLoading,startIcon:(0,t.jsx)(A.A,{}),children:"Run Analysis"})]})]})})})};var P=a(82836);let w=()=>{let e=(0,d.t)().currentTenant,n=(0,P.s)(),a=(0,c.R_)({url:"/api/ExecDomainAnalyser",waiting:!1}),i=[{label:"Delete from analyser",type:"GET",icon:(0,t.jsx)(h.A,{}),url:"/api/ExecDnsConfig",data:{Action:"!RemoveDomain",Domain:"Domain"},confirmText:"Are you sure you want to delete this domain from the analyser?",multiPost:!1}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.a,{title:"Domains Analyser",apiUrl:"/api/ListDomainAnalyser",cardButton:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.A,{component:o(),href:"/tenant/tools/individual-domains",startIcon:(0,t.jsx)(x,{}),children:"Check Individual Domain"}),(0,t.jsx)(l.A,{onClick:n.handleOpen,startIcon:(0,t.jsx)(A.A,{}),children:"Run Analysis Now"})]}),prependComponents:(0,t.jsx)(m.v,{apiObject:a}),queryKey:"ListDomains-".concat(e),simpleColumns:["Domain","ScorePercentage","MailProvider","SPFPassAll","MXPassTest","DMARCPresent","DMARCActionPolicy","DMARCPercentagePass","DNSSECPresent","DKIMEnabled"],offCanvas:{children:e=>(0,t.jsx)(u.a,{domain:e.Domain,fullwidth:!0})},actions:i}),(0,t.jsx)(b,{createDialog:n})]})};w.getLayout=e=>(0,t.jsx)(i.P,{children:e});let _=w}},e=>{var n=n=>e(e.s=n);e.O(0,[763,636,6593,8792],()=>n(81)),_N_E=e.O()}]);