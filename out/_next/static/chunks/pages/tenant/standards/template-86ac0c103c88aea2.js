(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2724],{10881:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(93944),i=a(37876);let r=(0,n.A)((0,i.jsx)("path",{d:"m13.7826 15.1719 2.1213-2.1213 5.9963 5.9962-2.1213 2.1213zM17.5 10c1.93 0 3.5-1.57 3.5-3.5 0-.58-.16-1.12-.41-1.6l-2.7 2.7-1.49-1.49 2.7-2.7c-.48-.25-1.02-.41-1.6-.41C15.57 3 14 4.57 14 6.5c0 .41.08.8.21 1.16l-1.85 1.85-1.78-1.78.71-.71-1.41-1.41L12 3.49c-1.17-1.17-3.07-1.17-4.24 0L4.22 7.03l1.41 1.41H2.81l-.71.71 3.54 3.54.71-.71V9.15l1.41 1.41.71-.71 1.78 1.78-7.41 7.41 2.12 2.12L16.34 9.79c.36.13.75.21 1.16.21"}),"Construction")},11621:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(93944),i=a(37876);let r=(0,n.A)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public")},17194:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenant/standards/template",function(){return a(45083)}])},45083:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eU});var n=a(37876),i=a(67578),r=a(86650),d=a(22474),s=a(47737),o=a(94810),l=a(77018),c=a(76776),m=a(59568),u=a(12435),h=a(88992),p=a(89099);let T=(0,a(93944).A)((0,n.jsx)("path",{d:"M17.59 3.59c-.38-.38-.89-.59-1.42-.59H5c-1.11 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7.83c0-.53-.21-1.04-.59-1.41zM12 19c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m1-10H7c-1.1 0-2-.9-2-2s.9-2 2-2h6c1.1 0 2 .9 2 2s-.9 2-2 2"}),"SaveRounded");var f=a(95339),x=a(14232),A=a(75069),g=a(68284),j=a(75720),C=a(22430),y=a(70946),v=a(66741),S=a(54538),b=a(24422),z=a(59017),U=a(37224),w=a(71538),k=a(16652),M=a(48504),E=a(30753),V=a(11621),R=a(95753),L=a(60995),D=a(10881),N=a(60455),H=a(87505),I=a(58105),O=a(82851),F=a.n(O);let G=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",children:[(0,n.jsx)("path",{fill:"#f1511b",d:"M121.666 121.666H0V0h121.666z"}),(0,n.jsx)("path",{fill:"#80cc28",d:"M256 121.666H134.335V0H256z"}),(0,n.jsx)("path",{fill:"#00adef",d:"M121.663 256.002H0V134.336h121.663z"}),(0,n.jsx)("path",{fill:"#fbbc09",d:"M256 256.002H134.335V134.336H256z"})]}),B=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.06em",height:"1em",viewBox:"0 0 256 242",children:[(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"logosMicrosoftAzure0",x1:"58.972%",x2:"37.191%",y1:"7.411%",y2:"103.762%",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:"#114a8b"}),(0,n.jsx)("stop",{offset:"100%",stopColor:"#0669bc"})]}),(0,n.jsxs)("linearGradient",{id:"logosMicrosoftAzure1",x1:"59.719%",x2:"52.691%",y1:"52.313%",y2:"54.864%",children:[(0,n.jsx)("stop",{offset:"0%",stopOpacity:.3}),(0,n.jsx)("stop",{offset:"7.1%",stopOpacity:.2}),(0,n.jsx)("stop",{offset:"32.1%",stopOpacity:.1}),(0,n.jsx)("stop",{offset:"62.3%",stopOpacity:.05}),(0,n.jsx)("stop",{offset:"100%",stopOpacity:0})]}),(0,n.jsxs)("linearGradient",{id:"logosMicrosoftAzure2",x1:"37.279%",x2:"62.473%",y1:"4.6%",y2:"99.979%",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:"#3ccbf4"}),(0,n.jsx)("stop",{offset:"100%",stopColor:"#2892df"})]})]}),(0,n.jsx)("path",{fill:"url(#logosMicrosoftAzure0)",d:"M85.343.003h75.753L82.457 233a12.08 12.08 0 0 1-11.442 8.216H12.06A12.06 12.06 0 0 1 .633 225.303L73.898 8.219A12.08 12.08 0 0 1 85.343 0z"}),(0,n.jsx)("path",{fill:"#0078d4",d:"M195.423 156.282H75.297a5.56 5.56 0 0 0-3.796 9.627l77.19 72.047a12.14 12.14 0 0 0 8.28 3.26h68.02z"}),(0,n.jsx)("path",{fill:"url(#logosMicrosoftAzure1)",d:"M85.343.003a11.98 11.98 0 0 0-11.471 8.376L.723 225.105a12.045 12.045 0 0 0 11.37 16.112h60.475a12.93 12.93 0 0 0 9.921-8.437l14.588-42.991l52.105 48.6a12.33 12.33 0 0 0 7.757 2.828h67.766l-29.721-84.935l-86.643.02L161.37.003z"}),(0,n.jsx)("path",{fill:"url(#logosMicrosoftAzure2)",d:"M182.098 8.207A12.06 12.06 0 0 0 170.67.003H86.245c5.175 0 9.773 3.301 11.428 8.204L170.94 225.3a12.062 12.062 0 0 1-11.428 15.92h84.429a12.062 12.062 0 0 0 11.425-15.92z"})]}),q=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"4 8 55 48",children:[(0,n.jsx)("path",{d:"M55.50977,8h-12.207A3.48835,3.48835,0,0,0,40.835,9.02246L12.02246,37.835A3.48835,3.48835,0,0,0,11,40.30273v12.207A3.49006,3.49006,0,0,0,14.49023,56h12.207A3.48835,3.48835,0,0,0,29.165,54.97754L57.978,26.165A3.48994,3.48994,0,0,0,59,23.69727v-12.207A3.49007,3.49007,0,0,0,55.50977,8Z",fill:"#28a8ea"}),(0,n.jsx)("path",{d:"M55.51,56H43.30275a3.49,3.49,0,0,1-2.4678-1.0222L35,49.14286V38.24A6.24,6.24,0,0,1,41.24,32H52.14286L57.9778,37.835A3.49,3.49,0,0,1,59,40.30275V52.51A3.49,3.49,0,0,1,55.51,56Z",fill:"#0078d4"}),(0,n.jsx)("path",{d:"M14.49,8H26.69725a3.49,3.49,0,0,1,2.4678,1.0222L35,14.85714V25.76A6.24,6.24,0,0,1,28.76,32H17.85714L12.0222,26.16505A3.49,3.49,0,0,1,11,23.69725V11.49A3.49,3.49,0,0,1,14.49,8Z",fill:"#50d9ff"}),(0,n.jsx)("path",{d:"M33,20.33008V46.66992a1.73444,1.73444,0,0,1-.04.3999A2.31378,2.31378,0,0,1,30.66992,49H11V18H30.66992A2.326,2.326,0,0,1,33,20.33008Z",opacity:"0.2"}),(0,n.jsx)("path",{d:"M34,20.33008V44.66992A3.36171,3.36171,0,0,1,30.66992,48H11V17H30.66992A3.34177,3.34177,0,0,1,34,20.33008Z",opacity:"0.1"}),(0,n.jsx)("path",{d:"M33,20.33008V44.66992A2.326,2.326,0,0,1,30.66992,47H11V18H30.66992A2.326,2.326,0,0,1,33,20.33008Z",opacity:"0.2"}),(0,n.jsx)("path",{d:"M32,20.33008V44.66992A2.326,2.326,0,0,1,29.66992,47H11V18H29.66992A2.326,2.326,0,0,1,32,20.33008Z",opacity:"0.1"}),(0,n.jsx)("rect",{x:"4.00022",y:"18",width:"28",height:"28",rx:"2.33333",fill:"#0078d4"}),(0,n.jsx)("path",{d:"M22.58533,26.88121h-6.5472V30.7098h6.14535v2.45375H16.03813V37.1401h6.89609v2.4434h-9.868V24.4165h9.5191Z",fill:"#fff"})]}),P=e=>(0,n.jsxs)("svg",{id:"fe62c4da-ab98-4bb3-a1a5-9a22b229614c",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"f36136e6-f568-4134-ab6f-c0fefbc04f83",x1:"9",y1:"16.795",x2:"9",y2:"1.205",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{offset:"0","stop-color":"#5e9624"}),(0,n.jsx)("stop",{offset:"0.321","stop-color":"#639d26"}),(0,n.jsx)("stop",{offset:"0.794","stop-color":"#6fb12a"}),(0,n.jsx)("stop",{offset:"0.999","stop-color":"#76bc2d"})]})}),(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M16.083,8.438c0,4.571-5.626,8.25-6.85,9a.449.449,0,0,1-.466,0c-1.224-.747-6.85-4.426-6.85-9v-5.5A.44.44,0,0,1,2.351,2.5C6.728,2.386,5.72.5,9,.5s2.272,1.886,6.649,2a.44.44,0,0,1,.434.435Z",fill:"#76bc2d"}),(0,n.jsx)("path",{d:"M15.5,8.485c0,4.191-5.16,7.566-6.282,8.25a.412.412,0,0,1-.428,0C7.664,16.051,2.5,12.676,2.5,8.485V3.441a.4.4,0,0,1,.4-.4C6.916,2.935,5.992,1.205,9,1.205s2.084,1.73,6.1,1.837a.4.4,0,0,1,.4.4Z",fill:"url(#f36136e6-f568-4134-ab6f-c0fefbc04f83)"}),(0,n.jsx)("path",{d:"M11.853,7.66h-.408l0-1.417a2.652,2.652,0,0,0-.7-1.809,2.358,2.358,0,0,0-3.483,0,2.606,2.606,0,0,0-.7,1.808V7.66H6.147a.328.328,0,0,0-.326.32v3.682a.329.329,0,0,0,.326.32h5.706a.329.329,0,0,0,.326-.32V7.98A.328.328,0,0,0,11.853,7.66Zm-1.549,0H7.7V6.219a1.434,1.434,0,0,1,.41-.99,1.2,1.2,0,0,1,1.788,0,1.394,1.394,0,0,1,.153.2h0a1.445,1.445,0,0,1,.258.791Z",fill:"#fff"}),(0,n.jsx)("path",{d:"M6.148,7.658h5.705a.328.328,0,0,1,.21.08L5.938,11.9a.313.313,0,0,1-.116-.241V7.979A.328.328,0,0,1,6.148,7.658Z",fill:"#b3b3b3",opacity:"0.15"}),(0,n.jsx)("path",{d:"M11.853,7.658H6.147a.328.328,0,0,0-.209.08L12.062,11.9a.314.314,0,0,0,.117-.241V7.979A.329.329,0,0,0,11.853,7.658Z",fill:"#a3a3a3",opacity:"0.09"})]})]}),W=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#fff",fillRule:"evenodd",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 101 81",children:[(0,n.jsx)("use",{x:"0.5",y:"0.5",xlinkHref:"#A"}),(0,n.jsx)("symbol",{id:"A",overflow:"visible",children:(0,n.jsxs)("g",{stroke:"none",children:[(0,n.jsx)("path",{d:"M95.53 22.778H79.329V5c0-2.666-2.347-5-5.028-5H5.028C2.347 0 0 2.334 0 5v44.445c0 2.667 2.347 5 5.028 5h25.698c0 2.777-.223 4.222-1.117 5.111-1.453 1.444-5.363 2.111-13.408 2.111h-1.676v7.778h50.837v6.111C65.363 78 67.374 80 69.833 80H95.53c2.458 0 4.47-2 4.47-4.444V27.222c0-2.445-2.011-4.445-4.47-4.445z"}),(0,n.jsxs)("g",{fill:"#515150",children:[(0,n.jsx)("path",{d:"M77.654 58.334L89.162 50l-11.508-8.333zm-14.526 5c-17.542 0-16.201-2.778-16.201-13.333H32.402c0 10.556 1.34 13.334-16.201 13.334v4.444h46.927v-4.444zm-23.463-29a7.11 7.11 0 01-7.151-7.111c0-4 3.24-7.222 7.151-7.222 4.022 0 7.262 3.222 7.262 7.222-.112 4-3.352 7.111-7.262 7.111z"}),(0,n.jsx)("path",{d:"M77.654 58.889L89.162 50l-11.508-8.889z"}),(0,n.jsx)("path",{d:"M81.005 52.778v-5.556H7.263v-40h64.804v15h5.587V5c0-1.667-1.676-3.333-3.352-3.333H5.028C3.352 1.667 1.676 3.334 1.676 5v44.445c0 1.667 1.676 3.333 3.352 3.333h27.375c.111 8.333-.224 10.556-16.201 10.556v4.444h46.927v-4.444c-15.977 0-16.313-2.222-16.201-10.556h34.078zm14.526-28.333H46.257c-1.117-2.556-3.687-4.334-6.592-4.334-4.023 0-7.263 3.223-7.263 7.111s3.24 7.111 7.263 7.111c3.017 0 5.586-1.778 6.592-4.334h47.598V71.11H71.509V55H67.04v20.556c0 1.555 1.229 2.778 2.793 2.778h25.698c1.564 0 2.793-1.222 2.793-2.778V27.222c0-1.556-1.229-2.778-2.793-2.778zM85.475 75.556h-5.586v-1.667h5.586v1.667z"})]})]})})]});var K=a(62964),Z=a(59232),_=a(46402),J=a(29720);let Y=e=>[{label:"Report",value:"Report"},{label:"Alert",value:"warn"},{label:"Remediate",value:"Remediate"}].filter(t=>!(null==e?void 0:e[t.value.toLowerCase()])),Q=x.memo(e=>{let{standardName:t,component:a,formControl:i}=e,r={...a};return"AdminRolesMultiSelect"===a.type?(r.type="autoComplete",r.options=K.map(e=>({label:e.Name,value:e.ObjectId}))):"TimezoneSelect"===a.type?(r.type="autoComplete",r.options=Z.map(e=>({label:e.timezone,value:e.timezone})),r.multiple=!1):r.type=a.type,(0,n.jsx)(m.A,{size:12,children:(0,n.jsx)(I.A,{type:r.type,label:r.label,formControl:i,...r,name:"".concat(t,".").concat(r.name)})})});Q.displayName="CippAddedComponent";let X=e=>{let{standards:t,selectedStandards:a,expanded:r,handleAccordionToggle:c,handleRemoveStandard:u,handleAddMultipleStandard:p,formControl:T,editMode:O=!1,isDriftMode:K=!1}=e,[Z,X]=(0,x.useState)({}),[$,ee]=(0,x.useState)("all"),[et,ea]=(0,x.useState)(""),[en,ei]=(0,x.useState)({}),[er,ed]=(0,x.useState)({}),es=(0,h.FH)({control:T.control});(0,h.FH)({control:T.control,name:Object.keys(a).map(e=>"".concat(e,".trackDrift"))}),(0,x.useEffect)(()=>{K&&a&&Object.keys(a).forEach(e=>{let t=T.getValues(e)||{},a=t.autoRemediate;t.action||T.setValue("".concat(e,".action"),a?[{label:"Report",value:"Report"},{label:"Remediate",value:"Remediate"}]:[{label:"Report",value:"Report"}]),void 0===t.autoRemediate&&(T.setValue("".concat(e,".autoRemediate"),!1),T.setValue("".concat(e,".action"),[{label:"Report",value:"Report"}]))})},[K,a,T]);let eo=(e,t,a)=>{var n,i;if(!a)return!1;let r=F().get(a,"action");if(!r||Array.isArray(r)&&0===r.length)return!1;t.addedComponent&&t.addedComponent.some(e=>"switch"!==e.type&&!1!==e.required),t.disabledFeatures;let d=r&&(!Array.isArray(r)||r.length>0),s=null===(i=null===(n=t.addedComponent)||void 0===n?void 0:n.every(e=>{if("switch"===e.type)return!0;if(e.condition){let t=e.condition.field,n=F().get(a,t),i=e.condition.compareType||"is",r=e.condition.compareValue,d=e.condition.propertyName||"value",s=!1;if("value"===d)switch(i){case"is":s=F().isEqual(n,r);break;case"isNot":s=!F().isEqual(n,r);break;default:s=!1}else Array.isArray(n)&&(s="valueEq"===i&&n.some(e=>(null==e?void 0:e[d])===r));if(!s)return!0}if(!1===e.required)return!0;let t=F().get(a,e.name);return("autoComplete"===e.type||"select"===e.type)&&e.multiple?Array.isArray(t)&&t.length>0:!!t}))||void 0===i||i;return d&&s};(0,x.useEffect)(()=>{if(O){if(!es||0===Object.keys(es).length||Object.keys(Z).length>0)return;let e={},n={};Object.keys(a).forEach(a=>{let i=F().get(es,a);if(!i)return;e[a]=F().cloneDeep(i);let r=a.split("[")[0],d=t.find(e=>e.name===r);d&&(n[a]=eo(a,d,i))}),ed(e),ei(e),X(n)}},[es,a,O]);let el=(e,t,a)=>{let n=F().cloneDeep(a);ei(t=>({...t,[e]:n}));let i=eo(e,t,n);X(t=>({...t,[e]:i})),c(null)},ec=(e,t)=>{T.setValue("".concat(e,".autoRemediate"),t),T.setValue("".concat(e,".action"),t?[{label:"Report",value:"Report"},{label:"Remediate",value:"Remediate"}]:[{label:"Report",value:"Report"}])},em=e=>{let a=F().get(en,e);if(!a)return;T.setValue(e,F().cloneDeep(a));let n=e.split("[")[0],i=t.find(e=>e.name===n);if(i){let t=eo(e,i,a);X(a=>({...a,[e]:t}))}c(null)},eu=(0,x.useMemo)(()=>{let e={};return Object.keys(a).forEach(a=>{let n=a.split("[")[0],i=t.find(e=>e.name===n);if(!i)return;let r=A.find(e=>e.name===n),d=(null==r?void 0:r.cat)||"Other Standards";e[d]||(e[d]=[]),e[d].push({standardName:a,standard:i})}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>e.standard.label.localeCompare(t.standard.label))}),e},[a,t]),eh=(0,x.useMemo)(()=>{if(!et&&"all"===$)return eu;let e={},t=et.toLowerCase();return Object.keys(eu).forEach(a=>{let n=!et||a.toLowerCase().includes(t),i=eu[a].filter(e=>{let{standardName:a,standard:i}=e;if(a===r)return!0;let d=!et||n||i.label.toLowerCase().includes(t)||i.helpText&&i.helpText.toLowerCase().includes(t)||i.cat&&i.cat.toLowerCase().includes(t)||i.tag&&Array.isArray(i.tag)&&i.tag.some(e=>e.toLowerCase().includes(t)),s=F().get(Z,a),o="all"===$||"configured"===$&&s||"unconfigured"===$&&!s;return d&&o});i.length>0&&(e[a]=i)}),e},[eu,et,$,Z]),ep=(0,x.useMemo)(()=>{let e=0,t=0,a=0;return Object.keys(eu).forEach(n=>{eu[n].forEach(n=>{let{standardName:i}=n;e++,Z[i]?t++:a++})}),{allCount:e,configuredCount:t,unconfiguredCount:a}},[eu,Z]),eT=Object.keys(eh).length>0;return(0,n.jsxs)(n.Fragment,{children:[Object.keys(a).length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.A,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mt:2,mb:3,alignItems:{xs:"flex-start",sm:"center"}},children:[(0,n.jsx)(d.A,{direction:"row",alignItems:"center",spacing:1,sx:{flexGrow:1},children:(0,n.jsx)(g.A,{size:"small",variant:"filled",fullWidth:{xs:!0,sm:!1},sx:{width:{xs:"100%",sm:350}},placeholder:"Search...",value:et,onChange:e=>{r&&e.target.value!==et&&c(null),ea(e.target.value)},slotProps:{input:{startAdornment:(0,n.jsx)(j.A,{position:"start",sx:{margin:"0 !important"},children:(0,n.jsx)(k.A,{})}),endAdornment:et&&(0,n.jsx)(j.A,{position:"end",children:(0,n.jsx)(C.A,{title:"Clear search",children:(0,n.jsx)(y.A,{size:"small",onClick:()=>{r&&c(null),ea("")},"aria-label":"Clear search",children:(0,n.jsx)(M.A,{})})})})}}})}),(0,n.jsxs)(v.A,{variant:"outlined",color:"primary",size:"small",children:[(0,n.jsx)(s.A,{disabled:!0,color:"primary",children:(0,n.jsx)(o.A,{fontSize:"small",children:(0,n.jsx)(E.A,{})})}),(0,n.jsxs)(s.A,{variant:"all"===$?"contained":"outlined",onClick:()=>{r&&c(null),ee("all")},children:["All (",ep.allCount,")"]}),(0,n.jsxs)(s.A,{variant:"configured"===$?"contained":"outlined",onClick:()=>{r&&c(null),ee("configured")},children:["Configured (",ep.configuredCount,")"]}),(0,n.jsxs)(s.A,{variant:"unconfigured"===$?"contained":"outlined",onClick:()=>{r&&c(null),ee("unconfigured")},children:["Unconfigured (",ep.unconfiguredCount,")"]})]})]}),!eT&&(0,n.jsx)(i.A,{sx:{textAlign:"center",my:4},children:(0,n.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"No standards match the selected filter criteria or search query."})})]}),Object.keys(eh).map(e=>(0,n.jsxs)(x.Fragment,{children:[(0,n.jsx)(l.A,{variant:"h6",sx:{mb:2,mt:3},children:e}),eh[e].map(e=>{var t,a,h,A,g,j;let{standardName:v,standard:k}=e,M=r===v,E=k.addedComponent&&k.addedComponent.length>0,O=F().get(Z,v),X=k.disabledFeatures||{},$=F().get(es,"".concat(v,".action"));$&&!Array.isArray($)&&($=[$]);let ee=k.multiple?F().get(es,"".concat(v,".").concat(null===(a=k.addedComponent)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.name)):"",et=ee&&F().get(ee,"label")?"".concat(k.label," - ").concat(F().get(ee,"label")):k.label,ea=F().get(es,v),ei=F().get(en,v)||{},er=!F().isEqual(ea,ei),ed=!!ea&&(null===(j=null===(h=k.addedComponent)||void 0===h?void 0:h.every(e=>{if("switch"===e.type||!1===e.required)return!0;if(e.condition){let t=e.condition.field,a=F().get(ea,t),n=e.condition.compareType||"is",i=e.condition.compareValue,r=e.condition.propertyName||"value",d=!1;if("value"===r)switch(n){case"is":d=F().isEqual(a,i);break;case"isNot":d=!F().isEqual(a,i);break;default:d=!1}else Array.isArray(a)&&(d="valueEq"===n&&a.some(e=>(null==e?void 0:e[r])===i));if(!d)return!0}let t=F().get(ea,e.name);return("autoComplete"===e.type||"select"===e.type)&&e.multiple?Array.isArray(t)&&t.length>0:!!t}))||void 0===j||j);k.addedComponent&&k.addedComponent.some(e=>"switch"!==e.type&&!1!==e.required);let eo=F().get(ea,"action"),eu=eo&&(!Array.isArray(eo)||eo.length>0);return(0,n.jsxs)(S.A,{sx:{mb:2},children:[(0,n.jsxs)(d.A,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{p:3},children:[(0,n.jsxs)(d.A,{direction:"row",alignItems:"center",spacing:3,children:[(0,n.jsx)(b.A,{children:"Global Standards"===k.cat?(0,n.jsx)(V.A,{}):"Entra (AAD) Standards"===k.cat?(0,n.jsx)(B,{}):"Exchange Standards"===k.cat?(0,n.jsx)(q,{}):"Defender Standards"===k.cat?(0,n.jsx)(P,{}):"Intune Standards"===k.cat?(0,n.jsx)(W,{}):(0,n.jsx)(G,{})}),(0,n.jsxs)(d.A,{children:[(0,n.jsx)(l.A,{variant:"h6",children:et}),(0,n.jsxs)(d.A,{direction:"row",spacing:1,sx:{my:.5},children:[!K&&$&&(null==$?void 0:$.length)>0&&(0,n.jsx)(n.Fragment,{children:null==$?void 0:$.map((e,t)=>(0,n.jsx)(x.Fragment,{children:(0,n.jsx)(z.A,{label:e.label,color:"primary",variant:"outlined",size:"small",sx:{mr:1},icon:(0,n.jsxs)(o.A,{children:["Report"===e.value&&(0,n.jsx)(R.A,{}),"warn"===e.value&&(0,n.jsx)(L.A,{}),"Remediate"===e.value&&(0,n.jsx)(D.A,{})]})})},t))}),(0,n.jsx)(z.A,{label:null==k?void 0:k.impact,color:(null==k?void 0:k.impact)==="High Impact"?"error":"info",variant:"outlined",size:"small",sx:{mr:1}})]}),(0,n.jsx)(i.A,{sx:{"& a":{color:e=>e.palette.primary.main,textDecoration:"underline","&:hover":{textDecoration:"none"}},color:"text.secondary",fontSize:"0.875rem",lineHeight:1.43,mr:1},children:(0,n.jsx)(J.oz,{components:{a:e=>{let{href:t,children:a,...i}=e;return(0,n.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",...i,children:a})},p:e=>{let{children:t}=e;return(0,n.jsx)("span",{children:t})}},children:k.helpText})})]})]}),(0,n.jsxs)(d.A,{direction:"row",alignItems:"center",spacing:1,children:[k.multiple&&(0,n.jsx)(C.A,{title:"Add another ".concat(k.label),children:(0,n.jsx)(y.A,{onClick:()=>p(v),children:(0,n.jsx)(o.A,{component:f.A})})}),(0,n.jsx)(i.A,{sx:{backgroundColor:O?"success.main":"warning.main",borderRadius:"50%",width:8,height:8}}),(0,n.jsx)(l.A,{variant:"body2",children:O?"Configured":"Unconfigured"}),(0,n.jsx)(C.A,{title:"Remove Standard",children:(0,n.jsx)(y.A,{color:"error",onClick:()=>u(v),children:(0,n.jsx)(N.A,{})})}),(0,n.jsx)(y.A,{onClick:()=>c(v),children:(0,n.jsx)(o.A,{component:H.A,sx:{transform:M?"rotate(180deg)":"rotate(0)"}})})]})]}),(0,n.jsxs)(U.A,{in:M,unmountOnExit:!0,children:[(0,n.jsx)(w.A,{}),(0,n.jsx)(i.A,{sx:{p:3},children:K?(0,n.jsxs)(m.A,{container:!0,spacing:2,children:[(0,n.jsx)(m.A,{size:12,children:(0,n.jsx)(I.A,{type:"switch",name:"".concat(v,".autoRemediate"),formControl:T,label:"Automatically remediate or deploy when drift is detected",defaultValue:!0,onChange:e=>ec(v,e.target.checked),fullWidth:!0})}),E&&(0,n.jsx)(n.Fragment,{children:null===(A=k.addedComponent)||void 0===A?void 0:A.map((e,t)=>(null==e?void 0:e.condition)?(0,n.jsx)(_.A,{formControl:T,field:"".concat(v,".").concat(e.condition.field),compareType:e.condition.compareType,compareValue:e.condition.compareValue,propertyName:e.condition.propertyName||"value",action:e.condition.action||"hide",children:(0,n.jsx)(Q,{standardName:v,component:e,formControl:T})},t):(0,n.jsx)(Q,{standardName:v,component:e,formControl:T},t))})]}):(0,n.jsxs)(m.A,{container:!0,spacing:2,children:[(0,n.jsx)(m.A,{size:4,children:(0,n.jsx)(I.A,{type:"autoComplete",name:"".concat(v,".action"),formControl:T,label:"Action",options:Y(X),multiple:!0,fullWidth:!0})}),E&&(0,n.jsx)(m.A,{size:8,children:(0,n.jsx)(m.A,{container:!0,spacing:2,children:null===(g=k.addedComponent)||void 0===g?void 0:g.map((e,t)=>(null==e?void 0:e.condition)?(0,n.jsx)(_.A,{formControl:T,field:"".concat(v,".").concat(e.condition.field),compareType:e.condition.compareType,compareValue:e.condition.compareValue,propertyName:e.condition.propertyName||"value",action:e.condition.action||"hide",children:(0,n.jsx)(Q,{standardName:v,component:e,formControl:T})},t):(0,n.jsx)(Q,{standardName:v,component:e,formControl:T},t))})})]})}),(0,n.jsx)(w.A,{sx:{mt:2}}),(0,n.jsx)(i.A,{sx:{px:3,py:2},children:(0,n.jsxs)(d.A,{direction:"row",justifyContent:"flex-end",spacing:1,children:[(0,n.jsx)(s.A,{variant:"outlined",color:"primary",disabled:!er,onClick:()=>em(v),children:"Cancel"}),(0,n.jsx)(s.A,{variant:"contained",color:"primary",disabled:!(eu&&ed&&er),onClick:()=>el(v,k,ea),children:"Save"})]})})]})]},v)})]},e))]})};var $=a(95062),ee=a.n($),et=a(1073),ea=a(24933),en=a(54773),ei=a(48611),er=a(24021),ed=a(77377),es=a(24890),eo=a(1769),el=a(7407),ec=a(21468),em=a(96021),eu=a(38699),eh=a(72501),ep=a(35764),eT=a(79803),ef=a(6706),ex=a(46061),eA=a(22322);let eg=e=>{let{complete:t}=e;return(0,n.jsx)(ei.A,{sx:{alignSelf:"center",boxShadow:"none",flexShrink:0,height:36,justifyContent:"center",width:36,backgroundColor:t?"success.main":"error.main",borderColor:t?"success.main":"error.main",color:t?"success.contrastText":"error.contrastText"},children:(0,n.jsx)(o.A,{fontSize:"small",children:t?(0,n.jsx)(eh.A,{}):(0,n.jsx)(M.A,{})})})},ej=(0,en.Ay)(er.A)(e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?t.palette.neutral[800]:t.palette.neutral[200],height:24}}),eC=(0,en.Ay)(ed.A)(e=>{let{theme:t}=e;return{padding:"14px 16px",...t.typography.overline}}),ey=e=>{var t;let{title:a,selectedStandards:i,steps:r,actions:s,updatedAt:c,formControl:m,createDialog:u,edit:p,onSaveSuccess:T,onDriftConflictChange:f,isDriftMode:A=!1}=e,[g,j]=(0,x.useState)(0),[C,y]=(0,x.useState)(null),[v,b]=(0,x.useState)(""),z=e=>{if(y(e),m&&m.reset){let e=m.getValues();m.reset(e)}"function"==typeof T&&T()},U=(0,h.FH)({control:m.control}),k=(0,eA.R_)({url:"/api/ListTenantAlignment",queryKey:"ListTenantAlignment-drift-validation"}),M=(0,eA.R_)({url:"/api/ListTenantGroups",queryKey:"ListTenantGroups-drift-validation"}),E=(e,t)=>{let a=[];return e.forEach(e=>{let n="object"==typeof e?e.value:e;if("Group"===("object"==typeof e?e.type:null)){let e=null==t?void 0:t.find(e=>e.Id===n);e&&e.Members&&e.Members.forEach(e=>{a.push(e.defaultDomainName)})}else a.push(n)}),a},V=async e=>{if(!A||!e||0===e.length){b(""),null==f||f(!1);return}try{var t,a;if(!k.data||!M.data)return;console.log("Duplicate detection debug:",{edit:p,currentGUID:U.GUID,allTemplates:null===(t=k.data)||void 0===t?void 0:t.map(e=>({GUID:e.GUID,standardId:e.standardId,standardName:e.standardName}))});let n=k.data.filter(e=>{let t=!p||!U.GUID||e.standardId!==U.GUID;return console.log("Template ".concat(e.standardId," (").concat(e.standardName,"): shouldInclude=").concat(t,", currentGUID=").concat(U.GUID)),t});console.log("Filtered templates:",null==n?void 0:n.map(e=>({GUID:e.GUID,standardId:e.standardId,standardName:e.standardName})));let i=(null===(a=M.data)||void 0===a?void 0:a.Results)||[],r=E(e,i),d=[],s=n.filter(e=>"drift"===e.standardType),o={};for(let e in s.forEach(e=>{o[e.standardId]||(o[e.standardId]={standardName:e.standardName,tenants:[]}),o[e.standardId].tenants.push(e.tenantFilter)}),console.log("Checking conflicts with unique templates:",o),console.log("Selected tenant list:",r),o){let t=o[e],a=t.tenants;console.log("Checking template ".concat(e," (").concat(t.standardName,") with tenants:"),a);let n=r.some(e=>a.some(t=>{if("AllTenants"===e||"AllTenants"===t)return console.log("Conflict found: ".concat(e," vs ").concat(t," (AllTenants match)")),!0;let a=e===t;return a&&console.log("Conflict found: ".concat(e," vs ").concat(t," (exact match)")),a}));console.log("Template ".concat(e," has conflict: ").concat(n)),n&&d.push(t.standardName||"Unknown Template")}console.log("Final conflicts:",d),d.length>0?(b("This template has tenants that are assigned to another Drift Template. You can only assign one Drift Template to each tenant. Please check the ".concat(d.join(", ")," template.")),null==f||f(!0)):(b(""),null==f||f(!1))}catch(e){b("Error checking for conflicts"+(e.message?": ".concat(e.message):"")),null==f||f(!0)}};(0,x.useEffect)(()=>{if(!A)return;let e=setTimeout(()=>{V(U.tenantFilter)},500);return()=>clearTimeout(e)},[U.tenantFilter,A,k.data,M.data]),(0,x.useEffect)(()=>{j(Object.values({step1:!!F().get(U,"templateName"),step2:F().get(U,"tenantFilter",[]).length>0,step3:Object.keys(i).length>0,step4:F().get(U,"standards")&&Object.keys(i).length>0&&Object.keys(i).every(e=>{let t=F().get(U,"".concat(e),{}),a=i[e];(null==a?void 0:a.addedComponent)&&a.addedComponent.some(e=>"switch"!==e.type&&!1!==e.required),null==a||a.disabledFeatures;let n=F().get(t,"action");return n&&(!Array.isArray(n)||n.length>0)})}).filter(Boolean).length)},[i,U]);let R={step1:!!F().get(U,"templateName"),step2:F().get(U,"tenantFilter",[]).length>0,step3:Object.keys(i).length>0,step4:F().get(U,"standards")&&Object.keys(i).length>0&&Object.keys(i).every(e=>{let t=F().get(U,"".concat(e),{});i[e];let a=F().get(t,"action");return a&&(!Array.isArray(a)||a.length>0)})};return(0,n.jsxs)(S.A,{children:[(0,n.jsx)(et.A,{title:a}),(0,n.jsx)(w.A,{}),(0,n.jsxs)(ea.A,{children:[(0,n.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:A?"About Drift Templates":"About Standard Templates"}),A?(0,n.jsxs)(d.A,{spacing:2,sx:{mb:3},children:[(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"Drift templates provide continuous monitoring of tenant configurations to detect unauthorized changes. Each tenant can only have one drift template applied at a time."}),(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",children:(0,n.jsx)("strong",{children:"Remediation Options:"})}),(0,n.jsxs)(l.A,{variant:"body2",color:"text.secondary",sx:{ml:2},children:["• ",(0,n.jsx)("strong",{children:"Automatic Remediation:"})," Immediately reverts unauthorized changes back to the template configuration",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"Manual Remediation:"})," Sends email notifications for review, allowing you to accept or deny detected changes"]}),(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",children:(0,n.jsx)("strong",{children:"Key Features:"})}),(0,n.jsxs)(l.A,{variant:"body2",color:"text.secondary",sx:{ml:2},children:["• Monitors all security standards, Conditional Access policies, and Intune policies",(0,n.jsx)("br",{}),"• Detects changes made outside of CIPP",(0,n.jsx)("br",{}),"• Configurable webhook and email notifications",(0,n.jsx)("br",{}),"• Granular control over deviation acceptance"]})]}):(0,n.jsxs)(d.A,{spacing:2,sx:{mb:3},children:[(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"Standard templates can be applied to multiple tenants and allow overlapping configurations with intelligent merging based on specificity and timing."}),(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",children:(0,n.jsx)("strong",{children:"Merge Priority (Specificity):"})}),(0,n.jsxs)(l.A,{variant:"body2",color:"text.secondary",sx:{ml:2},children:["1. ",(0,n.jsx)("strong",{children:"Individual Tenant"})," - Highest priority, overrides all others",(0,n.jsx)("br",{}),"2. ",(0,n.jsx)("strong",{children:"Tenant Group"}),' - Overrides "All Tenants" settings',(0,n.jsx)("br",{}),"3. ",(0,n.jsx)("strong",{children:"All Tenants"})," - Lowest priority, default baseline"]}),(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",children:(0,n.jsx)("strong",{children:"Conflict Resolution:"})}),(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{ml:2},children:"When multiple standards target the same scope (e.g., two tenant-specific templates), the most recently created template takes precedence."}),(0,n.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:[(0,n.jsx)("strong",{children:"Example:"}),' An "All Tenants" template enables audit log retention for 90 days, but you need 365 days for one specific tenant. Create a tenant-specific template with 365-day retention - it will override the global setting for that tenant only.']})]}),(0,n.jsx)(w.A,{}),(0,n.jsxs)(d.A,{spacing:2,children:[A&&(0,n.jsx)(I.A,{type:"hidden",name:"isDriftTemplate",formControl:m,defaultValue:!0}),(0,n.jsx)(I.A,{type:"textField",name:"templateName",label:"Template Name",formControl:m,placeholder:"Enter a name for the template",fullWidth:!0}),(0,n.jsx)(w.A,{}),(0,n.jsx)(I.A,{type:"richText",name:"description",label:"Description",formControl:m,placeholder:"Enter a description for the template",fullWidth:!0}),(0,n.jsx)(w.A,{}),(0,n.jsx)(ep.w,{allTenants:!0,label:"Included Tenants",formControl:m,required:!0,includeGroups:!0}),A&&v&&(0,n.jsx)(ex.A,{severity:"error",children:v}),(null===(t=U.tenantFilter)||void 0===t?void 0:t.some(e=>"AllTenants"===e.value||"Group"===e.type))&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.A,{}),(0,n.jsx)(ep.w,{label:"Excluded Tenants",name:"excludedTenants",allTenants:!1,formControl:m,includeGroups:!0})]}),A&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.A,{}),(0,n.jsx)(I.A,{type:"textField",name:"driftAlertWebhook",label:"Drift Alert Webhook",formControl:m,placeholder:"Enter webhook URL for drift alerts. Leave blank to use the default webhook URL.",fullWidth:!0}),(0,n.jsx)(I.A,{type:"textField",name:"driftAlertEmail",label:"Drift Alert Email",formControl:m,placeholder:"Enter email address for drift alerts. Leave blank to use the default email address.",fullWidth:!0})]}),!A&&(0,n.jsxs)(n.Fragment,{children:[c.date&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(l.A,{sx:{color:"text.secondary",display:"block"},variant:"caption",children:["Last Updated ",(0,n.jsx)(ef.A,{date:null==c?void 0:c.date})," by ",null==c?void 0:c.user]})}),(0,n.jsx)(I.A,{type:"switch",name:"runManually",label:"Do not run on schedule",formControl:m,placeholder:"Enter a name for the template",fullWidth:!0}),(0,n.jsx)(l.A,{sx:{color:"text.secondary"},variant:"caption",children:'This setting allows you to create this template and run it only by using "Run Now".'})]})]})]}),!A&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.A,{}),(0,n.jsx)(ea.A,{children:(0,n.jsx)(es.A,{sx:{["& .".concat(eo.A.root,":before")]:{flex:0,p:0}},children:r.map((e,t)=>(0,n.jsxs)(el.A,{children:[(0,n.jsxs)(ec.A,{children:[(0,n.jsx)(eg,{complete:R["step".concat(t+1)]}),t<r.length-1&&(0,n.jsx)(ej,{})]}),(0,n.jsx)(eC,{children:e})]},t))})})]}),(0,n.jsx)(w.A,{}),(0,n.jsx)(em.l,{children:s.map((e,t)=>(0,n.jsx)(eu.a,{icon:(0,n.jsx)(o.A,{fontSize:"small",children:e.icon}),label:e.label,onClick:e.handler,disabled:!(U.tenantFilter&&U.tenantFilter.length>0)||g<3||A&&v},t))}),(0,n.jsx)(w.A,{}),(0,n.jsx)(eT.B,{dialogAfterEffect:e=>z(e.id),createDialog:u,title:"Add Standard",api:{confirmText:A?"This template will automatically run every 3 hours to detect drift. Are you sure you want to apply this Drift Template?":U.runManually?"Are you sure you want to apply this standard? This template has been set to never run on a schedule. After saving the template you will have to run it manually.":"Are you sure you want to apply this standard? This will apply the template and run every 3 hours.",url:"/api/AddStandardsTemplate",type:"POST",replacementBehaviour:"removeNulls",data:{tenantFilter:"tenantFilter",excludedTenants:"excludedTenants",description:"description",templateName:"templateName",standards:"standards",...p?{GUID:"GUID"}:{},...C?{GUID:C}:{},runManually:!A&&"runManually",isDriftTemplate:"isDriftTemplate",...A?{type:"drift",driftAlertWebhook:"driftAlertWebhook",driftAlertEmail:"driftAlertEmail"}:{}}},row:m.getValues(),formControl:m,relatedQueryKeys:["listStandardTemplates","listStandards","listStandardTemplates-".concat(U.GUID),"ListTenantAlignment-drift-validation","ListTenantGroups-drift-validation"]})]})};ey.propTypes={title:ee().string.isRequired,subtitle:ee().string,steps:ee().arrayOf(ee().string).isRequired,actions:ee().arrayOf(ee().shape({label:ee().string.isRequired,handler:ee().func.isRequired,icon:ee().element.isRequired})).isRequired,updatedAt:ee().string,formControl:ee().object.isRequired,onSaveSuccess:ee().func,onDriftConflictChange:ee().func};var ev=a(88917),eS=a(82836);let eb=(0,x.lazy)(()=>Promise.all([a.e(3255),a.e(7976)]).then(a.bind(a,87976))),ez=()=>{let e=(0,p.useRouter)(),[t,a]=(0,x.useState)(!1),u=(0,h.mN)({mode:"onBlur"}),{formState:g}=u,[j,C]=(0,x.useState)(!1),[y,v]=(0,x.useState)(null),[S,b]=(0,x.useState)(""),[z,U]=(0,x.useState)({}),[w,k]=(0,x.useState)(!1),[M,E]=(0,x.useState)(!1),[V,R]=(0,x.useState)(0),[L,D]=(0,x.useState)(!1),N=(0,x.useRef)({}),H="drift"===e.query.type;(0,x.useEffect)(()=>{H&&u.setValue("isDriftTemplate",!0)},[H,u]);let I=(0,h.FH)({control:u.control}),O=(0,eA.R_)({url:"/api/listStandardTemplates",data:{id:e.query.id},queryKey:"listStandardTemplates-".concat(e.query.id),waiting:t});(0,x.useEffect)(()=>{R(Object.values({step1:!!F().get(I,"templateName"),step2:H||F().get(I,"tenantFilter",[]).length>0,step3:Object.keys(z).length>0,step4:F().get(I,"standards")&&Object.keys(z).length>0&&Object.keys(z).every(e=>{let t=F().get(I,e,{}),a=F().get(t,"action");return a&&(!Array.isArray(a)||a.length>0)})}).filter(Boolean).length)},[z,I,H]);let G=(0,x.useCallback)(t=>{if(M&&!window.confirm("You have unsaved changes. Are you sure you want to leave this page?"))throw e.events.emit("routeChangeError"),"Route change was aborted"},[M,e]);(0,x.useEffect)(()=>{let t=e=>{if(M)return e.preventDefault(),e.returnValue="You have unsaved changes. Are you sure you want to leave this page?",e.returnValue};return window.addEventListener("beforeunload",t),e.events.on("routeChangeStart",G),()=>{window.removeEventListener("beforeunload",t),e.events.off("routeChangeStart",G)}},[M,G,e.events]),(0,x.useEffect)(()=>{u.getValues(),N.current,g.isDirty||JSON.stringify(z)!==JSON.stringify(N.current)?E(!0):E(!1)},[g.isDirty,z,u]),(0,x.useEffect)(()=>{if(e.query.id&&a(!0),O.isSuccess){var t;let a=null===(t=O.data)||void 0===t?void 0:t[0];Object.keys(a.standards).forEach(e=>{Array.isArray(a.standards[e])&&(a.standards[e]=a.standards[e].filter(e=>null!=e))}),u.reset(a),e.query.clone&&(u.setValue("templateName","".concat(a.templateName," (Clone)")),u.setValue("GUID","")),k({date:null==a?void 0:a.updatedAt,user:null==a?void 0:a.updatedBy});let n=null==a?void 0:a.standards,i={};Object.keys(n).forEach(e=>{Array.isArray(n[e])?n[e].forEach((t,a)=>{i["standards.".concat(e,"[").concat(a,"]")]=!0}):i["standards.".concat(e)]=!0}),U(i),N.current={...i},E(!1)}},[O.isSuccess,e]);let B=(0,x.useMemo)(()=>A.reduce((e,t)=>{let{cat:a}=t;return e[a]||(e[a]=[]),e[a].push(t),e},{}),[]),q=(0,x.useCallback)(()=>{C(!0)},[]),P=(0,x.useCallback)(()=>{C(!1),b("")},[]),W=e=>{let t=e.match(/(.*)\[(\d+)\]$/);t&&(e=t[1]),U(t=>{let a=Object.keys(t).filter(t=>t.startsWith(e)).length;return{...t,["".concat(e,"[").concat(a,"]")]:!0}})},K=(0,eS.s)(),Z=H?V<3||L:!F().get(I,"tenantFilter")||!F().get(I,"tenantFilter").length||V<3;return(0,n.jsx)(i.A,{sx:{flexGrow:1,py:4},children:(0,n.jsxs)(r.A,{maxWidth:"xl",children:[(0,n.jsxs)(d.A,{spacing:4,children:[(0,n.jsx)(d.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:(0,n.jsx)(s.A,{color:"inherit",onClick:()=>M?window.confirm("You have unsaved changes. Are you sure you want to leave this page?")&&e.back():e.back(),startIcon:(0,n.jsx)(o.A,{fontSize:"small",children:(0,n.jsx)(ev.A6,{})}),children:"Back to Templates"})}),(0,n.jsxs)(d.A,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:4,sx:{mb:3},children:[(0,n.jsx)(l.A,{variant:"h4",children:t?H?"Edit Drift Template":"Edit Standards Template":H?"Add Drift Template":"Add Standards Template"}),(0,n.jsxs)(d.A,{direction:"row",spacing:2,children:[(0,n.jsx)(s.A,{variant:"contained",color:"primary",onClick:()=>{K.handleOpen()},startIcon:(0,n.jsx)(T,{}),disabled:Z,children:"Save Template"}),(0,n.jsx)(s.A,{variant:"outlined",color:"primary",onClick:q,startIcon:(0,n.jsx)(f.A,{}),children:"Add Standard to Template"})]})]}),(0,n.jsx)(i.A,{sx:{flexGrow:1,height:"calc(100vh - 270px)",overflow:"hidden"},children:(0,n.jsxs)(m.A,{container:!0,spacing:3,sx:{height:"100%"},children:[(0,n.jsx)(m.A,{size:{xs:12,lg:4},sx:{height:"100%",overflow:"auto",pr:1},children:(0,n.jsx)(ey,{title:H?"Drift Template Setup":"Standard Template Setup",subtitle:"Follow the steps to configure the Standard",createDialog:K,steps:["Set a name for the Template","Assigned Template to Tenants","Added Standards to Template","Configured all Standards"],actions:[],formControl:u,selectedStandards:z,edit:t,updatedAt:w,isDriftMode:H,onDriftConflictChange:D,onSaveSuccess:()=>{E(!1),N.current={...z}}})}),(0,n.jsx)(m.A,{size:{xs:12,lg:8},sx:{height:"100%",overflow:"auto",pr:1},children:(0,n.jsx)(d.A,{spacing:3,children:O.isLoading?(0,n.jsx)(c.A,{variant:"rectangular",height:"700px"}):(0,n.jsx)(X,{standards:A,selectedStandards:z,expanded:y,handleAccordionToggle:e=>{v(t=>t===e?null:e)},handleRemoveStandard:e=>{U(t=>{let a={...t};return delete a[e],a});let t=e.match(/(.*)\[(\d+)\]$/);if(t){let[e,a,n]=t,i=(u.getValues(a)||[]).filter((e,t)=>t!==parseInt(n));u.setValue(a,i)}else u.unregister(e)},handleAddMultipleStandard:W,formControl:u,editMode:t,isDriftMode:H})})})]})})]}),j&&(0,n.jsx)(x.Suspense,{fallback:(0,n.jsx)("div",{}),children:(0,n.jsx)(eb,{dialogOpen:j,handleCloseDialog:P,setSearchQuery:b,categories:B,filterStandards:e=>e.filter(e=>e.label.toLowerCase().includes(S.toLowerCase())||e.helpText.toLowerCase().includes(S.toLowerCase())||e.tag&&e.tag.some(e=>e.toLowerCase().includes(S.toLowerCase()))),selectedStandards:z,handleToggleSingleStandard:e=>{U(t=>({...t,[e]:!t[e]}))},handleAddMultipleStandard:W})})]})})};ez.getLayout=e=>(0,n.jsx)(u.P,{children:e});let eU=ez},59232:e=>{"use strict";e.exports=JSON.parse('[{"timezone":"(UTC-12:00) International Date Line West","standardTime":"Dateline Standard Time"},{"timezone":"(UTC-11:00) Coordinated Universal Time-11","standardTime":"UTC-11"},{"timezone":"(UTC-10:00) Hawaii","standardTime":"Hawaiian Standard Time"},{"timezone":"(UTC-09:00) Alaska","standardTime":"Alaskan Standard Time"},{"timezone":"(UTC-08:00) Baja California","standardTime":"Pacific Standard Time (Mexico)"},{"timezone":"(UTC-08:00) Pacific Time (US and Canada)","standardTime":"Pacific Standard Time"},{"timezone":"(UTC-07:00) Arizona","standardTime":"US Mountain Standard Time"},{"timezone":"(UTC-07:00) Chihuahua, La Paz, Mazatlan","standardTime":"Mountain Standard Time (Mexico)"},{"timezone":"(UTC-07:00) Mountain Time (US and Canada)","standardTime":"Mountain Standard Time"},{"timezone":"(UTC-06:00) Central America","standardTime":"Central America Standard Time"},{"timezone":"(UTC-06:00) Central Time (US and Canada)","standardTime":"Central Standard Time"},{"timezone":"(UTC-06:00) Guadalajara, Mexico City, Monterrey","standardTime":"Central Standard Time (Mexico)"},{"timezone":"(UTC-06:00) Saskatchewan","standardTime":"Canada Central Standard Time"},{"timezone":"(UTC-05:00) Bogota, Lima, Quito","standardTime":"SA Pacific Standard Time"},{"timezone":"(UTC-05:00) Eastern Time (US and Canada)","standardTime":"Eastern Standard Time"},{"timezone":"(UTC-05:00) Indiana (East)","standardTime":"US Eastern Standard Time"},{"timezone":"(UTC-04:30) Caracas","standardTime":"Venezuela Standard Time"},{"timezone":"(UTC-04:00) Asuncion","standardTime":"Paraguay Standard Time"},{"timezone":"(UTC-04:00) Atlantic Time (Canada)","standardTime":"Atlantic Standard Time"},{"timezone":"(UTC-04:00) Cuiaba","standardTime":"Central Brazilian Standard Time"},{"timezone":"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan","standardTime":"SA Western Standard Time"},{"timezone":"(UTC-04:00) Santiago","standardTime":"Pacific SA Standard Time"},{"timezone":"(UTC-03:30) Newfoundland","standardTime":"Newfoundland Standard Time"},{"timezone":"(UTC-03:00) Brasilia","standardTime":"E. South America Standard Time"},{"timezone":"(UTC-03:00) Buenos Aires","standardTime":"Argentina Standard Time"},{"timezone":"(UTC-03:00) Cayenne, Fortaleza","standardTime":"SA Eastern Standard Time"},{"timezone":"(UTC-03:00) Greenland","standardTime":"Greenland Standard Time"},{"timezone":"(UTC-03:00) Montevideo","standardTime":"Montevideo Standard Time"},{"timezone":"(UTC-03:00) Salvador","standardTime":"Bahia Standard Time"},{"timezone":"(UTC-02:00) Coordinated Universal Time-02","standardTime":"UTC-02"},{"timezone":"(UTC-02:00) Mid-Atlantic","standardTime":"Mid-Atlantic Standard Time"},{"timezone":"(UTC-01:00) Azores","standardTime":"Azores Standard Time"},{"timezone":"(UTC-01:00) Cabo Verde","standardTime":"Cape Verde Standard Time"},{"timezone":"(UTC) Casablanca","standardTime":"Morocco Standard Time"},{"timezone":"(UTC) Coordinated Universal Time","standardTime":"UTC"},{"timezone":"(UTC) Dublin, Edinburgh, Lisbon, London","standardTime":"GMT Standard Time"},{"timezone":"(UTC) Monrovia, Reykjavik","standardTime":"Greenwich Standard Time"},{"timezone":"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna","standardTime":"W. Europe Standard Time"},{"timezone":"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague","standardTime":"Central Europe Standard Time"},{"timezone":"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris","standardTime":"Romance Standard Time"},{"timezone":"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb","standardTime":"Central European Standard Time"},{"timezone":"(UTC+01:00) West Central Africa","standardTime":"W. Central Africa Standard Time"},{"timezone":"(UTC+01:00) Windhoek","standardTime":"Namibia Standard Time"},{"timezone":"(UTC+02:00) Amman","standardTime":"Jordan Standard Time"},{"timezone":"(UTC+02:00) Athens, Bucharest","standardTime":"GTB Standard Time"},{"timezone":"(UTC+02:00) Beirut","standardTime":"Middle East Standard Time"},{"timezone":"(UTC+02:00) Cairo","standardTime":"Egypt Standard Time"},{"timezone":"(UTC+02:00) Damascus","standardTime":"Syria Standard Time"},{"timezone":"(UTC+02:00) Harare, Pretoria","standardTime":"South Africa Standard Time"},{"timezone":"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius","standardTime":"FLE Standard Time"},{"timezone":"(UTC+02:00) Jerusalem","standardTime":"Israel Standard Time"},{"timezone":"(UTC+02:00) Minsk (old)","standardTime":"Belarus Standard Time"},{"timezone":"(UTC+02:00) E. Europe","standardTime":"E. Europe Standard Time"},{"timezone":"(UTC+02:00) Kaliningrad","standardTime":"Kaliningrad Standard Time"},{"timezone":"(UTC+03:00) Baghdad","standardTime":"Arabic Standard Time"},{"timezone":"(UTC+03:00) Istanbul","standardTime":"Turkey Standard Time"},{"timezone":"(UTC+03:00) Kuwait, Riyadh","standardTime":"Arab Standard Time"},{"timezone":"(UTC+03:00) Minsk","standardTime":"Belarus Standard Time"},{"timezone":"(UTC+03:00) Moscow, St. Petersburg, Volgograd","standardTime":"Russian Standard Time"},{"timezone":"(UTC+03:00) Nairobi","standardTime":"E. Africa Standard Time"},{"timezone":"(UTC+03:30) Tehran","standardTime":"Iran Standard Time"},{"timezone":"(UTC+04:00) Abu Dhabi, Muscat","standardTime":"Arabian Standard Time"},{"timezone":"(UTC+04:00) Astrakhan, Ulyanovsk","standardTime":"Astrakhan Standard Time"},{"timezone":"(UTC+04:00) Baku","standardTime":"Azerbaijan Standard Time"},{"timezone":"(UTC+04:00) Izhevsk, Samara","standardTime":"Russia Time Zone 3"},{"timezone":"(UTC+04:00) Port Louis","standardTime":"Mauritius Standard Time"},{"timezone":"(UTC+04:00) Tbilisi","standardTime":"Georgian Standard Time"},{"timezone":"(UTC+04:00) Yerevan","standardTime":"Caucasus Standard Time"},{"timezone":"(UTC+04:30) Kabul","standardTime":"Afghanistan Standard Time"},{"timezone":"(UTC+05:00) Ekaterinburg","standardTime":"Ekaterinburg Standard Time"},{"timezone":"(UTC+05:00) Islamabad, Karachi","standardTime":"Pakistan Standard Time"},{"timezone":"(UTC+05:00) Tashkent","standardTime":"West Asia Standard Time"},{"timezone":"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi","standardTime":"India Standard Time"},{"timezone":"(UTC+05:30) Sri Jayawardenepura","standardTime":"Sri Lanka Standard Time"},{"timezone":"(UTC+05:45) Kathmandu","standardTime":"Nepal Standard Time"},{"timezone":"(UTC+06:00) Astana","standardTime":"Qyzylorda Standard Time"},{"timezone":"(UTC+06:00) Dhaka","standardTime":"Bangladesh Standard Time"},{"timezone":"(UTC+06:00) Omsk","standardTime":"Omsk Standard Time"},{"timezone":"(UTC+06:30) Yangon (Rangoon)","standardTime":"Myanmar Standard Time"},{"timezone":"(UTC+07:00) Bangkok, Hanoi, Jakarta","standardTime":"SE Asia Standard Time"},{"timezone":"(UTC+07:00) Barnaul, Gorno-Altaysk","standardTime":"Altai Standard Time"},{"timezone":"(UTC+07:00) Krasnoyarsk","standardTime":"North Asia Standard Time"},{"timezone":"(UTC+07:00) Novosibirsk","standardTime":"N. Central Asia Standard Time"},{"timezone":"(UTC+07:00) Tomsk","standardTime":"Tomsk Standard Time"},{"timezone":"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi","standardTime":"China Standard Time"},{"timezone":"(UTC+08:00) Irkutsk","standardTime":"North Asia East Standard Time"},{"timezone":"(UTC+08:00) Kuala Lumpur, Singapore","standardTime":"Singapore Standard Time"},{"timezone":"(UTC+08:00) Perth","standardTime":"W. Australia Standard Time"},{"timezone":"(UTC+08:00) Taipei","standardTime":"Taipei Standard Time"},{"timezone":"(UTC+08:00) Ulaanbaatar","standardTime":"Ulaanbaatar Standard Time"},{"timezone":"(UTC+09:00) Osaka, Sapporo, Tokyo","standardTime":"Tokyo Standard Time"},{"timezone":"(UTC+09:00) Seoul","standardTime":"Korea Standard Time"},{"timezone":"(UTC+09:00) Yakutsk","standardTime":"Yakutsk Standard Time"},{"timezone":"(UTC+09:30) Adelaide","standardTime":"Cen. Australia Standard Time"},{"timezone":"(UTC+09:30) Darwin","standardTime":"AUS Central Standard Time"},{"timezone":"(UTC+10:00) Brisbane","standardTime":"E. Australia Standard Time"},{"timezone":"(UTC+10:00) Canberra, Melbourne, Sydney","standardTime":"AUS Eastern Standard Time"},{"timezone":"(UTC+10:00) Guam, Port Moresby","standardTime":"West Pacific Standard Time"},{"timezone":"(UTC+10:00) Hobart","standardTime":"Tasmania Standard Time"},{"timezone":"(UTC+10:00) Magadan","standardTime":"Magadan Standard Time"},{"timezone":"(UTC+10:00) Vladivostok","standardTime":"Vladivostok Standard Time"},{"timezone":"(UTC+11:00) Chokurdakh","standardTime":"Russia Time Zone 10"},{"timezone":"(UTC+11:00) Sakhalin","standardTime":"Sakhalin Standard Time"},{"timezone":"(UTC+11:00) Solomon Is., New Caledonia","standardTime":"Central Pacific Standard Time"},{"timezone":"(UTC+12:00) Anadyr, Petropavlovsk-Kamchatsky","standardTime":"Russia Time Zone 11"},{"timezone":"(UTC+12:00) Auckland, Wellington","standardTime":"New Zealand Standard Time"},{"timezone":"(UTC+12:00) Coordinated Universal Time+12","standardTime":"UTC+12"},{"timezone":"(UTC+12:00) Fiji","standardTime":"Fiji Standard Time"},{"timezone":"(UTC+12:00) Petropavlovsk-Kamchatsky - Old","standardTime":"Kamchatka Standard Time"},{"timezone":"(UTC+13:00) Nuku\'alofa","standardTime":"Tonga Standard Time"},{"timezone":"(UTC+13:00) Samoa","standardTime":"Samoa Standard Time"}]')},60995:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(93944),i=a(37876);let r=(0,n.A)((0,i.jsx)("path",{d:"M18 16v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-5 0h-2v-2h2zm0-4h-2V8h2zm-1 10c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2"}),"NotificationImportant")},95753:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(93944),i=a(37876);let r=(0,n.A)((0,i.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment")}},e=>{var t=t=>e(e.s=t);e.O(0,[888,2412,3131,5069,636,6593,8792],()=>t(17194)),_N_E=e.O()}]);