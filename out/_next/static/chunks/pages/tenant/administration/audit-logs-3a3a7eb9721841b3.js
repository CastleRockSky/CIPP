(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2823],{16452:e=>{"use strict";e.exports=JSON.parse('[{"label":"Saved Logs","path":"/tenant/administration/audit-logs"},{"label":"Log Searches","path":"/tenant/administration/audit-logs/searches"}]')},17055:(e,t,a)=>{"use strict";a.d(t,{L:()=>c});var l=a(37876),n=a(14e3),s=a(67578),i=a(22474),r=a(8578),d=a(76626),o=a(71538);let c=e=>{let{tabOptions:t,children:a}=e,c=(0,n.useRouter)(),u=(0,n.usePathname)(),h=t.find(e=>e.path===u);return(0,l.jsxs)(s.A,{sx:{flexGrow:1,py:4},children:[(0,l.jsx)(i.A,{spacing:2,children:(0,l.jsxs)("div",{children:[(0,l.jsx)(r.A,{onChange:(e,t)=>{c.push(t)},value:null==h?void 0:h.path,variant:"scrollable",children:t.map(e=>(0,l.jsx)(d.A,{label:e.label,value:e.path},e.path))}),(0,l.jsx)(o.A,{})]})}),a]})}},45104:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var l=a(37876),n=a(14232),s=a(89099),i=a(12435),r=a(17055),d=a(29390),o=a(7881),c=a(88326),u=a(77018),h=a(37746),p=a(47737),x=a(87505),m=a(88992),j=a(58105),A=a(22875),v=a(59568),b=a(16452);let g=["Timestamp","Tenant","Title","Actions"],y=[{label:"View Log",link:"/tenant/administration/audit-logs/log?id=[LogId]",color:"primary",icon:(0,l.jsx)(A.A,{})}],f=()=>{(0,s.useRouter)();let e=(0,m.mN)({mode:"onChange",defaultValues:{dateFilter:"relative",Time:7,Interval:{label:"Days",value:"d"}}}),[t,a]=(0,n.useState)(!1),[i,r]=(0,n.useState)("7d"),[A,b]=(0,n.useState)(null),[f,S]=(0,n.useState)(null),T={RelativeTime:i||"7d",...A&&{StartDate:A},...f&&{EndDate:f}},D=(0,l.jsxs)(o.A,{expanded:t,onChange:()=>a(!t),children:[(0,l.jsx)(c.A,{expandIcon:(0,l.jsx)(x.A,{}),children:(0,l.jsx)(u.A,{children:"Search Options"})}),(0,l.jsx)(h.A,{children:(0,l.jsx)("form",{onSubmit:e.handleSubmit(e=>{"relative"===e.dateFilter?(r("".concat(e.Time).concat(e.Interval.value)),b(null),S(null)):"startEnd"===e.dateFilter&&(r(null),b(e.startDate),S(e.endDate))}),children:(0,l.jsxs)(v.A,{container:!0,spacing:2,children:[(0,l.jsx)(v.A,{size:12,children:(0,l.jsx)(j.A,{type:"radio",row:!0,name:"dateFilter",label:"Date Filter Type",options:[{label:"Relative",value:"relative"},{label:"Start / End",value:"startEnd"}],formControl:e})}),"relative"===e.watch("dateFilter")&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(v.A,{size:{xs:12,md:8},children:(0,l.jsxs)(v.A,{container:!0,spacing:2,children:[(0,l.jsx)(v.A,{size:{xs:2},children:(0,l.jsx)(j.A,{fullWidth:!0,type:"number",name:"Time",label:"Last",formControl:e})}),(0,l.jsx)(v.A,{size:{xs:4},children:(0,l.jsx)(j.A,{fullWidth:!0,type:"autoComplete",name:"Interval",label:"Interval",multiple:!1,options:[{label:"Hours",value:"h"},{label:"Days",value:"d"}],formControl:e})})]})})}),"startEnd"===e.watch("dateFilter")&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v.A,{size:{xs:6,md:3},children:(0,l.jsx)(j.A,{type:"datePicker",name:"startDate",label:"Start Date",dateTimeType:"date",formControl:e})}),(0,l.jsx)(v.A,{size:{xs:6,md:3},children:(0,l.jsx)(j.A,{type:"datePicker",name:"endDate",label:"End Date",dateTimeType:"date",formControl:e})})]}),(0,l.jsx)(v.A,{size:12,children:(0,l.jsx)(p.A,{type:"submit",variant:"contained",color:"primary",children:"Apply Filters"})})]})})})]});return(0,l.jsx)(d.a,{tableFilter:D,title:"Saved Logs",apiUrl:"/api/ListAuditLogs",apiDataKey:"Results",simpleColumns:g,queryKey:"SavedLogs-".concat(i,"-").concat(A,"-").concat(f),apiData:T,actions:y})};f.getLayout=e=>(0,l.jsx)(i.P,{children:(0,l.jsx)(r.L,{tabOptions:b,children:e})});let S=f},65601:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenant/administration/audit-logs",function(){return a(45104)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(65601)),_N_E=e.O()}]);