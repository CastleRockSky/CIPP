(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7632],{17055:(e,t,a)=>{"use strict";a.d(t,{L:()=>d});var i=a(37876),l=a(14e3),n=a(67578),r=a(22474),s=a(8578),o=a(76626),p=a(71538);let d=e=>{let{tabOptions:t,children:a}=e,d=(0,l.useRouter)(),c=(0,l.usePathname)(),u=t.find(e=>e.path===c);return(0,i.jsxs)(n.A,{sx:{flexGrow:1,py:4},children:[(0,i.jsx)(r.A,{spacing:2,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(s.A,{onChange:(e,t)=>{d.push(t)},value:null==u?void 0:u.path,variant:"scrollable",children:t.map(e=>(0,i.jsx)(o.A,{label:e.label,value:e.path},e.path))}),(0,i.jsx)(p.A,{})]})}),a]})}},21484:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenant/administration/applications/app-registrations",function(){return a(74030)}])},26459:(e,t,a)=>{"use strict";a.d(t,{_m:()=>r,hf:()=>s,kM:()=>p,zl:()=>o});var i=a(37876),l=a(47737),n=a(80700);let r=(e,t)=>!!(e&&t&&Array.isArray(e)&&Array.isArray(t))&&(0===t.length||e.some(e=>t.some(t=>{if(e===t)return!0;if(t.includes("*")){let a=t.replace(/\./g,"\\.").replace(/\*/g,".*");return new RegExp("^".concat(a,"$")).test(e)}return!1}))),s=(e,t)=>!!(e&&t&&Array.isArray(e)&&Array.isArray(t))&&(0===t.length||t.some(t=>e.includes(t))),o=e=>{let{userPermissions:t,userRoles:a,requiredPermissions:i=[],requiredRoles:l=[]}=e;return(!(l.length>0)||!!s(a,l))&&(!(i.length>0)||!!r(t,i))},p=e=>{let{requiredPermissions:t=[],requiredRoles:a=[],hideIfNoAccess:r=!1,children:s,...p}=e,{userPermissions:d,userRoles:c,isAuthenticated:u}=(0,n.S)(),m=u&&o({userPermissions:d,userRoles:c,requiredPermissions:t,requiredRoles:a});return!m&&r?null:(0,i.jsx)(l.A,{disabled:!m,...p,children:s})}},34165:(e,t,a)=>{"use strict";a.d(t,{D:()=>n});var i=a(37876),l=a(58105);let n=e=>{var t;let{formHook:a,row:n}=e;return(0,i.jsx)(l.o,{name:"KeyIds",type:"autoComplete",formControl:a,label:"Select Certificate Credentials to Remove",multiple:!0,creatable:!1,validators:{required:"Please select at least one certificate credential"},options:(null==n?void 0:null===(t=n.keyCredentials)||void 0===t?void 0:t.map(e=>({label:"".concat(e.displayName||"Unnamed"," (Expiration: ").concat(new Date(e.endDateTime).toLocaleDateString(),")"),value:e.keyId})))||[]})}},34295:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var i=a(93944),l=a(37876);let n=(0,i.A)((0,l.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch")},62051:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var i=a(93944),l=a(37876);let n=(0,i.A)((0,l.jsx)("path",{d:"M21 10h-8.35C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H13l2 2 2-2 2 2 4-4.04zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3"}),"Key")},67606:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var i=a(93944),l=a(37876);let n=(0,i.A)((0,l.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security")},74030:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var i=a(37876),l=a(12435),n=a(17055),r=a(29390),s=a(58105),o=a(34165),p=a(68396),d=a(34295),c=a(62051),u=a(67606),m=a(409),A=a(60455),v=a(80700),h=a(98114);let y=()=>{let{checkPermissions:e}=(0,v.S)(),t=e(["Tenant.Application.ReadWrite"]),a=[{icon:(0,i.jsx)(d.A,{}),label:"View App Registration",link:"https://entra.microsoft.com/[Tenant]/#view/Microsoft_AAD_RegisteredApps/ApplicationMenuBlade/~/Overview/appId/[appId]",color:"info",target:"_blank",multiPost:!1,external:!0},{icon:(0,i.jsx)(d.A,{}),label:"View API Permissions",link:"https://entra.microsoft.com/[Tenant]/#view/Microsoft_AAD_RegisteredApps/ApplicationMenuBlade/~/CallAnAPI/appId/[appId]",color:"info",target:"_blank",multiPost:!1,external:!0},{icon:(0,i.jsx)(c.A,{}),label:"Remove Password Credentials",type:"POST",color:"warning",multiPost:!1,url:"/api/ExecApplication",data:{Id:"id",Type:"applications",Action:"RemovePassword"},children:e=>{var t;let{formHook:a,row:l}=e;return(0,i.jsx)(s.o,{name:"KeyIds",formControl:a,type:"autoComplete",label:"Select Password Credentials to Remove",multiple:!0,creatable:!1,validators:{required:"Please select at least one password credential"},options:(null==l?void 0:null===(t=l.passwordCredentials)||void 0===t?void 0:t.map(e=>({label:"".concat(e.displayName||"Unnamed"," (Expiration: ").concat(new Date(e.endDateTime).toLocaleDateString(),")"),value:e.keyId})))||[]})},confirmText:"Are you sure you want to remove the selected password credentials?",condition:e=>{var a;return t&&(null==e?void 0:null===(a=e.passwordCredentials)||void 0===a?void 0:a.length)>0}},{icon:(0,i.jsx)(u.A,{}),label:"Remove Certificate Credentials",type:"POST",color:"warning",multiPost:!1,url:"/api/ExecApplication",data:{Id:"id",Type:"applications",Action:"RemoveKey"},children:e=>{let{formHook:t,row:a}=e;return(0,i.jsx)(o.D,{formHook:t,row:a})},confirmText:"Are you sure you want to remove the selected certificate credentials?",condition:e=>{var a;return t&&(null==e?void 0:null===(a=e.keyCredentials)||void 0===a?void 0:a.length)>0}},{icon:(0,i.jsx)(m.A,{}),label:"Create Template from App Registration",type:"POST",color:"success",multiPost:!1,url:"/api/ExecAppApprovalTemplate",fields:[{label:"Template Name",name:"TemplateName",type:"textField",placeholder:"Enter a name for the template",required:!0,validators:{required:{value:!0,message:"Template name is required"}}}],customDataformatter:(e,t,a)=>{let i={...e};return["appId","id","createdDateTime","deletedDateTime","publisherDomain","servicePrincipalLockConfiguration","identifierUris","applicationIdUris","Tenant","CippStatus"].forEach(e=>{delete i[e]}),{Action:"Save",TemplateName:a.TemplateName,AppType:"ApplicationManifest",AppName:e.displayName||e.appId,ApplicationManifest:i}},confirmText:"Are you sure you want to create a template from this app registration?",condition:e=>t&&"AzureADMyOrg"===e.signInAudience},{icon:(0,i.jsx)(A.A,{}),label:"Delete App Registration",type:"POST",color:"error",multiPost:!1,url:"/api/ExecApplication",data:{Id:"id",Type:"applications",Action:"Delete"},confirmText:"Are you sure you want to delete this application registration? This action cannot be undone.",condition:()=>t}];return(0,i.jsx)(r.a,{title:"App Registrations",apiUrl:"/api/ListGraphRequest",apiData:{Endpoint:"applications",$count:!0,$top:999},apiDataKey:"Results",actions:a,offCanvas:{extendedInfoFields:["displayName","id","appId","createdDateTime","signInAudience","disabledByMicrosoftStatus","replyUrls","passwordCredentials","keyCredentials"],actions:a,children:e=>(0,i.jsx)(p.A,{applicationManifest:e,title:"Application Manifest",maxHeight:"800px",showAppIds:!0})},simpleColumns:["displayName","appId","createdDateTime","signInAudience","web.redirectUris","publisherDomain","passwordCredentials","keyCredentials"]})};y.getLayout=e=>(0,i.jsx)(l.P,{children:(0,i.jsx)(n.L,{tabOptions:h,children:e})});let f=y},80700:(e,t,a)=>{"use strict";a.d(t,{S:()=>r});var i=a(14232),l=a(22322),n=a(26459);let r=()=>{var e,t,a;let r=(0,l.R_)({url:"/api/me",queryKey:"authmecipp"}),s=(null===(t=r.data)||void 0===t?void 0:null===(e=t.clientPrincipal)||void 0===e?void 0:e.userRoles)||[],o=(null===(a=r.data)||void 0===a?void 0:a.permissions)||[],p=r.isLoading,d=r.isSuccess&&s.length>0,c=(0,i.useCallback)(e=>!!d&&(0,n._m)(o,e),[o,d]),u=(0,i.useCallback)(e=>!!d&&(0,n.hf)(s,e),[s,d]),m=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!d)return!1;let{requiredPermissions:t=[],requiredRoles:a=[]}=e;return(0,n.zl)({userPermissions:o,userRoles:s,requiredPermissions:t,requiredRoles:a})},[o,s,d]);return{userPermissions:o,userRoles:s,isLoading:p,isAuthenticated:d,checkPermissions:c,checkRoles:u,checkAccess:m}}},98114:e=>{"use strict";e.exports=JSON.parse('[{"label":"Enterprise Apps","path":"/tenant/administration/applications/enterprise-apps"},{"label":"App Registrations","path":"/tenant/administration/applications/app-registrations"},{"label":"Permission Sets","path":"/tenant/administration/applications/permission-sets"},{"label":"Templates","path":"/tenant/administration/applications/templates"}]')}},e=>{var t=t=>e(e.s=t);e.O(0,[8396,636,6593,8792],()=>t(21484)),_N_E=e.O()}]);