(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9198],{17055:(e,t,a)=>{"use strict";a.d(t,{L:()=>p});var i=a(37876),l=a(14e3),n=a(67578),r=a(22474),s=a(8578),o=a(76626),c=a(71538);let p=e=>{let{tabOptions:t,children:a}=e,p=(0,l.useRouter)(),d=(0,l.usePathname)(),u=t.find(e=>e.path===d);return(0,i.jsxs)(n.A,{sx:{flexGrow:1,py:4},children:[(0,i.jsx)(r.A,{spacing:2,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(s.A,{onChange:(e,t)=>{p.push(t)},value:null==u?void 0:u.path,variant:"scrollable",children:t.map(e=>(0,i.jsx)(o.A,{label:e.label,value:e.path},e.path))}),(0,i.jsx)(c.A,{})]})}),a]})}},26459:(e,t,a)=>{"use strict";a.d(t,{_m:()=>r,hf:()=>s,kM:()=>c,zl:()=>o});var i=a(37876),l=a(47737),n=a(80700);let r=(e,t)=>!!(e&&t&&Array.isArray(e)&&Array.isArray(t))&&(0===t.length||e.some(e=>t.some(t=>{if(e===t)return!0;if(t.includes("*")){let a=t.replace(/\./g,"\\.").replace(/\*/g,".*");return new RegExp("^".concat(a,"$")).test(e)}return!1}))),s=(e,t)=>!!(e&&t&&Array.isArray(e)&&Array.isArray(t))&&(0===t.length||t.some(t=>e.includes(t))),o=e=>{let{userPermissions:t,userRoles:a,requiredPermissions:i=[],requiredRoles:l=[]}=e;return(!(l.length>0)||!!s(a,l))&&(!(i.length>0)||!!r(t,i))},c=e=>{let{requiredPermissions:t=[],requiredRoles:a=[],hideIfNoAccess:r=!1,children:s,...c}=e,{userPermissions:p,userRoles:d,isAuthenticated:u}=(0,n.S)(),v=u&&o({userPermissions:p,userRoles:d,requiredPermissions:t,requiredRoles:a});return!v&&r?null:(0,i.jsx)(l.A,{disabled:!v,...c,children:s})}},34165:(e,t,a)=>{"use strict";a.d(t,{D:()=>n});var i=a(37876),l=a(58105);let n=e=>{var t;let{formHook:a,row:n}=e;return(0,i.jsx)(l.o,{name:"KeyIds",type:"autoComplete",formControl:a,label:"Select Certificate Credentials to Remove",multiple:!0,creatable:!1,validators:{required:"Please select at least one certificate credential"},options:(null==n?void 0:null===(t=n.keyCredentials)||void 0===t?void 0:t.map(e=>({label:"".concat(e.displayName||"Unnamed"," (Expiration: ").concat(new Date(e.endDateTime).toLocaleDateString(),")"),value:e.keyId})))||[]})}},34295:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var i=a(93944),l=a(37876);let n=(0,i.A)((0,l.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch")},48076:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenant/administration/applications/enterprise-apps",function(){return a(69920)}])},62051:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var i=a(93944),l=a(37876);let n=(0,i.A)((0,l.jsx)("path",{d:"M21 10h-8.35C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H13l2 2 2-2 2 2 4-4.04zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3"}),"Key")},67606:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var i=a(93944),l=a(37876);let n=(0,i.A)((0,l.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security")},69920:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var i=a(37876),l=a(12435),n=a(17055),r=a(29390),s=a(58105),o=a(34165),c=a(34295),p=a(62051),d=a(67606),u=a(71609),v=a(14628),m=a(60455),h=a(80700),y=a(98114);let A=()=>{let{checkPermissions:e}=(0,h.S)(),t=e(["Tenant.Application.ReadWrite"]),a=[{icon:(0,i.jsx)(c.A,{}),label:"View Application",link:"https://entra.microsoft.com/[Tenant]/#view/Microsoft_AAD_IAM/ManagedAppMenuBlade/~/Overview/objectId/[id]/appId/[appId]",color:"info",target:"_blank",multiPost:!1,external:!0},{icon:(0,i.jsx)(p.A,{}),label:"Remove Password Credentials",type:"POST",color:"warning",multiPost:!1,url:"/api/ExecApplication",data:{Id:"id",Type:"servicePrincipals",Action:"RemovePassword"},children:e=>{var t;let{formHook:a,row:l}=e;return(0,i.jsx)(s.o,{name:"KeyIds",formControl:a,type:"autoComplete",label:"Select Password Credentials to Remove",multiple:!0,creatable:!1,validators:{required:"Please select at least one password credential"},options:(null==l?void 0:null===(t=l.passwordCredentials)||void 0===t?void 0:t.map(e=>({label:"".concat(e.displayName||"Unnamed"," (Expiration: ").concat(new Date(e.endDateTime).toLocaleDateString(),")"),value:e.keyId})))||[]})},confirmText:"Are you sure you want to remove the selected password credentials?",condition:e=>{var a;return t&&(null==e?void 0:null===(a=e.passwordCredentials)||void 0===a?void 0:a.length)>0}},{icon:(0,i.jsx)(d.A,{}),label:"Remove Certificate Credentials",type:"POST",color:"warning",multiPost:!1,url:"/api/ExecApplication",data:{Id:"id",Type:"servicePrincipals",Action:"RemoveKey"},children:e=>{let{formHook:t,row:a}=e;return(0,i.jsx)(o.D,{formHook:t,row:a})},confirmText:"Are you sure you want to remove the selected certificate credentials?",condition:e=>{var a;return t&&(null==e?void 0:null===(a=e.keyCredentials)||void 0===a?void 0:a.length)>0}},{icon:(0,i.jsx)(u.A,{}),label:"Disable Service Principal",type:"POST",color:"warning",multiPost:!1,url:"/api/ExecApplication",data:{Id:"id",Type:"servicePrincipals",Action:"Update",Payload:{accountEnabled:!1}},confirmText:"Are you sure you want to disable this service principal? Users will not be able to sign in to this application.",condition:e=>t&&(null==e?void 0:e.accountEnabled)===!0},{icon:(0,i.jsx)(v.A,{}),label:"Enable Service Principal",type:"POST",color:"success",multiPost:!1,url:"/api/ExecApplication",data:{Id:"id",Type:"servicePrincipals",Action:"Update",Payload:{accountEnabled:!0}},confirmText:"Are you sure you want to enable this service principal?",condition:e=>t&&(null==e?void 0:e.accountEnabled)===!1},{icon:(0,i.jsx)(m.A,{}),label:"Delete Service Principal",type:"POST",color:"error",multiPost:!1,url:"/api/ExecApplication",data:{Id:"id",Type:"servicePrincipals",Action:"Delete"},confirmText:"Are you sure you want to delete this service principal? This will remove the application from this tenant but will not affect the app registration.",condition:()=>t}];return(0,i.jsx)(r.a,{title:"Enterprise Applications",apiUrl:"/api/ListGraphRequest",apiData:{Endpoint:"servicePrincipals",$select:"id,appId,displayName,createdDateTime,accountEnabled,homepage,publisherName,signInAudience,replyUrls,verifiedPublisher,info,api,appOwnerOrganizationId,tags,passwordCredentials,keyCredentials",$count:!0,$top:999},apiDataKey:"Results",actions:a,offCanvas:{extendedInfoFields:["displayName","createdDateTime","accountEnabled","publisherName","replyUrls","appOwnerOrganizationId","tags","passwordCredentials","keyCredentials"],actions:a},simpleColumns:["info.logoUrl","displayName","appId","accountEnabled","createdDateTime","publisherName","homepage","passwordCredentials","keyCredentials"]})};A.getLayout=e=>(0,i.jsx)(l.P,{children:(0,i.jsx)(n.L,{tabOptions:y,children:e})});let b=A},80700:(e,t,a)=>{"use strict";a.d(t,{S:()=>r});var i=a(14232),l=a(22322),n=a(26459);let r=()=>{var e,t,a;let r=(0,l.R_)({url:"/api/me",queryKey:"authmecipp"}),s=(null===(t=r.data)||void 0===t?void 0:null===(e=t.clientPrincipal)||void 0===e?void 0:e.userRoles)||[],o=(null===(a=r.data)||void 0===a?void 0:a.permissions)||[],c=r.isLoading,p=r.isSuccess&&s.length>0,d=(0,i.useCallback)(e=>!!p&&(0,n._m)(o,e),[o,p]),u=(0,i.useCallback)(e=>!!p&&(0,n.hf)(s,e),[s,p]),v=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!p)return!1;let{requiredPermissions:t=[],requiredRoles:a=[]}=e;return(0,n.zl)({userPermissions:o,userRoles:s,requiredPermissions:t,requiredRoles:a})},[o,s,p]);return{userPermissions:o,userRoles:s,isLoading:c,isAuthenticated:p,checkPermissions:d,checkRoles:u,checkAccess:v}}},98114:e=>{"use strict";e.exports=JSON.parse('[{"label":"Enterprise Apps","path":"/tenant/administration/applications/enterprise-apps"},{"label":"App Registrations","path":"/tenant/administration/applications/app-registrations"},{"label":"Permission Sets","path":"/tenant/administration/applications/permission-sets"},{"label":"Templates","path":"/tenant/administration/applications/templates"}]')}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(48076)),_N_E=e.O()}]);