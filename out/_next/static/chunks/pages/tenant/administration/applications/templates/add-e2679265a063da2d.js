(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8269],{40357:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var p=a(37876),l=a(89099),i=a(12435),n=a(88992),o=a(22322),r=a(36577),s=a(24933),u=a(14232),d=a(36271);let m=()=>{let e=(0,l.useRouter)(),{template:t,copy:a,name:i}=e.query,[m,c]=(0,u.useState)(0),A=(0,n.mN)({mode:"onBlur"}),{data:v,isLoading:T}=(0,o.R_)({url:t?"/api/ExecAppApprovalTemplate?Action=Get&TemplateId=".concat(t):null,queryKey:t?["ExecAppApprovalTemplate",t,m]:null,waiting:!!t}),_=(0,o.nN)({urlFromData:!0,relatedQueryKeys:["ListAppApprovalTemplates","ExecAppApprovalTemplate"]});return(0,p.jsx)(r.A,{hideBackButton:!1,title:a?"Copy App Approval Template":"Add App Approval Template",children:(0,p.jsx)(s.A,{children:(0,p.jsx)(d.A,{formControl:A,templateData:v,templateLoading:T,isEditing:!1,isCopy:a,updatePermissions:_,onSubmit:p=>{_.mutate({url:"/api/ExecAppApprovalTemplate?Action=Save",data:p,queryKey:"ExecAppApprovalTemplate"},{onSuccess:l=>{if(!t||a){var i;let t=null==l?void 0:null===(i=l[0])||void 0===i?void 0:i.TemplateId;t?e.push({pathname:"/tenant/administration/applications/templates/edit",query:{template:t,name:p.TemplateName}},void 0,{shallow:!0}):(console.error("Missing TemplateId in response:",l),c(e=>e+1))}else c(e=>e+1)}})},refetchKey:m})})})};m.getLayout=e=>(0,p.jsx)(i.P,{children:e});let c=m},70648:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenant/administration/applications/templates/add",function(){return a(40357)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[8396,319,636,6593,8792],()=>t(70648)),_N_E=e.O()}]);