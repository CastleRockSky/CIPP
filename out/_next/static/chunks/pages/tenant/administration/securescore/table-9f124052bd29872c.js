(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5738],{5613:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(14232);let r=a.forwardRef(function(e,t){let{title:n,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},9156:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var a=n(37876),r=n(17055),i=n(12435),s=n(10928),l=n(29390),o=n(57093),c=n(45297),d=n(5613),u=n(80581),v=n(41422),p=n(9218),h=n(86650),m=n(59568),x=n(17825),f=n(12003);let g=()=>{let e=(0,o.D)(),t=(0,x.t)().currentTenant;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.A,{sx:{flexGrow:1,py:2},maxWidth:!1,children:["AllTenants"===t&&(0,a.jsx)(m.A,{container:!0,spacing:2,children:(0,a.jsx)(m.A,{size:{md:4,xs:12},children:(0,a.jsx)(f.k,{title:"Not supported",imageUrl:"/assets/illustrations/undraw_website_ij0l.svg",text:"The Tenant Overview does not support all Tenants, please select a different tenant using the tenant selector. If you'd only like to see the scores for all tenants? Check out the Best Practices report instead."})})}),"AllTenants"!==t&&(0,a.jsx)(c.s,{isFetching:e.isFetching,data:[{icon:(0,a.jsx)(d.A,{}),data:e.translatedData.percentageCurrent+"%",name:"Current Score",color:"secondary"},{icon:(0,a.jsx)(u.A,{}),data:e.translatedData.percentageVsAllTenants+"%",name:"Compared score (All Tenants)",color:"green"},{icon:(0,a.jsx)(v.A,{}),data:e.translatedData.percentageVsSimilar+"%",name:"Compared score (Similar Tenants)"},{icon:(0,a.jsx)(p.A,{}),data:"".concat(e.translatedData.currentScore," of ").concat(e.translatedData.maxScore),name:"Score in points"}]})]}),(0,a.jsx)(l.A,{title:"Secure Score",data:e.translatedData.controlScores,simpleColumns:["title","tier","actionUrl","userImpact","threats"]})]})};g.getLayout=e=>(0,a.jsx)(i.P,{children:(0,a.jsx)(r.L,{tabOptions:s,children:e})});let j=g},9218:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(93944),r=n(37876);let i=(0,a.A)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 2h1.5v3l2-3h1.7l-2 3 2 3h-1.7l-2-3v3H12zM7 7.25h2.5V6.5H7V5h4v3.75H8.5v.75H11V11H7zM19 13l-6 6-4-4-4 4v-2.5l4-4 4 4 6-6z"}),"Score")},10928:e=>{"use strict";e.exports=JSON.parse('[{"label":"Tenant Overview","path":"/tenant/administration/securescore"},{"label":"Table Overview","path":"/tenant/administration/securescore/table"}]')},17055:(e,t,n)=>{"use strict";n.d(t,{L:()=>d});var a=n(37876),r=n(14e3),i=n(67578),s=n(22474),l=n(8578),o=n(76626),c=n(71538);let d=e=>{let{tabOptions:t,children:n}=e,d=(0,r.useRouter)(),u=(0,r.usePathname)(),v=t.find(e=>e.path===u);return(0,a.jsxs)(i.A,{sx:{flexGrow:1,py:4},children:[(0,a.jsx)(s.A,{spacing:2,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(l.A,{onChange:(e,t)=>{d.push(t)},value:null==v?void 0:v.path,variant:"scrollable",children:t.map(e=>(0,a.jsx)(o.A,{label:e.label,value:e.path},e.path))}),(0,a.jsx)(c.A,{})]})}),n]})}},41422:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(93944),r=n(37876);let i=(0,a.A)((0,r.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}),"Map")},45297:(e,t,n)=>{"use strict";n.d(t,{s:()=>m});var a=n(37876),r=n(14232),i=n(54538),s=n(22474),l=n(94810),o=n(22430),c=n(67578),d=n(77018),u=n(76776),v=n(59568),p=n(57016),h=n(5419);let m=e=>{let{data:t,isFetching:n}=e,[m,x]=(0,r.useState)(null);return(0,a.jsx)(i.A,{children:(0,a.jsx)(v.A,{container:!0,children:t.map((e,t)=>{var r,i,f,g,j;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{size:{md:3,sm:6,xs:12},onClick:e.offcanvas?()=>x(t):void 0,sx:{cursor:e.offcanvas?"pointer":"default",borderBottom:e=>({xs:"1px solid ".concat(e.palette.divider),md:"none"}),borderRight:e=>({md:"1px solid ".concat(e.palette.divider)}),"&:nth-of-type(3)":{borderBottom:e=>({xs:"1px solid ".concat(e.palette.divider),sm:"none"})},"&:nth-of-type(4)":{borderBottom:"none",borderRight:"none"}},children:(0,a.jsxs)(s.A,{alignItems:"center",direction:"row",spacing:2,sx:{p:2},children:[(null==e?void 0:e.icon)&&(0,a.jsx)(l.A,{color:e.color?e.color:"primary",fontSize:"small",children:e.icon}),(null==e?void 0:e.toolTip)?(0,a.jsx)(o.A,{title:e.toolTip,children:(0,a.jsxs)(c.A,{sx:()=>{if(!(null==e?void 0:e.icon))return{pl:2}},children:[(0,a.jsx)(d.A,{color:"text.secondary",variant:"overline",children:e.name}),(0,a.jsx)(d.A,{variant:"h6",children:n?(0,a.jsx)(u.A,{width:"100%"}):e.data})]})}):(0,a.jsxs)(c.A,{sx:()=>{if(!(null==e?void 0:e.icon))return{pl:2}},children:[(0,a.jsx)(d.A,{color:"text.secondary",variant:"overline",children:e.name}),(0,a.jsx)(d.A,{variant:"h6",children:n?(0,a.jsx)(u.A,{width:"100%"}):e.data})]})]})},e.name),e.offcanvas&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.w,{title:(null==e?void 0:null===(r=e.offcanvas)||void 0===r?void 0:r.title)||"Details",size:"md",visible:m===t,onClose:()=>x(null),children:(0,a.jsx)(c.A,{sx:{overflowY:"auto",maxHeight:"100%",display:"flex",flexDirection:"column"},children:(0,a.jsx)(v.A,{container:!0,spacing:1,children:(0,a.jsx)(v.A,{size:{xs:12},children:(null==e?void 0:null===(f=e.offcanvas)||void 0===f?void 0:null===(i=f.propertyItems)||void 0===i?void 0:i.length)>0&&(0,a.jsx)(h.a,{isFetching:n,align:"vertical",title:null==e?void 0:null===(g=e.offcanvas)||void 0===g?void 0:g.title,propertyItems:null!==(j=e.offcanvas.propertyItems)&&void 0!==j?j:[]})})})})})})]})})})})}},51740:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenant/administration/securescore/table",function(){return n(9156)}])},57093:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var a=n(14232),r=n(22322),i=n(17825),s=n(75069);function l(){let e=(0,i.t)().currentTenant;if("AllTenants"===e)return{controlScore:{isFetching:!1,isSuccess:!1,data:{Results:[]}},secureScore:{isFetching:!1,isSuccess:!1,data:{Results:[]}},translatedData:[],isFetching:!0,isSuccess:!1};let[t,n]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),u=(0,r.R_)({url:"/api/ListGraphRequest",data:{Endpoint:"security/secureScoreControlProfiles",tenantFilter:e,$count:!0,$top:999},queryKey:"controlScore-".concat(e)}),v=(0,r.R_)({url:"/api/ListGraphRequest",data:{Endpoint:"security/secureScores",tenantFilter:e,$count:!0,noPagination:!0,$top:7},queryKey:"secureScore-".concat(e)});return(0,a.useEffect)(()=>{u.isFetching||v.isFetching?d(!0):d(!1)},[u.isFetching,v.isFetching]),(0,a.useEffect)(()=>{if(u.isSuccess&&v.isSuccess){var e,t,a,r;let i=v.data.Results[0],l=i.controlScores.map(e=>{var t;let n=null===(t=u.data.Results)||void 0===t?void 0:t.find(t=>t.id===e.controlName),a=s.find(t=>{var n;return null===(n=t.tag)||void 0===n?void 0:n.includes(e.controlName)});return{...e,title:null==n?void 0:n.title,threats:null==n?void 0:n.threats,complianceInformation:null==n?void 0:n.complianceInformation,actionUrl:a?"/tenant/standards/list-standards":null==n?void 0:n.actionUrl,remediation:a?"1. Enable the CIPP Standard: ".concat(a.label):null==n?void 0:n.remediation,remediationImpact:null==n?void 0:n.remediationImpact,implementationCost:null==n?void 0:n.implementationCost,tier:null==n?void 0:n.tier,userImpact:null==n?void 0:n.userImpact,vendorInformation:null==n?void 0:n.vendorInformation,controlStateUpdates:(null==n?void 0:n.controlStateUpdates)?n.controlStateUpdates.filter(e=>"Default"!==e.state):[]}});l.sort((e,t)=>t.scoreInPercentage-e.scoreInPercentage),n({...i,percentageCurrent:Math.round(i.currentScore/i.maxScore*100),percentageVsAllTenants:Math.round(null===(t=i.averageComparativeScores)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.averageScore),percentageVsSimilar:Math.round(null===(r=i.averageComparativeScores)||void 0===r?void 0:null===(a=r[1])||void 0===a?void 0:a.averageScore),controlScores:l}),o(!0)}},[u.isSuccess,v.isSuccess,u.data,v.data]),{controlScore:u,secureScore:v,translatedData:t,isFetching:c,isSuccess:l}}}},e=>{var t=t=>e(e.s=t);e.O(0,[5069,636,6593,8792],()=>t(51740)),_N_E=e.O()}]);