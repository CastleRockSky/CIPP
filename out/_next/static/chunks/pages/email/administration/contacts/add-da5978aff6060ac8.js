(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[127],{1551:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var i=s(37876),a=s(88992),r=s(12435),l=s(90240),n=s(17825),d=s(71538),o=s(59568),m=s(58105);let c=()=>{let e=(0,n.t)().currentTenant,t=(0,a.mN)({mode:"onChange",defaultValues:{displayName:"",firstName:"",lastName:"",email:"",hidefromGAL:!1,streetAddress:"",postalCode:"",city:"",state:"",country:"",companyName:"",mobilePhone:"",businessPhone:"",jobTitle:"",website:"",mailTip:""}});return(0,i.jsx)(l.A,{formControl:t,queryKey:"AddContact",title:"Add Contact",backButtonTitle:"Contacts Overview",postUrl:"/api/AddContact",resetForm:!0,customDataformatter:t=>{var s;return{tenantID:e,DisplayName:t.displayName,hidefromGAL:t.hidefromGAL,email:t.email,FirstName:t.firstName,LastName:t.lastName,Title:t.jobTitle,StreetAddress:t.streetAddress,PostalCode:t.postalCode,City:t.city,State:t.state,CountryOrRegion:(null===(s=t.country)||void 0===s?void 0:s.value)||t.country,Company:t.companyName,mobilePhone:t.mobilePhone,phone:t.businessPhone,website:t.website,mailTip:t.mailTip}},children:(0,i.jsxs)(o.A,{container:!0,spacing:2,children:[(0,i.jsx)(o.A,{size:{md:10,xs:12},children:(0,i.jsx)(m.A,{type:"textField",label:"Display Name",name:"displayName",formControl:t,validators:{required:"Display Name is required"}})}),(0,i.jsx)(o.A,{size:{md:5,xs:12},children:(0,i.jsx)(m.A,{type:"textField",label:"First Name",name:"firstName",formControl:t})}),(0,i.jsx)(o.A,{size:{md:5,xs:12},children:(0,i.jsx)(m.A,{type:"textField",label:"Last Name",name:"lastName",formControl:t})}),(0,i.jsx)(d.A,{sx:{my:2,width:"100%"}}),(0,i.jsx)(o.A,{size:{md:8,xs:12},children:(0,i.jsx)(m.A,{type:"textField",label:"Email",name:"email",formControl:t,validators:{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}}})}),(0,i.jsx)(o.A,{size:{md:4,xs:12},children:(0,i.jsx)(m.A,{type:"switch",label:"Hide from Global Address List",name:"hidefromGAL",formControl:t})}),(0,i.jsx)(d.A,{sx:{my:2,width:"100%"}})]})})};c.getLayout=e=>(0,i.jsx)(r.P,{children:e});let u=c},42120:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var i=s(93944),a=s(37876);let r=(0,i.A)((0,a.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft")},43490:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/email/administration/contacts/add",function(){return s(1551)}])},90240:(e,t,s)=>{"use strict";s.d(t,{A:()=>b});var i=s(37876),a=s(89099),r=s(67578),l=s(86650),n=s(22474),d=s(47737),o=s(94810),m=s(77018),c=s(54538),u=s(24933),x=s(17675),h=s(42120),A=s(22322),j=s(68723),y=s(14232),p=s(88992),f=s(2303);let b=e=>{let{title:t,backButtonTitle:s,titleButton:b,formPageType:N="Add",children:C,queryKey:v,formControl:g,postUrl:w,customDataformatter:_,resetForm:P=!1,hideBackButton:E=!1,hidePageType:F=!1,hideTitle:T=!1,hideSubmit:k=!1,allowResubmit:L=!1,addedButtons:q,...z}=e,S=(0,a.useRouter)(),G=(0,A.nN)({datafromUrl:!0,relatedQueryKeys:v}),{isValid:O,isDirty:D}=(0,p.lN)({control:g.control});return(0,y.useEffect)(()=>{if(delete S.query.tenantFilter,S.query){let e={...g.getValues(),...S.query};g.reset(e)}},[S]),(0,y.useEffect)(()=>{G.isSuccess&&P&&g.reset()},[G.isSuccess]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.v,{title:t}),(0,i.jsx)(r.A,{sx:{flexGrow:1,py:4},children:(0,i.jsx)(l.A,{maxWidth:"lg",children:(0,i.jsxs)(n.A,{spacing:4,children:[!T&&(0,i.jsxs)(n.A,{spacing:2,children:[!E&&(0,i.jsx)("div",{children:(0,i.jsx)(d.A,{color:"inherit",onClick:()=>{S.back()},startIcon:(0,i.jsx)(o.A,{fontSize:"small",children:(0,i.jsx)(h.A,{})}),children:s})}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)(m.A,{variant:"h4",children:[!F&&(0,i.jsxs)(i.Fragment,{children:[N," - "]}),t]}),b&&b]})]}),(0,i.jsxs)(c.A,{children:[(0,i.jsxs)(u.A,{children:[C,(0,i.jsx)(j.v,{apiObject:G})]}),!k&&(0,i.jsx)(x.A,{sx:{justifyContent:"flex-end"},children:(0,i.jsxs)(n.A,{spacing:2,direction:"row",children:[q&&q,(0,i.jsx)(d.A,{disabled:G.isPending||!O||!L&&!D,onClick:g.handleSubmit(()=>{if(g.trigger(),!O)return;let e=_?_(g.getValues()):g.getValues();Object.keys(e).forEach(t=>{(""===e[t]||null===e[t])&&delete e[t]}),G.mutate({url:w,data:e})}),type:"submit",variant:"contained",children:"Submit"})]})})]})]})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(43490)),_N_E=e.O()}]);