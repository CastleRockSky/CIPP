(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{16222:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/email/administration/contacts-template/edit",function(){return a(88057)}])},86508:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(37876),i=a(67578),o=a(76776),r=a(59568);let n=e=>{let{layout:t}=e;return(0,s.jsx)(i.A,{sx:{width:"100%",my:2},children:t.map((e,t)=>(0,s.jsx)(r.A,{container:!0,spacing:2,sx:{mb:2},children:Array.from({length:e}).map((a,i)=>(0,s.jsx)(r.A,{size:{xs:12/e},children:(0,s.jsx)(o.A,{variant:"rectangular",width:"100%"})},"skeleton-".concat(t,"-").concat(i)))},"row-".concat(t)))})}},88057:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(37876),i=a(14232),o=a(88992),r=a(12435),n=a(90240),l=a(86508),m=a(54928),d=a(22322),c=a(81949),u=a(89099);let p=new Map(c.map(e=>[e.Name,e.Code])),y=()=>{let{id:e}=(0,u.useRouter)().query,t=(0,d.R_)({url:"/api/ListContactTemplates?id=".concat(e),queryKey:"ListContactTemplates-".concat(e),waiting:!!e}),a=(0,i.useMemo)(()=>({displayName:"",firstName:"",lastName:"",email:"",hidefromGAL:!1,streetAddress:"",postalCode:"",city:"",state:"",country:"",companyName:"",mobilePhone:"",businessPhone:"",jobTitle:"",website:"",mailTip:""}),[]),r=(0,o.mN)({mode:"onChange",defaultValues:a}),c=(0,i.useMemo)(()=>{var a;if(!t.isSuccess||!t.data)return null;let s=Array.isArray(t.data)?t.data[0]:t.data,i=(null===(a=s.addresses)||void 0===a?void 0:a[0])||{},o=new Map((s.phones||[]).map(e=>[e.type,e.number]));return{ContactTemplateID:e||"",displayName:s.displayName||"",firstName:s.givenName||"",lastName:s.surname||"",email:s.email||"",hidefromGAL:s.hidefromGAL||!1,streetAddress:i.street||"",postalCode:i.postalCode||"",city:i.city||"",state:i.state||"",country:i.countryOrRegion&&p.get(i.countryOrRegion)||"",companyName:s.companyName||"",mobilePhone:o.get("mobile")||"",businessPhone:o.get("business")||"",jobTitle:s.jobTitle||"",website:s.website||"",mailTip:s.mailTip||""}},[t.isSuccess,t.data]),y=(0,i.useCallback)(()=>{c&&r.reset(c)},[c,r]);(0,i.useEffect)(()=>{y()},[y]);let h=(0,i.useCallback)(t=>{var a;return{ContactTemplateID:e,DisplayName:t.displayName,hidefromGAL:t.hidefromGAL,email:t.email,FirstName:t.firstName,LastName:t.lastName,Title:t.jobTitle,StreetAddress:t.streetAddress,PostalCode:t.postalCode,City:t.city,State:t.state,CountryOrRegion:(null===(a=t.country)||void 0===a?void 0:a.value)||t.country,Company:t.companyName,mobilePhone:t.mobilePhone,phone:t.businessPhone,website:t.website,mailTip:t.mailTip}}),N=Array.isArray(t.data)?t.data[0]:t.data;return(0,s.jsxs)(n.A,{formControl:r,queryKey:"ListContactTemplates-".concat(e),title:"Contact Template: ".concat((null==t?void 0:t.displayName)||""),backButtonTitle:"Contact Templates",formPageType:"Edit",postUrl:"/api/EditContactTemplates",data:N,customDataformatter:h,children:[t.isLoading&&(0,s.jsx)(l.A,{layout:[2,2,1,2,1,2,2,2,4]}),!t.isLoading&&(0,s.jsx)(m.A,{formControl:r,formType:"edit"})]})};y.getLayout=e=>(0,s.jsx)(r.P,{children:e});let h=y}},e=>{var t=t=>e(e.s=t);e.O(0,[8307,636,6593,8792],()=>t(16222)),_N_E=e.O()}]);