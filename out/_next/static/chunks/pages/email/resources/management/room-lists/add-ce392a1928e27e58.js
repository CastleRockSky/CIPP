(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[750],{34367:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(37876),s=r(67578),i=r(90240),a=r(12435),l=r(88992),o=r(17825),d=r(75720),u=r(59568),m=r(58105),c=r(58656);let x=e=>{let{formControl:t}=e;return(0,n.jsxs)(u.A,{container:!0,spacing:2,children:[(0,n.jsx)(u.A,{size:{md:12,xs:12},children:(0,n.jsx)(m.o,{type:"textField",formControl:t,name:"displayName",label:"Display Name",validators:{required:"Display Name is required"}})}),(0,n.jsx)(u.A,{size:{md:6,xs:12},children:(0,n.jsx)(m.o,{type:"textField",formControl:t,name:"username",label:"Username",validators:{required:"Username is required",pattern:{value:/^[a-zA-Z0-9\-_\.]+$/,message:"Username can only contain letters, numbers, hyphens, underscores, and periods"}},InputProps:{endAdornment:(0,n.jsx)(d.A,{position:"end",children:"@"})}})}),(0,n.jsx)(u.A,{size:{md:6,xs:12},children:(0,n.jsx)(c.w,{formControl:t,name:"primDomain",label:"Primary Domain",validators:{required:"Domain is required"}})})]})},p=()=>{let e=(0,o.t)(),t=e.currentTenant,r=(0,l.mN)({mode:"onChange",defaultValues:{displayName:"",username:"",primDomain:null}});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.A,{queryKey:"RoomLists-".concat(e.currentTenant),formControl:r,title:"Add Room List",backButtonTitle:"Room Lists",backUrl:"/email/resources/management/room-lists",postUrl:"/api/AddRoomList",resetForm:!0,customDataformatter:e=>{var r,n;return{tenantFilter:t,displayName:null===(r=e.displayName)||void 0===r?void 0:r.trim(),username:null===(n=e.username)||void 0===n?void 0:n.trim(),primDomain:e.primDomain}},children:(0,n.jsx)(s.A,{sx:{my:2},children:(0,n.jsx)(x,{formControl:r})})})})};p.getLayout=e=>(0,n.jsx)(a.P,{children:e});let h=p},42120:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(93944),s=r(37876);let i=(0,n.A)((0,s.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft")},58656:(e,t,r)=>{"use strict";r.d(t,{w:()=>l});var n=r(37876),s=r(58105),i=r(88992),a=r(17825);let l=e=>{let{formControl:t,name:r,label:l,allTenants:o=!1,type:d="multiple",multiple:u=!1,...m}=e,c=(0,i.FH)({control:t.control,name:"tenantFilter"}),x=(0,a.t)().currentTenant;return(0,n.jsx)(s.o,{name:r,label:l,type:"autoComplete",formControl:t,multiple:u,api:{autoSelectFirstItem:!0,tenantFilter:c?c.value:x,queryKey:"listDomains-".concat((null==c?void 0:c.value)?c.value:x),url:"/api/ListGraphRequest",dataKey:"Results",labelField:e=>"".concat(e.id),valueField:"id",data:{Endpoint:"domains",manualPagination:!0,$count:!0,$top:99}},...m})}},63290:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/email/resources/management/room-lists/add",function(){return r(34367)}])},90240:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var n=r(37876),s=r(89099),i=r(67578),a=r(86650),l=r(22474),o=r(47737),d=r(94810),u=r(77018),m=r(54538),c=r(24933),x=r(17675),p=r(42120),h=r(22322),j=r(68723),y=r(14232),A=r(88992),f=r(2303);let v=e=>{let{title:t,backButtonTitle:r,titleButton:v,formPageType:g="Add",children:b,queryKey:C,formControl:F,postUrl:N,customDataformatter:_,resetForm:q=!1,hideBackButton:w=!1,hidePageType:k=!1,hideTitle:D=!1,hideSubmit:E=!1,allowResubmit:L=!1,addedButtons:P,...R}=e,z=(0,s.useRouter)(),S=(0,h.nN)({datafromUrl:!0,relatedQueryKeys:C}),{isValid:T,isDirty:U}=(0,A.lN)({control:F.control});return(0,y.useEffect)(()=>{if(delete z.query.tenantFilter,z.query){let e={...F.getValues(),...z.query};F.reset(e)}},[z]),(0,y.useEffect)(()=>{S.isSuccess&&q&&F.reset()},[S.isSuccess]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.v,{title:t}),(0,n.jsx)(i.A,{sx:{flexGrow:1,py:4},children:(0,n.jsx)(a.A,{maxWidth:"lg",children:(0,n.jsxs)(l.A,{spacing:4,children:[!D&&(0,n.jsxs)(l.A,{spacing:2,children:[!w&&(0,n.jsx)("div",{children:(0,n.jsx)(o.A,{color:"inherit",onClick:()=>{z.back()},startIcon:(0,n.jsx)(d.A,{fontSize:"small",children:(0,n.jsx)(p.A,{})}),children:r})}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)(u.A,{variant:"h4",children:[!k&&(0,n.jsxs)(n.Fragment,{children:[g," - "]}),t]}),v&&v]})]}),(0,n.jsxs)(m.A,{children:[(0,n.jsxs)(c.A,{children:[b,(0,n.jsx)(j.v,{apiObject:S})]}),!E&&(0,n.jsx)(x.A,{sx:{justifyContent:"flex-end"},children:(0,n.jsxs)(l.A,{spacing:2,direction:"row",children:[P&&P,(0,n.jsx)(o.A,{disabled:S.isPending||!T||!L&&!U,onClick:F.handleSubmit(()=>{if(F.trigger(),!T)return;let e=_?_(F.getValues()):F.getValues();Object.keys(e).forEach(t=>{(""===e[t]||null===e[t])&&delete e[t]}),S.mutate({url:N,data:e})}),type:"submit",variant:"contained",children:"Submit"})]})})]})]})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(63290)),_N_E=e.O()}]);