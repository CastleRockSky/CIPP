(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4681],{19353:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>x});var s=t(37876),n=t(14232),r=t(71538),a=t(59568),i=t(88992),o=t(12435),c=t(90240),d=t(58105),u=t(35764);let m=()=>{let e=(0,i.mN)({mode:"onChange",defaultValues:{selectedTenants:[],TemplateList:null,PowerShellCommand:""}}),l=(0,i.FH)({control:e.control,name:"TemplateList"});(0,n.useEffect)(()=>{(null==l?void 0:l.value)&&e.setValue("PowerShellCommand",JSON.stringify(null==l?void 0:l.value))},[l,e]);let t=(0,i.FH)({control:e.control,name:"QuarantineNotification"});return(0,s.jsx)(c.A,{formControl:e,queryKey:"AddQuarantinePolicy",title:"Quarantine Policy",backButtonTitle:"Overview",postUrl:"/api/AddQuarantinePolicy",children:(0,s.jsxs)(a.A,{container:!0,spacing:2,columnSpacing:{xs:1,sm:2,md:3},children:[(0,s.jsx)(a.A,{xs:12,children:(0,s.jsx)(u.w,{label:"Select Tenants",formControl:e,name:"selectedTenants",type:"multiple",allTenants:!0,preselectedEnabled:!0,validators:{required:"At least one tenant must be selected"}})}),(0,s.jsx)(r.A,{sx:{my:2,width:"100%"}}),(0,s.jsxs)(a.A,{xs:6,children:[(0,s.jsx)(d.A,{type:"textField",label:"Policy Name",name:"Name",placeholder:"Enter policy name",formControl:e,required:!0}),(0,s.jsx)(r.A,{sx:{my:2,width:"100%"}}),(0,s.jsx)(d.A,{type:"autoComplete",label:"Release Action Preference",name:"ReleaseActionPreference",placeholder:"Select release action preference",formControl:e,required:!0,multiple:!1,options:[{label:"Release",value:"Release"},{label:"Request Release",value:"RequestRelease"}]})]}),(0,s.jsxs)(a.A,{xs:2,children:[(0,s.jsx)(d.A,{type:"switch",label:"Delete",name:"Delete",formControl:e}),(0,s.jsx)(d.A,{type:"switch",label:"Preview",name:"Preview",formControl:e}),(0,s.jsx)(d.A,{type:"switch",label:"Block Sender",name:"BlockSender",formControl:e}),(0,s.jsx)(d.A,{type:"switch",label:"Allow Sender",name:"AllowSender",formControl:e})]}),(0,s.jsxs)(a.A,{xs:4,children:[(0,s.jsx)(d.A,{type:"switch",label:"Quarantine Notification",name:"QuarantineNotification",formControl:e}),(0,s.jsx)(d.A,{type:"switch",label:"Include Messages From Blocked Sender Address",name:"IncludeMessagesFromBlockedSenderAddress",formControl:e,disabled:!t})]})]})})};m.getLayout=e=>(0,s.jsx)(o.P,{children:e});let x=m},42120:(e,l,t)=>{"use strict";t.d(l,{A:()=>r});var s=t(93944),n=t(37876);let r=(0,s.A)((0,n.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft")},90240:(e,l,t)=>{"use strict";t.d(l,{A:()=>w});var s=t(37876),n=t(89099),r=t(67578),a=t(86650),i=t(22474),o=t(47737),c=t(94810),d=t(77018),u=t(54538),m=t(24933),x=t(17675),h=t(42120),A=t(22322),j=t(68723),f=t(14232),p=t(88992),y=t(2303);let w=e=>{let{title:l,backButtonTitle:t,titleButton:w,formPageType:b="Add",children:v,queryKey:g,formControl:C,postUrl:S,customDataformatter:N,resetForm:P=!1,hideBackButton:k=!1,hidePageType:_=!1,hideTitle:E=!1,hideSubmit:q=!1,allowResubmit:R=!1,addedButtons:T,...F}=e,Q=(0,n.useRouter)(),O=(0,A.nN)({datafromUrl:!0,relatedQueryKeys:g}),{isValid:B,isDirty:V}=(0,p.lN)({control:C.control});return(0,f.useEffect)(()=>{if(delete Q.query.tenantFilter,Q.query){let e={...C.getValues(),...Q.query};C.reset(e)}},[Q]),(0,f.useEffect)(()=>{O.isSuccess&&P&&C.reset()},[O.isSuccess]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.v,{title:l}),(0,s.jsx)(r.A,{sx:{flexGrow:1,py:4},children:(0,s.jsx)(a.A,{maxWidth:"lg",children:(0,s.jsxs)(i.A,{spacing:4,children:[!E&&(0,s.jsxs)(i.A,{spacing:2,children:[!k&&(0,s.jsx)("div",{children:(0,s.jsx)(o.A,{color:"inherit",onClick:()=>{Q.back()},startIcon:(0,s.jsx)(c.A,{fontSize:"small",children:(0,s.jsx)(h.A,{})}),children:t})}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(d.A,{variant:"h4",children:[!_&&(0,s.jsxs)(s.Fragment,{children:[b," - "]}),l]}),w&&w]})]}),(0,s.jsxs)(u.A,{children:[(0,s.jsxs)(m.A,{children:[v,(0,s.jsx)(j.v,{apiObject:O})]}),!q&&(0,s.jsx)(x.A,{sx:{justifyContent:"flex-end"},children:(0,s.jsxs)(i.A,{spacing:2,direction:"row",children:[T&&T,(0,s.jsx)(o.A,{disabled:O.isPending||!B||!R&&!V,onClick:C.handleSubmit(()=>{if(C.trigger(),!B)return;let e=N?N(C.getValues()):C.getValues();Object.keys(e).forEach(l=>{(""===e[l]||null===e[l])&&delete e[l]}),O.mutate({url:S,data:e})}),type:"submit",variant:"contained",children:"Submit"})]})})]})]})})})]})}},91430:(e,l,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/email/spamfilter/list-quarantine-policies/add",function(){return t(19353)}])}},e=>{var l=l=>e(e.s=l);e.O(0,[636,6593,8792],()=>l(91430)),_N_E=e.O()}]);