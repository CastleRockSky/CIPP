(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3678],{42120:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var l=s(93944),r=s(37876);let n=(0,l.A)((0,r.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft")},59611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var l=s(37876),r=s(71538),n=s(59568),o=s(88992),i=s(12435),a=s(90240),c=s(58105),d=s(35764);let u=()=>{let e=(0,o.mN)({mode:"onChange",defaultValues:{TimeOutInMinutes:"",ErrorMessage:"",ShowProgress:!1,EnableLog:!1,OBEEOnly:!1,blockDevice:!1,Allowretry:!1,AllowReset:!1,AllowFail:!1}});return(0,l.jsx)(a.A,{resetForm:!1,queryKey:"Autopilot Status Pages",title:"Autopilot Status Page Wizard",formControl:e,postUrl:"/api/AddEnrollment",backButtonTitle:"Autopilot Status Pages",children:(0,l.jsxs)(n.A,{container:!0,spacing:2,children:[(0,l.jsx)(n.A,{size:{xs:12},children:(0,l.jsx)(d.w,{label:"Select Tenants",formControl:e,name:"selectedTenants",type:"multiple",allTenants:!0,preselectedEnabled:!0,validators:{required:"At least one tenant must be selected"}})}),(0,l.jsx)(r.A,{sx:{my:2}}),(0,l.jsx)(n.A,{size:{md:6,xs:12},children:(0,l.jsx)(c.A,{type:"textField",label:"Timeout in minutes",name:"TimeOutInMinutes",formControl:e,placeholder:"60",validators:{required:"Timeout is required"}})}),(0,l.jsx)(n.A,{size:{xs:12},children:(0,l.jsx)(c.A,{type:"textField",label:"Custom Error Message",name:"ErrorMessage",formControl:e,placeholder:"Leave blank to not set."})}),(0,l.jsxs)(n.A,{size:{xs:12},children:[(0,l.jsx)(c.A,{type:"switch",label:"Show progress to users",name:"ShowProgress",formControl:e}),(0,l.jsx)(c.A,{type:"switch",label:"Turn on log collection",name:"EnableLog",formControl:e}),(0,l.jsx)(c.A,{type:"switch",label:"Show status page only with OOBE setup",name:"OBEEOnly",formControl:e}),(0,l.jsx)(c.A,{type:"switch",label:"Block device usage during setup",name:"blockDevice",formControl:e}),(0,l.jsx)(c.A,{type:"switch",label:"Allow retry",name:"Allowretry",formControl:e}),(0,l.jsx)(c.A,{type:"switch",label:"Allow reset",name:"AllowReset",formControl:e}),(0,l.jsx)(c.A,{type:"switch",label:"Allow users to use device if setup fails",name:"AllowFail",formControl:e})]})]})})};u.getLayout=e=>(0,l.jsx)(i.P,{children:e});let x=u},71897:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/endpoint/autopilot/add-status-page",function(){return s(59611)}])},90240:(e,t,s)=>{"use strict";s.d(t,{A:()=>w});var l=s(37876),r=s(89099),n=s(67578),o=s(86650),i=s(22474),a=s(47737),c=s(94810),d=s(77018),u=s(54538),x=s(24933),h=s(17675),A=s(42120),m=s(22322),j=s(68723),p=s(14232),f=s(88992),g=s(2303);let w=e=>{let{title:t,backButtonTitle:s,titleButton:w,formPageType:y="Add",children:b,queryKey:E,formControl:C,postUrl:v,customDataformatter:k,resetForm:S=!1,hideBackButton:O=!1,hidePageType:_=!1,hideTitle:T=!1,hideSubmit:P=!1,allowResubmit:F=!1,addedButtons:N,...q}=e,z=(0,r.useRouter)(),B=(0,m.nN)({datafromUrl:!0,relatedQueryKeys:E}),{isValid:L,isDirty:M}=(0,f.lN)({control:C.control});return(0,p.useEffect)(()=>{if(delete z.query.tenantFilter,z.query){let e={...C.getValues(),...z.query};C.reset(e)}},[z]),(0,p.useEffect)(()=>{B.isSuccess&&S&&C.reset()},[B.isSuccess]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.v,{title:t}),(0,l.jsx)(n.A,{sx:{flexGrow:1,py:4},children:(0,l.jsx)(o.A,{maxWidth:"lg",children:(0,l.jsxs)(i.A,{spacing:4,children:[!T&&(0,l.jsxs)(i.A,{spacing:2,children:[!O&&(0,l.jsx)("div",{children:(0,l.jsx)(a.A,{color:"inherit",onClick:()=>{z.back()},startIcon:(0,l.jsx)(c.A,{fontSize:"small",children:(0,l.jsx)(A.A,{})}),children:s})}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsxs)(d.A,{variant:"h4",children:[!_&&(0,l.jsxs)(l.Fragment,{children:[y," - "]}),t]}),w&&w]})]}),(0,l.jsxs)(u.A,{children:[(0,l.jsxs)(x.A,{children:[b,(0,l.jsx)(j.v,{apiObject:B})]}),!P&&(0,l.jsx)(h.A,{sx:{justifyContent:"flex-end"},children:(0,l.jsxs)(i.A,{spacing:2,direction:"row",children:[N&&N,(0,l.jsx)(a.A,{disabled:B.isPending||!L||!F&&!M,onClick:C.handleSubmit(()=>{if(C.trigger(),!L)return;let e=k?k(C.getValues()):C.getValues();Object.keys(e).forEach(t=>{(""===e[t]||null===e[t])&&delete e[t]}),B.mutate({url:v,data:e})}),type:"submit",variant:"contained",children:"Submit"})]})})]})]})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(71897)),_N_E=e.O()}]);