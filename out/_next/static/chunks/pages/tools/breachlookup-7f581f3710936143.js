(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1477],{70721:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/breachlookup",function(){return t(90012)}])},90012:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var s=t(37876),i=t(67578),n=t(86650),a=t(46061),c=t(77018),l=t(47737),o=t(76776),d=t(24422),x=t(94760),h=t(59017),j=t(59568),A=t(12435),u=t(88992),m=t(84064),p=t(16652),y=t(58105),v=t(22322),g=t(12227),b=t(41412),f=t(89099),w=t(14232),z=t(76300),_=t(22430),P=t(70946),N=t(13658);let S=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(let s in e){let i=r?"".concat(r,".").concat(s):s;"object"==typeof e[s]&&null!==e[s]?S(e[s],i,t):t[i]=e[s]}return t},k=e=>{let{rawData:r,reportName:t="Export",includeFields:i=[]}=e;return(0,s.jsx)(_.A,{title:"Export Raw Data to CSV",children:(0,s.jsx)("span",{children:(0,s.jsx)(P.A,{disabled:!r||0===r.length,onClick:()=>{if(!r||0===r.length){console.warn("No raw data available for export.");return}let e=r.map(e=>S(e)),s=i.length?e.map(e=>i.reduce((r,t)=>(void 0!==e[t]&&(r[t]=e[t]),r),{})):e,n=(0,N.df)({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0,filename:"".concat(t,"_").concat(new Date().toISOString(),".csv")}),a=(0,N.Y_)(n)(s);(0,N.RG)(n)(a)},children:(0,s.jsx)(z.A,{})})})})};var E=t(84177);let D=()=>{var e,r,t;let A=(0,u.mN)({mode:"onBlur"}),z=(0,u.FH)({control:A.control,name:"account"}),_=(0,v.R_)({url:"/api/ListBreachesAccount",data:{account:z},queryKey:"breaches-".concat(z),waiting:!1}),P=(0,f.useRouter)();return(0,w.useEffect)(()=>{P.query.account&&(A.setValue("account",P.query.account),setTimeout(()=>{_.refetch()},200))},[P.query.account]),(0,s.jsx)(i.A,{sx:{flexGrow:1,py:4},children:(0,s.jsx)(n.A,{maxWidth:!1,children:(0,s.jsxs)(j.A,{container:!0,spacing:3,children:[(0,s.jsx)(j.A,{container:!0,spacing:4,children:(0,s.jsxs)(j.A,{spacing:4,size:{xs:12},children:[(0,s.jsx)(a.A,{severity:"info",children:(0,s.jsx)(c.A,{variant:"body1",color:"textPrimary",children:"This page is in beta and may not always give expected results."})}),(0,s.jsx)(m.A,{title:"Breach lookup",children:(0,s.jsxs)(j.A,{container:!0,spacing:2,children:[(0,s.jsx)(j.A,{size:{xs:8},children:(0,s.jsx)(y.A,{formControl:A,name:"account",type:"textField",label:"Email address or domain name",required:!0})}),(0,s.jsx)(j.A,{size:{xs:4},children:(0,s.jsx)(l.A,{type:"submit",onClick:()=>_.refetch(),variant:"contained",startIcon:(0,s.jsx)(p.A,{}),children:"Check"})})]})})]})}),_.data&&_.data.length>0&&(0,s.jsx)(j.A,{size:{xs:12},children:(0,s.jsx)(k,{rawData:_.data,reportName:"User_Breaches"})}),_.isFetching?(0,s.jsx)(j.A,{size:{xs:8},children:(0,s.jsx)(m.A,{title:"Fetching Results",children:(0,s.jsx)(j.A,{container:!0,spacing:2,children:(0,s.jsx)(j.A,{size:{xs:12},textAlign:"center",children:(0,s.jsx)(o.A,{width:"100%"})})})})}):_.data?(0,s.jsxs)(s.Fragment,{children:[0===_.data.length&&(0,s.jsx)(j.A,{size:{xs:8},children:(0,s.jsx)(m.A,{title:"No breaches detected",children:(0,s.jsx)(j.A,{container:!0,spacing:2,children:(0,s.jsx)(j.A,{size:{xs:12},children:(0,s.jsx)(c.A,{variant:"body1",color:"textPrimary",children:"No breaches have been detected for this account"})})})})}),null===(e=_.data)||void 0===e?void 0:e.map((e,r)=>{var t;return(0,s.jsx)(j.A,{spacing:2,size:{xs:3},children:(0,s.jsx)(m.A,{cardSx:{display:"flex",flexDirection:"column",height:"100%"},title:(0,s.jsx)(s.Fragment,{children:e.Title}),cardActions:(0,s.jsx)(d.A,{sx:{width:20,height:20,ml:1},variant:"square",src:e.LogoPath}),children:(0,s.jsxs)(j.A,{container:!0,spacing:2,children:[(0,s.jsxs)(j.A,{size:{xs:12},children:[(0,s.jsx)(c.A,{variant:"subtitle2",color:"textSecondary",sx:{mt:2},children:"Partial Password Available"}),(0,s.jsx)(c.A,{variant:"body2",color:"textPrimary",children:e.password?(0,s.jsxs)(s.Fragment,{children:["Yes",(0,s.jsx)(E.R,{text:e.password,type:"password"})]}):"No"})]}),(0,s.jsxs)(j.A,{size:{xs:12},children:[(0,s.jsx)(c.A,{variant:"subtitle2",color:"textSecondary",sx:{mt:2},children:"Description"}),(0,s.jsx)(c.A,{variant:"body2",color:"textPrimary",dangerouslySetInnerHTML:{__html:g.default.sanitize(e.Description)}})]}),(0,s.jsx)(j.A,{size:{xs:12},children:(0,s.jsx)(c.A,{variant:"body1",gutterBottom:!0,children:(0,s.jsx)(x.A,{href:e.Domain,target:"_blank",children:e.Domain})})}),(0,s.jsxs)(j.A,{size:{xs:12},children:[(0,s.jsx)(c.A,{variant:"subtitle2",color:"textSecondary",sx:{mt:2},children:"Leaked Data classes"}),(0,s.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",mt:1},children:null===(t=e.DataClasses)||void 0===t?void 0:t.map((e,r)=>(0,s.jsx)(h.A,{label:e,size:"small",color:"info",sx:{mr:1,mt:1}},r))})]}),(0,s.jsxs)(j.A,{size:{xs:12},children:[(0,s.jsx)(c.A,{variant:"subtitle2",color:"textSecondary",sx:{mt:2},children:"Breach Information"}),(0,s.jsx)(c.A,{variant:"body1",color:"textPrimary",children:Object.keys(e).map(r=>{if("boolean"==typeof e[r]&&e[r])return(0,s.jsx)(h.A,{label:(0,b.i)(r),size:"small",color:"info",sx:{mr:1,mt:1}},r)})})]})]})})},r)})]}):(0,s.jsxs)(s.Fragment,{children:[_.isSuccess&&(0,s.jsx)(j.A,{size:{xs:8},children:(0,s.jsx)(m.A,{title:"No breaches detected",children:(0,s.jsx)(j.A,{container:!0,spacing:2,children:(0,s.jsx)(j.A,{size:{xs:12},children:(0,s.jsx)(c.A,{variant:"body1",color:"textPrimary",children:"No breaches have been detected for this account"})})})})}),_.isError&&(0,s.jsx)(j.A,{size:{xs:8},children:(0,s.jsx)(m.A,{title:"Error",children:(0,s.jsx)(j.A,{container:!0,spacing:2,children:(0,s.jsxs)(j.A,{size:{xs:12},children:[(0,s.jsx)(c.A,{variant:"body1",color:"textPrimary",children:"An error occurred while connecting to the HIBP API."}),(null===(t=_.error)||void 0===t?void 0:null===(r=t.response)||void 0===r?void 0:r.data)&&(0,s.jsx)(c.A,{variant:"body2",color:"textSecondary",children:_.error.response.data})]})})})})]})]})})})};D.getLayout=e=>(0,s.jsx)(A.P,{children:e});let C=D}},e=>{var r=r=>e(e.s=r);e.O(0,[636,6593,8792],()=>r(70721)),_N_E=e.O()}]);