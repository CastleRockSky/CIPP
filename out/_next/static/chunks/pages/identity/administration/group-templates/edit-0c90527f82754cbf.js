(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[932],{28002:(e,i,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/identity/administration/group-templates/edit",function(){return t(88516)}])},42105:(e,i,t)=>{"use strict";t.d(i,{A:()=>o});var r=t(37876),n=t(14232),l=t(59568),s=t(58105),a=t(46402);let o=e=>{let{formControl:i}=e;return(0,n.useEffect)(()=>{let e=i.watch((e,i)=>{let{name:t,type:r}=i});return()=>e.unsubscribe()},[i]),(0,r.jsxs)(l.A,{container:!0,spacing:2,children:[(0,r.jsx)(s.A,{type:"hidden",name:"GUID",formControl:i}),(0,r.jsx)(l.A,{size:{md:6,xs:12},children:(0,r.jsx)(s.A,{type:"textField",label:"Display Name",name:"displayName",required:!0,formControl:i,fullWidth:!0})}),(0,r.jsx)(l.A,{size:{md:6,xs:12},children:(0,r.jsx)(s.A,{type:"textField",label:"Description",name:"description",formControl:i,fullWidth:!0})}),(0,r.jsx)(l.A,{size:{md:12,xs:12},children:(0,r.jsx)(s.A,{type:"textField",label:"Username (do not include domain)",name:"username",required:!0,formControl:i,fullWidth:!0})}),(0,r.jsxs)(l.A,{size:{xs:12},children:[(0,r.jsx)(s.A,{type:"radio",name:"groupType",formControl:i,options:[{label:"Azure Role Group",value:"azurerole"},{label:"Security Group",value:"generic"},{label:"Microsoft 365 Group",value:"m365"},{label:"Dynamic Group",value:"dynamic"},{label:"Dynamic Distribution Group",value:"dynamicdistribution"},{label:"Distribution List",value:"distribution"},{label:"Mail Enabled Security Group",value:"security"}]}),(0,r.jsxs)("div",{style:{display:"none"},children:["Current groupType: ",i.watch("groupType")]})]}),(0,r.jsx)(a.A,{formControl:i,field:"groupType",compareType:"is",compareValue:"distribution",children:(0,r.jsx)(l.A,{size:{xs:12},children:(0,r.jsx)(s.A,{type:"switch",label:"Let people outside the organization email the group",name:"allowExternal",formControl:i})})}),(0,r.jsx)(a.A,{formControl:i,field:"groupType",compareType:"contains",compareValue:"dynamic",children:(0,r.jsx)(l.A,{size:{xs:12},children:(0,r.jsx)(s.A,{type:"textField",label:"Dynamic Group Parameters",name:"membershipRules",formControl:i,placeholder:"Enter dynamic group parameters syntax",multiline:!0,rows:4,fullWidth:!0})})})]})}},42120:(e,i,t)=>{"use strict";t.d(i,{A:()=>l});var r=t(93944),n=t(37876);let l=(0,r.A)((0,n.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft")},88516:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>y});var r=t(37876),n=t(67578),l=t(90240),s=t(12435),a=t(88992),o=t(17825),u=t(42105),c=t(89099),d=t(22322),p=t(14232);let m=()=>{let e=(0,o.t)(),{id:i}=(0,c.useRouter)().query,t=(0,a.mN)({mode:"onChange",defaultValues:{tenantFilter:e.currentTenant}}),{data:s,isFetching:m}=(0,d.R_)({url:"/api/ListGroupTemplates?id=".concat(i),queryKey:"GroupTemplate-".concat(i),waiting:!!i}),y=e=>({azurerole:"azurerole",generic:"generic",m365:"m365",dynamic:"dynamic",dynamicdistribution:"dynamicdistribution",distribution:"distribution",security:"security",Unified:"m365",Security:"generic",Distribution:"distribution","Mail-enabled security":"security","Mail Enabled Security":"security","Azure Role Group":"azurerole","Azure Active Directory Role Group":"azurerole","Security Group":"generic","Microsoft 365 Group":"m365","Microsoft 365 (Unified)":"m365","Dynamic Group":"dynamic",DynamicMembership:"dynamic","Dynamic Distribution Group":"dynamicdistribution",DynamicDistribution:"dynamicdistribution","Distribution List":"distribution"})[e]||"generic";return(0,p.useEffect)(()=>{if(s){let i=s[0];i&&t.reset({...i,groupType:y(i.groupType),tenantFilter:e.currentTenant})}},[s,t,e.currentTenant]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.A,{resetForm:!1,queryKey:["ListGroupTemplates","GroupTemplate-".concat(i)],formControl:t,title:"Edit Group Template",backButtonTitle:"Group Overview",postUrl:"/api/AddGroupTemplate",isFetching:m,backUrl:"/identity/administration/group-templates",children:[(0,r.jsx)("pre",{style:{display:"none"},children:JSON.stringify(t.watch(),null,2)}),(0,r.jsx)(n.A,{sx:{my:2},children:(0,r.jsx)(u.A,{formControl:t})})]})})};m.getLayout=e=>(0,r.jsx)(s.P,{children:e});let y=m},90240:(e,i,t)=>{"use strict";t.d(i,{A:()=>A});var r=t(37876),n=t(89099),l=t(67578),s=t(86650),a=t(22474),o=t(47737),u=t(94810),c=t(77018),d=t(54538),p=t(24933),m=t(17675),y=t(42120),x=t(22322),h=t(68723),b=t(14232),f=t(88992),j=t(2303);let A=e=>{let{title:i,backButtonTitle:t,titleButton:A,formPageType:g="Add",children:v,queryKey:G,formControl:T,postUrl:C,customDataformatter:w,resetForm:z=!1,hideBackButton:D=!1,hidePageType:E=!1,hideTitle:_=!1,hideSubmit:F=!1,allowResubmit:N=!1,addedButtons:S,...k}=e,q=(0,n.useRouter)(),L=(0,x.nN)({datafromUrl:!0,relatedQueryKeys:G}),{isValid:M,isDirty:R}=(0,f.lN)({control:T.control});return(0,b.useEffect)(()=>{if(delete q.query.tenantFilter,q.query){let e={...T.getValues(),...q.query};T.reset(e)}},[q]),(0,b.useEffect)(()=>{L.isSuccess&&z&&T.reset()},[L.isSuccess]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.v,{title:i}),(0,r.jsx)(l.A,{sx:{flexGrow:1,py:4},children:(0,r.jsx)(s.A,{maxWidth:"lg",children:(0,r.jsxs)(a.A,{spacing:4,children:[!_&&(0,r.jsxs)(a.A,{spacing:2,children:[!D&&(0,r.jsx)("div",{children:(0,r.jsx)(o.A,{color:"inherit",onClick:()=>{q.back()},startIcon:(0,r.jsx)(u.A,{fontSize:"small",children:(0,r.jsx)(y.A,{})}),children:t})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)(c.A,{variant:"h4",children:[!E&&(0,r.jsxs)(r.Fragment,{children:[g," - "]}),i]}),A&&A]})]}),(0,r.jsxs)(d.A,{children:[(0,r.jsxs)(p.A,{children:[v,(0,r.jsx)(h.v,{apiObject:L})]}),!F&&(0,r.jsx)(m.A,{sx:{justifyContent:"flex-end"},children:(0,r.jsxs)(a.A,{spacing:2,direction:"row",children:[S&&S,(0,r.jsx)(o.A,{disabled:L.isPending||!M||!N&&!R,onClick:T.handleSubmit(()=>{if(T.trigger(),!M)return;let e=w?w(T.getValues()):T.getValues();Object.keys(e).forEach(i=>{(""===e[i]||null===e[i])&&delete e[i]}),L.mutate({url:C,data:e})}),type:"submit",variant:"contained",children:"Submit"})]})})]})]})})})]})}}},e=>{var i=i=>e(e.s=i);e.O(0,[636,6593,8792],()=>i(28002)),_N_E=e.O()}]);