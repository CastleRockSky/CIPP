(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8561],{31748:(e,l,r)=>{"use strict";r.d(l,{d:()=>o});var t=r(37876),i=r(22474),a=r(37832),s=r(35764);let o=e=>{let{allTenants:l,type:r="single",valueField:o="defaultDomainName",onNextStep:n,formControl:p,currentStep:u,onPreviousStep:d,preText:m}=e;return(0,t.jsxs)(i.A,{spacing:3,children:[m,(0,t.jsx)("label",{children:"Select a tenant"}),(0,t.jsx)(s.w,{valueField:o,formControl:p,allTenants:l,type:r,preselectedEnabled:!0}),(0,t.jsx)(a.L,{currentStep:u,onPreviousStep:d,onNextStep:n,formControl:p})]})}},34412:(e,l,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/identity/administration/group-templates/deploy",function(){return r(89650)}])},89650:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>h});var t=r(37876),i=r(12435),a=r(63968),s=r(40971),o=r(31748),n=r(22474),p=r(37832),u=r(58105),d=r(46402),m=r(59568),c=r(88992),y=r(14232);let x=e=>{let{postUrl:l,formControl:r,onPreviousStep:i,onNextStep:a,currentStep:s}=e,o=(0,c.FH)({control:r.control,name:"TemplateList"});return(0,y.useEffect)(()=>{(null==o?void 0:o.value)&&(console.log(o),r.setValue("groupType",o.addedFields.groupType),r.setValue("Displayname",o.addedFields.Displayname),r.setValue("Description",o.addedFields.Description),r.setValue("username",o.addedFields.username),r.setValue("allowExternal",o.addedFields.allowExternal),r.setValue("membershipRules",o.addedFields.membershipRules))},[o]),(0,t.jsxs)(n.A,{spacing:3,children:[(0,t.jsxs)(m.A,{container:!0,spacing:3,children:[(0,t.jsx)(m.A,{size:12,children:(0,t.jsx)(u.A,{type:"autoComplete",name:"TemplateList",label:"Choose a Template",formControl:r,creatable:!1,multiple:!1,api:{excludeTenantFilter:!0,url:"/api/ListGroupTemplates",queryKey:"ListGroupTemplates",labelField:e=>"".concat(e.Displayname||e.displayName," (").concat(e.groupType,")"),valueField:"GUID",addedField:{groupType:"groupType",Displayname:"displayName",Description:"description",username:"username",allowExternal:"allowExternal",membershipRules:"membershipRules"},showRefresh:!0}})}),(0,t.jsx)(m.A,{size:12,children:(0,t.jsx)(u.A,{type:"radio",name:"groupType",label:"Group Type",formControl:r,options:[{label:"Dynamic Group",value:"dynamic"},{label:"Dynamic Distribution Group",value:"dynamicdistribution"},{label:"Security Group",value:"generic"},{label:"Distribution Group",value:"distribution"},{label:"Azure Role Group",value:"azurerole"},{label:"Mail Enabled Security Group",value:"security"}],validators:{required:"Please select a group type"}})}),(0,t.jsx)(m.A,{size:12,children:(0,t.jsx)(u.A,{type:"textField",name:"Displayname",label:"Group Display Name",formControl:r,validators:{required:"Group display name is required"}})}),(0,t.jsx)(m.A,{size:12,children:(0,t.jsx)(u.A,{type:"textField",name:"Description",label:"Group Description",formControl:r})}),(0,t.jsx)(m.A,{size:12,children:(0,t.jsx)(u.A,{type:"textField",name:"username",label:"Group Username",formControl:r})}),(0,t.jsx)(d.A,{field:"groupType",compareType:"is",compareValue:"distribution",formControl:r,children:(0,t.jsx)(m.A,{size:12,children:(0,t.jsx)(u.A,{type:"switch",name:"allowExternal",label:"Allow external emails to the group",formControl:r})})}),(0,t.jsx)(d.A,{field:"groupType",compareType:"is",compareValue:"dynamic",formControl:r,children:(0,t.jsx)(m.A,{size:12,children:(0,t.jsx)(u.A,{type:"textField",name:"membershipRules",label:"Membership Rules",formControl:r,validators:{required:"Membership rules are required"}})})}),(0,t.jsx)(d.A,{field:"groupType",compareType:"is",compareValue:"dynamicdistribution",formControl:r,children:(0,t.jsx)(m.A,{size:12,children:(0,t.jsx)(u.A,{type:"textField",name:"membershipRules",label:"Membership Rules",formControl:r,validators:{required:"Membership rules are required"}})})})]}),(0,t.jsx)(p.A,{postUrl:l,currentStep:s,onPreviousStep:i,onNextStep:a,formControl:r})]})},b=()=>{let e=[{title:"Step 1",description:"Tenant Selection",component:o.d,componentProps:{allTenants:!1,type:"multiple"}},{title:"Step 2",description:"Choose Template",component:x},{title:"Step 3",description:"Confirmation",component:a.J}];return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.A,{steps:e,postUrl:"/api/AddGroup",wizardTitle:"Group Template Deployment"})})};b.getLayout=e=>(0,t.jsx)(i.P,{children:e});let h=b}},e=>{var l=l=>e(e.s=l);e.O(0,[636,6593,8792],()=>l(34412)),_N_E=e.O()}]);